; ---------------------------------------------------------------------------

ffblk		struc ;	(sizeof=0x2C, standard type)
ff_reserved	db 21 dup(?)
ff_attrib	db ?
ff_ftime	dw ?
ff_fdate	dw ?
ff_fsize	dd ?
ff_name		db 13 dup(?)
_padding	db ?
ffblk		ends

; ---------------------------------------------------------------------------

time		struc ;	(sizeof=0x4, standard type)
ti_min		db ?
ti_hour		db ?
ti_hund		db ?
ti_sec		db ?
time		ends

; ---------------------------------------------------------------------------

date		struc ;	(sizeof=0x4, standard type)
da_year		dw ?
da_day		db ?
da_mon		db ?
date		ends

; ---------------------------------------------------------------------------

REGPACK		struc ;	(sizeof=0x14, standard type)
r_ax		dw ?
r_bx		dw ?
r_cx		dw ?
r_dx		dw ?
r_bp		dw ?
r_si		dw ?
r_di		dw ?
r_ds		dw ?
r_es		dw ?
r_flags		dw ?
REGPACK		ends

; ---------------------------------------------------------------------------

BYTEREGS	struc ;	(sizeof=0x8, standard type)
_al		db ?
_ah		db ?
_bl		db ?
_bh		db ?
_cl		db ?
_ch		db ?
_dl		db ?
_dh		db ?
BYTEREGS	ends

; ---------------------------------------------------------------------------

WORDREGS	struc ;	(sizeof=0x10, standard type)
_ax		dw ?
_bx		dw ?
_cx		dw ?
_dx		dw ?
_si		dw ?
_di		dw ?
cflag		dw ?
flags		dw ?
WORDREGS	ends

; ---------------------------------------------------------------------------

REGS		union ;	(sizeof=0x10, standard type)
x		WORDREGS ?
h		BYTEREGS ?
REGS		ends

; ---------------------------------------------------------------------------

SREGS		struc ;	(sizeof=0x8, standard type)
_es		dw ?
_cs		dw ?
_ss		dw ?
_ds		dw ?
SREGS		ends

; ---------------------------------------------------------------------------

struc_1		struc ;	(sizeof=0x8)
field_0		db ?
field_1		db ?
field_2		db ?
field_3		db ?
field_4		dd ?			; offset
struc_1		ends


; Input	MD5   :	697A09AA3C37328FB7BFA7E6C68CC432
; Input	CRC32 :	71532527

; File Name   :	R:\SCE.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	1000h Range: 10000h-2D6ECh Loaded length: 1D6ECh
; Entry	Point :	1000:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.686p
		.mmx
		.model large

; ===========================================================================

; Segment type:	Pure code
seg000		segment	byte public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:seg023, ds:nothing, fs:nothing, gs:nothing
; [00000155 BYTES: COLLAPSED FUNCTION start. PRESS KEYPAD "+" TO EXPAND]
; [00000001 BYTES: COLLAPSED FUNCTION __checknull. PRESS KEYPAD	"+" TO EXPAND]
; [00000009 BYTES: COLLAPSED FUNCTION __terminate. PRESS KEYPAD	"+" TO EXPAND]
; ---------------------------------------------------------------------------
		mov	dx, 4Bh	; 'K'
		push	ds
		push	dx
		nop
		push	cs
		call	near ptr ___ErrorMessage
		pop	dx
		pop	ds
		mov	ax, 3
		push	ax
		nop
		push	cs
		call	near ptr __exit

; =============== S U B	R O U T	I N E =======================================


sub_10174	proc near		; CODE XREF: start+25p
		push	ds
		mov	ax, 3500h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_29ADA, bx
		mov	word ptr dword_29ADA+2,	es
		mov	ax, 3504h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_29ADE, bx
		mov	word ptr dword_29ADE+2,	es
		mov	ax, 3505h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_29AE2, bx
		mov	word ptr dword_29AE2+2,	es
		mov	ax, 3506h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_29AE6, bx
		mov	word ptr dword_29AE6+2,	es
		mov	ax, 2500h
		mov	dx, cs
		mov	ds, dx
		assume ds:seg000
		mov	dx, 15Fh
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg
		retn
sub_10174	endp

; [0000002D BYTES: COLLAPSED FUNCTION __restorezero. PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================


sub_101E4	proc near		; CODE XREF: start+120p sub_101E4+3Aj	...
		mov	ax, 100h
		mov	dx, di
		mov	bx, si

loc_101EB:				; CODE XREF: sub_101E4+22j
		cmp	bx, di
		jz	short loc_10208
		cmp	byte ptr es:[bx], 0FFh
		jz	short loc_10203
		mov	cl, es:[bx+1]
		xor	ch, ch
		cmp	cx, ax
		jnb	short loc_10203
		mov	ax, cx
		mov	dx, bx

loc_10203:				; CODE XREF: sub_101E4+Fj
					; sub_101E4+19j
		add	bx, 6
		jmp	short loc_101EB
; ---------------------------------------------------------------------------

loc_10208:				; CODE XREF: sub_101E4+9j
		cmp	dx, di
		jz	short locret_10227
		mov	bx, dx
		cmp	byte ptr es:[bx], 0
		mov	byte ptr es:[bx], 0FFh
		push	es
		jz	short loc_10220
		call	dword ptr es:[bx+2]
		pop	es
		jmp	short sub_101E4
; ---------------------------------------------------------------------------

loc_10220:				; CODE XREF: sub_101E4+33j
		call	word ptr es:[bx+2]
		pop	es
		jmp	short sub_101E4
; ---------------------------------------------------------------------------

locret_10227:				; CODE XREF: sub_101E4+26j
		retn
sub_101E4	endp


; =============== S U B	R O U T	I N E =======================================


sub_10228	proc near		; CODE XREF: start+14Fp sub_10228+37j	...
		mov	ah, 0
		mov	dx, di
		mov	bx, si

loc_1022E:				; CODE XREF: sub_10228+1Fj
		cmp	bx, di
		jz	short loc_10249
		cmp	byte ptr es:[bx], 0FFh
		jz	short loc_10244
		cmp	es:[bx+1], ah
		jb	short loc_10244
		mov	ah, es:[bx+1]
		mov	dx, bx

loc_10244:				; CODE XREF: sub_10228+Ej
					; sub_10228+14j
		add	bx, 6
		jmp	short loc_1022E
; ---------------------------------------------------------------------------

loc_10249:				; CODE XREF: sub_10228+8j
		cmp	dx, di
		jz	short locret_10268
		mov	bx, dx
		cmp	byte ptr es:[bx], 0
		mov	byte ptr es:[bx], 0FFh
		push	es
		jz	short loc_10261
		call	dword ptr es:[bx+2]
		pop	es
		jmp	short sub_10228
; ---------------------------------------------------------------------------

loc_10261:				; CODE XREF: sub_10228+30j
		call	word ptr es:[bx+2]
		pop	es
		jmp	short sub_10228
; ---------------------------------------------------------------------------

locret_10268:				; CODE XREF: sub_10228+23j
		retn
sub_10228	endp

; ---------------------------------------------------------------------------
DGROUP@		dw 0			; DATA XREF: start+3w start+ACr ...
__MMODEL	db 4, 0C0h, 34h	dup(0)
byte_102A1	db 0			; DATA XREF: seg000:04C7r
					; seg000:loc_104F3r
word_102A2	dw 0FFFFh		; DATA XREF: seg000:04CEr seg000:04FAr ...
		db 0
byte_102A5	db 0			; DATA XREF: seg000:0518w
		align 4
		db 80h,	7Fh, 50h, 32h, 0C0h, 0E6h, 0F0h, 0B0h, 20h, 0E6h
		db 0A0h, 0E6h, 20h, 58h, 0CDh, 2, 0CFh,	50h, 0B0h, 20h
		db 0E6h, 8, 0EBh, 0, 0B0h, 0Bh,	0E6h, 8, 0EBh, 0, 0E4h
		db 8, 0Ah, 0C0h, 75h, 4, 0B0h, 20h, 0E6h, 0, 58h, 0EBh
		db 0
off_102D3	dd 29A8B850h		; DATA XREF: seg000:049Co
		db 9Ah,	40h, 0
		dw seg seg017
		db 72h,	6, 58h,	0EAh, 4	dup(0),	93h, 0B8h
		dw seg dseg
; ---------------------------------------------------------------------------
		mov	ds, ax
		call	sub_10E09
		pop	ax

locret_102EE:				; DATA XREF: seg000:04B3o
		iret
; ---------------------------------------------------------------------------
		db 1Eh,	56h, 57h, 0B8h
		dw seg dseg
aO		db 'ŽØ¸Õ',0
a6gq		db '6£Ÿ',0
		db 5, 0C0h, 0, 36h, 0A3h, 0A1h,	0, 0A1h, 0C0h, 1Ah, 36h
		db 0A3h, 97h, 0, 1Eh, 0Eh, 1Fh,	8Ch, 0D8h, 36h,	33h, 6
		db 97h,	0, 8Eh,	0D8h, 0B8h, 34h, 35h, 0B9h, 0Bh, 0, 0BFh
		db 6Dh,	2, 0CDh, 21h, 89h, 1Dh,	8Ch, 45h, 2, 83h, 0C7h
		db 4, 40h, 0E2h, 0F3h, 1Eh, 57h, 0B1h, 0, 0B8h
		dw seg dseg
		db 8Eh,	0D8h, 83h, 3Eh,	0D0h, 1Ah, 0, 74h, 14h,	0B4h, 4
		db 33h,	0C9h, 0CDh, 1Ah, 0B1h, 2, 80h, 0FDh, 19h, 74h
		db 7, 80h, 0FDh, 20h, 74h, 2, 0B1h, 1, 5Fh, 1Fh, 88h, 0Eh
		db 0A1h, 2, 80h, 0F9h, 2, 75h, 12h, 0B8h, 75h, 35h, 0CDh
		db 21h,	89h, 1Dh, 8Ch, 45h, 2, 83h, 0C7h, 4, 0B8h, 2, 35h
		db 0EBh, 17h, 80h, 0F9h, 1, 75h, 29h, 54h, 58h,	3Bh, 0C4h
		db 0B8h, 10h, 35h, 74h,	9, 0E4h, 0Ah, 24h, 40h,	0A2h, 0A4h
		db 2, 0B0h, 16h, 8Ah, 0D8h, 0B7h, 25h, 89h, 1Eh, 0A2h
		db 2, 0CDh, 21h, 89h, 1Dh, 8Ch,	45h, 2,	89h, 1Eh, 0E0h
		db 2, 8Ch, 6, 0E2h, 2, 1Fh, 0BBh, 2 dup(0FFh), 8Eh, 6
		db 7Ah,	0, 26h,	8Eh, 6,	2Ch, 0,	2Bh, 0FFh, 0B9h, 0FFh
		db 7Fh,	0B0h, 0, 0FCh, 0F2h, 0AEh, 0E3h, 1Fh, 26h, 3Ah
		db 5, 74h, 1Ah,	26h, 81h, 3Dh, 38h, 37h, 75h, 0F0h, 26h
		db 8Bh,	55h, 2,	80h, 0FAh, 3Dh,	75h, 0E7h, 43h,	80h, 0E6h
		db 0DFh, 80h, 0FEh, 59h, 75h, 1, 43h, 5Fh, 5Eh,	33h, 0C0h
		db 0Bh,	0DBh, 74h, 5Dh,	7Fh, 3Ch, 8Bh, 0Eh, 0D0h, 1Ah
		db 0E3h, 58h, 0DBh, 0E3h, 0C7h,	6, 0D0h, 1Ah, 2	dup(0)
		db 0D9h, 3Eh, 0D0h, 1Ah, 0B9h, 14h, 0, 0E2h, 0FEh, 8Bh
		db 0Eh,	0D0h, 1Ah, 81h,	0E1h, 3Fh, 0Fh,	81h, 0F9h, 3Fh
		db 3, 75h, 35h,	0C7h, 6, 0D0h, 1Ah, 2 dup(0FFh), 0DDh
		db 3Eh,	0D0h, 1Ah, 0B9h, 14h, 0, 0E2h, 0FEh, 0F7h, 6, 0D0h
		db 1Ah,	0BFh, 0B8h, 75h, 1Eh, 40h, 54h,	59h, 3Bh, 0CCh
		db 75h,	17h, 0DBh, 0E3h, 2Eh, 0D9h, 6, 0A6h, 2,	0D9h, 0E0h
		db 2Eh,	0D8h, 1Eh, 0A6h, 2, 9Bh, 0DFh, 0E0h, 9Eh, 0B0h
		db 2, 74h, 1, 40h, 98h,	0A3h, 0D0h, 1Ah, 36h, 0A2h, 96h
		db 0, 1Fh, 1Eh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 8
		mov	bx, seg	dseg
		mov	ds, bx
		cmp	word_2B550, 0
		mov	word ptr [bp-8], offset	e087_Entry
		mov	word ptr [bp-6], seg seg017
		mov	word ptr [bp-4], offset	e087_Shortcut
		mov	word ptr [bp-2], seg seg017
		jnz	short loc_1047D
		mov	word ptr [bp-8], offset	loc_27EA7
		mov	word ptr [bp-6], seg seg018
		mov	word ptr [bp-4], offset	loc_28435
		mov	word ptr [bp-2], seg seg018

loc_1047D:				; CODE XREF: seg000:0467j
		mov	ax, 2534h
		mov	cx, 0Ah
		lds	dx, [bp-8]

loc_10486:				; CODE XREF: seg000:0489j
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		inc	ax
		loop	loc_10486
		mov	ax, 253Eh
		lds	dx, [bp-4]
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		mov	ds, bx
		cmp	word_2B550, 0
		jnz	short loc_104C5
		mov	word ptr ss:0D1h, offset off_102D3
		mov	word ptr ss:0D3h, cs
		push	cs
		pop	ds
		assume ds:seg000
		mov	ax, ds
		xor	ax, ss:97h
		mov	ds, ax
		assume ds:dseg
		mov	word_29D60, offset locret_102EE
		mov	word_29D62, cs
		mov	word_29D22, 0FFFFh
		jmp	short loc_10516
; ---------------------------------------------------------------------------

loc_104C5:				; CODE XREF: seg000:049Aj
		push	cs
		pop	ds
		assume ds:seg000
		cmp	byte_102A1, 2
		jnz	short loc_104F3
		mov	ax, word_102A2
		mov	dx, 2D3h
		int	21h		; DOS -	DOS v??? - OEM FUNCTION
		mov	ds, bx
		assume ds:dseg
		cmp	word_2B550, 0
		jz	short loc_10516
		mov	ax, word_29AFC
		xchg	ah, al
		cmp	ax, 1403h
		jnz	short loc_10516
		mov	ax, 2575h
		push	cs
		pop	ds
		assume ds:seg000
		mov	dx, 2AAh
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt

loc_104F3:				; CODE XREF: seg000:04CCj
		cmp	byte_102A1, 1
		jnz	short loc_10516
		mov	ax, word_102A2
		mov	dx, 2D3h
		cmp	al, 16h
		jnz	short loc_10507
		mov	dx, 2B9h

loc_10507:				; CODE XREF: seg000:0502j
		int	21h		; DOS -	DOS v??? - OEM FUNCTION
		cmp	al, 16h
		jnz	short loc_10516
		pushf
		cli
		in	al, 0Ah		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		and	al, 0BFh
		out	0Ah, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		popf

loc_10516:				; CODE XREF: seg000:04C3j seg000:04DDj ...
		mov	ds, bx
		assume ds:dseg
		mov	cs:byte_102A5, 1
		fninit			; (emulator call)
		mov	word ptr ss:0B1h, 0
		mov	word ptr ss:0B3h, 0
		mov	ax, word_2B538
		mov	[bp-8],	ax
		cmp	word_2B550, 3
		jl	short loc_10540
		or	word ptr [bp-8], 2

loc_10540:				; CODE XREF: seg000:053Aj
		push	si
		fldcw	word ptr [bp-8]	; (emulator call)
		pop	si
		mov	ax, [bp-8]
		and	ss:92h,	ax
		xor	ax, ax
		cwd
		mov	sp, bp
		pop	bp
		pop	ds
		retn
; ---------------------------------------------------------------------------
		dd 29A8B81Eh
		db 8Eh,	0D8h, 2Eh, 80h,	3Eh, 0A5h, 2, 0, 74h, 56h, 1Eh
		db 0CDh, 37h, 0E3h, 0B8h, 34h, 25h, 0BBh, 6Dh, 2, 0B9h
		db 0Bh,	0, 2Eh,	0C5h, 17h, 0CDh, 21h, 83h, 0C3h, 4, 40h
		db 0E2h, 0F5h, 1Fh, 83h, 3Eh, 0D0h, 1Ah, 0, 74h, 36h, 2Eh
		db 80h,	3Eh, 0A1h, 2 dup(2), 75h, 0Bh, 0B8h, 75h, 25h
		db 2Eh,	0C5h, 17h, 0CDh, 21h, 83h, 0C3h, 4, 2Eh, 0A1h
		db 0A2h, 2, 2Eh, 80h, 3Eh, 0A1h, 2, 1, 75h, 12h, 3Ch, 16h
		db 75h,	0Eh, 92h, 9Ch, 0FAh, 0E4h, 0Ah,	2Eh, 0Ah, 6, 0A4h
		db 2, 0E6h, 0Ah, 9Dh, 92h, 2Eh,	0C5h, 17h, 0CDh, 21h, 2Eh
		db 0C6h, 6, 0A5h, 2, 0,	1Fh, 0C3h

; =============== S U B	R O U T	I N E =======================================


sub_105C2	proc far		; CODE XREF: sub_28469:loc_284A6P
		mov	ax, cs:word_102A2
		retf
sub_105C2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_105C7(double, long double, int)
sub_105C7	proc near		; CODE XREF: seg000:0BA4p seg000:0BDFp

var_C		= qword	ptr -0Ch
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= qword	ptr  4
arg_8		= tbyte	ptr  0Ch
arg_12		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		xor	cx, cx
		mov	ax, 43FEh
		mov	bx, 3BCDh
		cmp	[bp+arg_12], 0
		jnz	short loc_105E1
		mov	ax, 407Eh
		mov	bx, 3F6Ah

loc_105E1:				; CODE XREF: sub_105C7+12j
		mov	dx, word ptr [bp+arg_8+8]
		shl	dx, 1
		rcl	cx, 1
		shr	dx, 1
		cmp	dx, 7FFFh
		jz	short loc_1065F
		cmp	dx, ax
		jz	short loc_105FC
		jle	short loc_10635
		fld	[bp+arg_0]	; (emulator call)
		jmp	short loc_1064C
; ---------------------------------------------------------------------------

loc_105FC:				; CODE XREF: sub_105C7+2Bj
		fnstcw	[bp+var_2]	; (emulator call)
		mov	ax, 0C00h
		wait			; (emulator call)
		or	ax, [bp+var_2]
		mov	[bp+var_4], ax
		fldcw	[bp+var_4]	; (emulator call)
		fld	[bp+arg_8]	; (emulator call)
		cmp	[bp+arg_12], 0
		jnz	short loc_10623
		fstp	dword ptr [bp+arg_0] ; (emulator call)
		fld	dword ptr [bp+arg_0] ; (emulator call)
		jmp	short loc_1062B
; ---------------------------------------------------------------------------

loc_10623:				; CODE XREF: sub_105C7+50j
		fstp	[bp+arg_0]	; (emulator call)
		fld	[bp+arg_0]	; (emulator call)

loc_1062B:				; CODE XREF: sub_105C7+5Aj
		fldcw	[bp+var_2]	; (emulator call)
		mov	sp, bp
		pop	bp
		retn	14h
; ---------------------------------------------------------------------------

loc_10635:				; CODE XREF: sub_105C7+2Dj
		mov	ax, dx
		or	ax, word ptr [bp+arg_8+6]
		or	ax, word ptr [bp+arg_8+4]
		or	ax, word ptr [bp+arg_8+2]
		or	ax, word ptr [bp+arg_8]
		jz	short loc_1065F
		cmp	dx, bx
		jge	short loc_1065F
		fldz			; (emulator call)

loc_1064C:				; CODE XREF: sub_105C7+33j
		or	cx, cx
		jz	short loc_10653
		fchs			; (emulator call)

loc_10653:				; CODE XREF: sub_105C7+87j
		mov	word_29AFE, 22h	; '"'
		mov	sp, bp
		pop	bp
		retn	14h
; ---------------------------------------------------------------------------

loc_1065F:				; CODE XREF: sub_105C7+27j
					; sub_105C7+7Cj ...
		cmp	[bp+arg_12], 0
		jz	short loc_10673
		fld	[bp+arg_8]	; (emulator call)
		fstp	[bp+var_C]	; (emulator call)
		fld	[bp+var_C]	; (emulator call)
		jmp	short loc_1067F
; ---------------------------------------------------------------------------

loc_10673:				; CODE XREF: sub_105C7+9Cj
		fld	[bp+arg_8]	; (emulator call)
		fstp	dword ptr [bp+var_C] ; (emulator call)
		fld	dword ptr [bp+var_C] ; (emulator call)

loc_1067F:				; CODE XREF: sub_105C7+AAj
		mov	sp, bp
		pop	bp
		retn	14h
sub_105C7	endp

; [00000022 BYTES: COLLAPSED FUNCTION unknown_libname_1. PRESS KEYPAD "+" TO EXPAND]
; [000001A9 BYTES: COLLAPSED FUNCTION sub_106A7. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		pop	bp
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 1Ah
		push	si
		push	di
		mov	byte ptr [bp-5], 0
		mov	byte ptr [bp-6], 1
		mov	byte ptr [bp-7], 0
		mov	byte ptr [bp-8], 0
		mov	byte ptr [bp-9], 0
		mov	word ptr [bp-0Ch], 0
		mov	word ptr [bp-0Eh], 1
		fldz			; (emulator call)
		fstp	tbyte ptr [bp-18h] ; (emulator call)
		wait			; (emulator call)
		les	bx, off_2BA86
		mov	al, es:[bx]
		mov	[bp-19h], al
		mov	si, 8000h
		mov	di, 0FFFEh

loc_10894:				; CODE XREF: seg000:08B5j
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx
		or	ax, ax
		jge	short loc_108A9
		jmp	loc_1092B
; ---------------------------------------------------------------------------

loc_108A9:				; CODE XREF: seg000:08A4j
		cbw
		xchg	ax, bx
		test	bl, 80h
		jnz	short loc_108B7
		test	byte ptr [bx+1F05h], 1
		jnz	short loc_10894

loc_108B7:				; CODE XREF: seg000:08AEj
		xchg	ax, bx
		dec	word ptr [bp+0Ch]
		jl	short loc_10926
		cmp	al, 2Bh	; '+'
		jz	short loc_108C8
		cmp	al, 2Dh	; '-'
		jnz	short loc_108FA
		inc	byte ptr [bp-5]

loc_108C8:				; CODE XREF: seg000:08BFj
		inc	byte ptr [bp-7]

loc_108CB:				; CODE XREF: seg000:0919j seg000:0921j ...
		dec	word ptr [bp+0Ch]
		jl	short loc_10926
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx
		cmp	byte ptr [bp-6], 1
		jnz	short loc_108FA
		cmp	byte ptr [bp-7], 0
		jz	short loc_108FA
		cmp	al, 49h	; 'I'
		jz	short loc_108F4
		cmp	al, 4Eh	; 'N'
		jz	short loc_108F7
		jmp	short loc_108FA
; ---------------------------------------------------------------------------

loc_108F4:				; CODE XREF: seg000:08ECj
		jmp	loc_10AD7
; ---------------------------------------------------------------------------

loc_108F7:				; CODE XREF: seg000:08F0j
		jmp	loc_10B19
; ---------------------------------------------------------------------------

loc_108FA:				; CODE XREF: seg000:08C3j seg000:08E2j ...
		mov	byte ptr [bp-6], 0
		cmp	al, [bp-19h]
		jz	short loc_10935
		cmp	al, 39h	; '9'
		ja	short loc_10932
		cmp	al, 30h	; '0'
		jb	short loc_10932
		sub	al, 30h	; '0'
		cbw
		inc	di
		jg	short loc_10945
		mov	[bp-18h], al
		mov	di, 1
		or	al, al
		jnz	short loc_108CB
		neg	di
		cmp	si, 8000h
		jz	short loc_108CB
		dec	si
		jmp	short loc_108CB
; ---------------------------------------------------------------------------

loc_10926:				; CODE XREF: seg000:08BBj seg000:08CEj
		mov	al, 65h	; 'e'

loc_10928:				; CODE XREF: seg000:0939j
		jmp	loc_109BB
; ---------------------------------------------------------------------------

loc_1092B:				; CODE XREF: seg000:08A6j
		mov	word ptr [bp-0Eh], 0FFFFh
		jmp	short loc_1099F
; ---------------------------------------------------------------------------

loc_10932:				; CODE XREF: seg000:0905j seg000:0909j
		jmp	loc_109BB
; ---------------------------------------------------------------------------

loc_10935:				; CODE XREF: seg000:0901j
		cmp	si, 8000h
		jnz	short loc_10928
		sub	si, si
		or	di, di
		jle	short loc_108CB
		mov	si, di
		jmp	short loc_108CB
; ---------------------------------------------------------------------------

loc_10945:				; CODE XREF: seg000:090Fj
		cmp	di, 5
		ja	short loc_1095E
		xchg	ax, bx
		mov	ax, 0Ah
		mul	word ptr [bp-18h]
		add	ax, bx
		adc	dl, dh
		mov	[bp-18h], ax
		mov	[bp-16h], dx
		jmp	loc_108CB
; ---------------------------------------------------------------------------

loc_1095E:				; CODE XREF: seg000:0948j
		cmp	di, 12h
		ja	short loc_10997
		xchg	ax, bx
		mov	ax, 0Ah
		mul	word ptr [bp-12h]
		mov	[bp-12h], ax
		mov	ax, 0Ah
		mul	word ptr [bp-14h]
		mov	[bp-14h], ax
		push	dx
		mov	ax, 0Ah
		mul	word ptr [bp-16h]
		mov	[bp-16h], ax
		push	dx
		mov	ax, 0Ah
		mul	word ptr [bp-18h]
		add	ax, bx
		mov	[bp-18h], ax
		adc	[bp-16h], dx
		pop	dx
		adc	[bp-14h], dx
		pop	dx
		adc	[bp-12h], dx

loc_10997:				; CODE XREF: seg000:0961j
		jmp	loc_108CB
; ---------------------------------------------------------------------------

loc_1099A:				; CODE XREF: seg000:09BEj seg000:0B62j
		mov	word ptr [bp-0Eh], 0

loc_1099F:				; CODE XREF: seg000:0930j
		cmp	word ptr [bp+0Ch], 0
		jl	short loc_109B5
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	ax
		call	ss:word_29A86[bp]
		add	sp, 6
		dec	word ptr [bp-0Ch]

loc_109B5:				; CODE XREF: seg000:09A3j
		fldz			; (emulator call)
		jmp	loc_10AB9
; ---------------------------------------------------------------------------

loc_109BB:				; CODE XREF: seg000:loc_10928j
					; seg000:loc_10932j
		cmp	di, 0FFFEh
		jz	short loc_1099A
		cmp	si, 8000h
		jnz	short loc_109C8
		mov	si, di

loc_109C8:				; CODE XREF: seg000:09C4j
		mov	[bp-4],	di
		mov	[bp-2],	si
		sub	di, di
		cmp	al, 45h	; 'E'
		jz	short loc_109D8
		cmp	al, 65h	; 'e'
		jnz	short loc_10A2A

loc_109D8:				; CODE XREF: seg000:09D2j
		dec	word ptr [bp+0Ch]
		jl	short loc_10A3A
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx
		cmp	al, 2Bh	; '+'
		jz	short loc_109F6
		cmp	al, 2Dh	; '-'
		jnz	short loc_10A09
		inc	byte ptr [bp-8]

loc_109F6:				; CODE XREF: seg000:09EDj seg000:0A1Ej ...
		dec	word ptr [bp+0Ch]
		jl	short loc_10A3A
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx

loc_10A09:				; CODE XREF: seg000:09F1j
		cmp	al, 39h	; '9'
		ja	short loc_10A2A
		sub	al, 30h	; '0'
		jb	short loc_10A28
		cbw
		xchg	ax, di
		mov	dx, 0Ah
		mul	dx
		add	di, ax
		cmp	di, 1344h
		jle	short loc_109F6
		xor	di, di
		mov	byte ptr [bp-9], 1
		jmp	short loc_109F6
; ---------------------------------------------------------------------------

loc_10A28:				; CODE XREF: seg000:0A0Fj
		add	al, 30h	; '0'

loc_10A2A:				; CODE XREF: seg000:09D6j seg000:0A0Bj
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	ax
		call	ss:word_29A86[bp]
		add	sp, 6
		dec	word ptr [bp-0Ch]

loc_10A3A:				; CODE XREF: seg000:09DBj seg000:09F9j
		test	byte ptr [bp-8], 0FFh
		jz	short loc_10A45
		neg	di
		neg	byte ptr [bp-9]

loc_10A45:				; CODE XREF: seg000:0A3Ej
		mov	bx, [bp-4]
		or	bx, bx
		jge	short loc_10A51
		fldz			; (emulator call)
		jmp	short loc_10AB9
; ---------------------------------------------------------------------------

loc_10A51:				; CODE XREF: seg000:0A4Aj
		mov	cx, [bp-2]
		mov	ax, cx
		add	ax, di
		cmp	byte ptr [bp-9], 1
		jz	short loc_10A69
		cmp	byte ptr [bp-9], 0FFh
		jnz	short loc_10A88
		fldz			; (emulator call)
		jmp	short loc_10A81
; ---------------------------------------------------------------------------

loc_10A69:				; CODE XREF: seg000:0A5Cj
		mov	ax, 0FFFFh
		mov	[bp-18h], ax
		mov	[bp-16h], ax
		mov	[bp-14h], ax
		mov	[bp-12h], ax
		mov	word ptr [bp-10h], 7FFEh
		fld	tbyte ptr [bp-18h] ; (emulator call)

loc_10A81:				; CODE XREF: seg000:0A67j
		mov	word ptr [bp-0Eh], 2
		jmp	short loc_10AB9
; ---------------------------------------------------------------------------

loc_10A88:				; CODE XREF: seg000:0A62j
		mov	ax, bx
		cmp	bx, 12h
		jbe	short loc_10A92
		mov	bx, 12h

loc_10A92:				; CODE XREF: seg000:0A8Dj
		add	ax, cx
		sub	cx, bx
		add	di, cx
		fild	qword ptr [bp-18h] ; (emulator call)
		mov	ax, di
		or	ax, ax
		jz	short loc_10AB9
		jge	short loc_10AA6
		neg	ax

loc_10AA6:				; CODE XREF: seg000:0AA2j
		push	ax
		nop
		push	cs
		call	near ptr _pow10
		pop	ax
		or	di, di
		jge	short loc_10AB6
		fdivp	st(1), st	; (emulator call)
		jmp	short loc_10AB9
; ---------------------------------------------------------------------------

loc_10AB6:				; CODE XREF: seg000:0AAFj
		fmulp	st(1), st	; (emulator call)

loc_10AB9:				; CODE XREF: seg000:09B8j seg000:0A4Fj ...
		cmp	byte ptr [bp-5], 0
		jz	short loc_10AC2
		fchs			; (emulator call)

loc_10AC2:				; CODE XREF: seg000:0ABDj seg000:0B10j ...
		les	di, [bp+0Eh]
		mov	bx, [bp-0Ch]
		add	es:[di], bx
		les	di, [bp+12h]
		mov	bx, [bp-0Eh]
		mov	es:[di], bx
		jmp	loc_10B65
; ---------------------------------------------------------------------------

loc_10AD7:				; CODE XREF: seg000:loc_108F4j
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx
		dec	word ptr [bp+0Ch]
		jl	short loc_10B5D
		cmp	al, 4Eh	; 'N'
		jnz	short loc_10B5D
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx
		dec	word ptr [bp+0Ch]
		jl	short loc_10B5D
		cmp	al, 46h	; 'F'
		jnz	short loc_10B5D
		cmp	byte ptr [bp-5], 0
		jz	short loc_10B12
		fld	flt_2B5BE	; (emulator call)
		jmp	short loc_10AC2
; ---------------------------------------------------------------------------

loc_10B12:				; CODE XREF: seg000:0B09j
		fld	flt_2B5BA	; (emulator call)
		jmp	short loc_10AC2
; ---------------------------------------------------------------------------

loc_10B19:				; CODE XREF: seg000:loc_108F7j
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx
		dec	word ptr [bp+0Ch]
		jl	short loc_10B5D
		cmp	al, 41h	; 'A'
		jnz	short loc_10B5D
		inc	word ptr [bp-0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		call	ss:word_29A84[bp]
		pop	cx
		pop	cx
		dec	word ptr [bp+0Ch]
		jl	short loc_10B5D
		cmp	al, 4Eh	; 'N'
		jnz	short loc_10B5D
		cmp	byte ptr [bp-5], 0
		jz	short loc_10B55
		fld	flt_2B5C6	; (emulator call)
		jmp	loc_10AC2
; ---------------------------------------------------------------------------

loc_10B55:				; CODE XREF: seg000:0B4Bj
		fld	flt_2B5C2	; (emulator call)
		jmp	loc_10AC2
; ---------------------------------------------------------------------------

loc_10B5D:				; CODE XREF: seg000:0AE8j seg000:0AECj ...
		mov	word ptr [bp-0Eh], 0
		jmp	loc_1099A
; ---------------------------------------------------------------------------

loc_10B65:				; CODE XREF: seg000:0AD4j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		fstp	st		; (emulator call)
		pop	bp
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		mov	si, [bp+8]
		fstp	tbyte ptr [bp-0Ah] ; (emulator call)
		test	si, 4
		jz	short loc_10BB0
		mov	ax, 1
		push	ax
		fld	tbyte ptr [bp-0Ah] ; (emulator call)
		sub	sp, 0Ah
		fstp	tbyte ptr [bp-18h] ; (emulator call)
		fld	dbl_2B556	; (emulator call)
		sub	sp, 8
		fstp	qword ptr [bp-20h] ; (emulator call)
		wait			; (emulator call)
		call	sub_105C7
		les	bx, [bp+4]
		fstp	qword ptr es:[bx] ; (emulator call)
		jmp	short loc_10BE9
; ---------------------------------------------------------------------------

loc_10BB0:				; CODE XREF: seg000:0B85j
		test	si, 8
		jz	short loc_10BC3
		les	bx, [bp+4]
		fld	tbyte ptr [bp-0Ah] ; (emulator call)
		fstp	tbyte ptr es:[bx] ; (emulator call)
		jmp	short loc_10BE9
; ---------------------------------------------------------------------------

loc_10BC3:				; CODE XREF: seg000:0BB4j
		xor	ax, ax
		push	ax
		fld	tbyte ptr [bp-0Ah] ; (emulator call)
		sub	sp, 0Ah
		fstp	tbyte ptr [bp-18h] ; (emulator call)
		fld	dbl_2B5CA	; (emulator call)
		sub	sp, 8
		fstp	qword ptr [bp-20h] ; (emulator call)
		wait			; (emulator call)
		call	sub_105C7
		les	bx, [bp+4]
		fstp	dword ptr es:[bx] ; (emulator call)

loc_10BE9:				; CODE XREF: seg000:0BAEj seg000:0BC1j
		wait			; (emulator call)
		pop	si
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_10BF5	proc near		; CODE XREF: sub_106A7+61p

var_10		= tbyte	ptr -10h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah
arg_A		= word ptr  0Eh
arg_C		= dword	ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 10h
		push	si
		push	di
		mov	[bp+var_2], 8000h
		mov	[bp+var_4], 0Ah
		push	es
		les	di, [bp+arg_C]
		mov	ax, 7FFFh
		mov	bx, [bp+arg_0]
		mov	cx, es:[bx+di]
		and	[bp+var_2], cx
		and	es:[bx+di], ax
		shr	bx, 1
		shr	bx, 1
		shl	bx, 1
		jmp	cs:off_10C25[bx]
; ---------------------------------------------------------------------------
off_10C25	dw offset loc_10C2B	; DATA XREF: sub_10BF5+2Br
		dw offset loc_10C31
		dw offset loc_10C37
; ---------------------------------------------------------------------------

loc_10C2B:				; CODE XREF: sub_10BF5+2Bj
					; DATA XREF: sub_10BF5:off_10C25o
		fld	dword ptr es:[di] ; (emulator call)
		jmp	short loc_10C48
; ---------------------------------------------------------------------------

loc_10C31:				; CODE XREF: sub_10BF5+2Bj
					; DATA XREF: sub_10BF5+32o
		fld	qword ptr es:[di] ; (emulator call)
		jmp	short loc_10C48
; ---------------------------------------------------------------------------

loc_10C37:				; CODE XREF: sub_10BF5+2Bj
					; DATA XREF: sub_10BF5+34o
		and	ax, es:[di+8]
		cmp	ax, 7FFFh
		jz	short loc_10C44
		and	byte ptr es:[di], 0F0h

loc_10C44:				; CODE XREF: sub_10BF5+49j
		fld	tbyte ptr es:[di] ; (emulator call)

loc_10C48:				; CODE XREF: sub_10BF5+3Aj
					; sub_10BF5+40j
		xor	bx, bx
		shl	cx, 1
		rcl	bx, 1
		les	di, [bp+arg_6]
		mov	es:[di], bx
		fxam			; (emulator call)
		fnstsw	[bp+var_6]	; (emulator call)
		wait			; (emulator call)
		mov	ax, [bp+var_6]
		and	ah, 47h
		cmp	ah, 40h	; '@'
		jz	short loc_10C7E
		cmp	ah, 5
		jz	short loc_10C79
		cmp	ah, 1
		jz	short loc_10C74
		jmp	short loc_10CAC
; ---------------------------------------------------------------------------

loc_10C74:				; CODE XREF: sub_10BF5+7Bj
		mov	dx, 7FFEh
		jmp	short loc_10CA6
; ---------------------------------------------------------------------------

loc_10C79:				; CODE XREF: sub_10BF5+76j
		mov	dx, 7FFFh
		jmp	short loc_10CA6
; ---------------------------------------------------------------------------

loc_10C7E:				; CODE XREF: sub_10BF5+71j
					; sub_10BF5+EAj ...
		mov	dx, 1
		mov	al, 30h	; '0'
		les	di, [bp+arg_6]
		mov	word ptr es:[di], 0
		mov	cx, [bp+arg_A]
		or	cx, cx
		jg	short loc_10C95
		neg	cx
		inc	cx

loc_10C95:				; CODE XREF: sub_10BF5+9Bj
		cmp	cx, 28h	; '('
		jbe	short loc_10C9D
		mov	cx, 28h	; '('

loc_10C9D:				; CODE XREF: sub_10BF5+A3j
		cld
		les	di, [bp+arg_2]
		rep stosb
		xor	al, al
		stosb

loc_10CA6:				; CODE XREF: sub_10BF5+82j
					; sub_10BF5+87j
		fstp	st		; (emulator call)
		jmp	loc_10DF1
; ---------------------------------------------------------------------------

loc_10CAC:				; CODE XREF: sub_10BF5+7Dj
		fld	st		; (emulator call)
		fstp	[bp+var_10]	; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_10+8]
		sub	ax, 3FFFh
		mov	dx, 4D10h
		imul	dx
		xchg	ax, bx
		mov	ah, 4Dh	; 'M'
		mov	al, byte ptr [bp+var_10+7]
		shl	al, 1
		mul	ah
		add	ax, bx
		adc	dx, 0
		neg	ax
		adc	dx, 0
		mov	ax, [bp+arg_A]
		or	ax, ax
		jg	short loc_10CE1
		neg	ax
		add	ax, dx
		jl	short loc_10C7E

loc_10CE1:				; CODE XREF: sub_10BF5+E4j
		cmp	ax, 12h
		jle	short loc_10CE9
		mov	ax, 12h

loc_10CE9:				; CODE XREF: sub_10BF5+EFj
		mov	bx, ax
		sub	ax, dx

loc_10CED:				; CODE XREF: sub_10BF5+118j
					; sub_10BF5+120j
		jz	short loc_10D17
		mov	si, ax
		jge	short loc_10CF5
		neg	ax

loc_10CF5:				; CODE XREF: sub_10BF5+FCj
		cmp	ax, 1344h
		jle	short loc_10CFD
		mov	ax, 1344h

loc_10CFD:				; CODE XREF: sub_10BF5+103j
		push	ax		; p
		nop
		push	cs
		call	near ptr _pow10
		pop	ax
		or	si, si
		jg	short loc_10D0F
		fdivp	st(1), st	; (emulator call)
		add	ax, si
		jmp	short loc_10CED
; ---------------------------------------------------------------------------

loc_10D0F:				; CODE XREF: sub_10BF5+111j
		fmulp	st(1), st	; (emulator call)
		xchg	ax, si
		sub	ax, si
		jmp	short loc_10CED
; ---------------------------------------------------------------------------

loc_10D17:				; CODE XREF: sub_10BF5:loc_10CEDj
		push	bx		; p
		nop
		push	cs
		call	near ptr _pow10
		pop	ax
		fcomp	st(1)		; (emulator call)
		fnstsw	[bp+var_6]	; (emulator call)
		wait			; (emulator call)
		test	byte ptr [bp+var_6+1], 45h
		jz	short loc_10D41
		inc	dx
		inc	bx
		cmp	bx, 12h
		ja	short loc_10D3A
		cmp	[bp+arg_A], 0
		jle	short loc_10D67

loc_10D3A:				; CODE XREF: sub_10BF5+13Dj
		fidiv	[bp+var_4]	; (emulator call)
		dec	bx
		jmp	short loc_10D67
; ---------------------------------------------------------------------------

loc_10D41:				; CODE XREF: sub_10BF5+136j
		mov	ax, bx
		dec	ax
		push	ax		; p
		nop
		push	cs
		call	near ptr _pow10
		pop	ax
		fcomp	st(1)		; (emulator call)
		fnstsw	[bp+var_6]	; (emulator call)
		wait			; (emulator call)
		test	byte ptr [bp+var_6+1], 41h
		jnz	short loc_10D67
		dec	dx
		dec	bx
		cmp	[bp+arg_A], 0
		jle	short loc_10D67
		fimul	[bp+var_4]	; (emulator call)
		inc	bx

loc_10D67:				; CODE XREF: sub_10BF5+143j
					; sub_10BF5+14Aj ...
		or	bx, bx
		jl	short loc_10D90
		frndint			; (emulator call)
		fbstp	[bp+var_10]	; (emulator call)
		les	di, [bp+arg_2]
		add	di, bx
		push	di
		xor	al, al
		std
		stosb
		lea	si, [bp+var_10]
		mov	cx, 4
		wait			; (emulator call)
		or	bx, bx
		jnz	short loc_10D97
		mov	ch, ss:[si]
		xor	ch, 1
		jz	short loc_10DB2

loc_10D90:				; CODE XREF: sub_10BF5+174j
		fldz			; (emulator call)
		pop	di
		jmp	loc_10C7E
; ---------------------------------------------------------------------------

loc_10D97:				; CODE XREF: sub_10BF5+191j
					; sub_10BF5+1BBj
		mov	al, ss:[si]
		inc	si
		mov	ah, al
		shr	ah, cl
		and	al, 0Fh
		add	ax, 3030h
		stosb
		or	ch, al
		dec	bx
		jz	short loc_10DB2
		mov	al, ah
		stosb
		or	ch, al
		dec	bx
		jnz	short loc_10D97

loc_10DB2:				; CODE XREF: sub_10BF5+199j
					; sub_10BF5+1B3j
		pop	bx
		and	ch, 0Fh
		jnz	short loc_10DC9
		inc	dx
		cmp	[bp+arg_A], 0
		jg	short loc_10DC3
		mov	byte ptr es:[bx], 30h ;	'0'

loc_10DC3:				; CODE XREF: sub_10BF5+1C8j
		inc	bx
		mov	byte ptr es:[di+1], 31h	; '1'

loc_10DC9:				; CODE XREF: sub_10BF5+1C1j
		mov	cx, [bp+arg_A]
		or	cx, cx
		jg	short loc_10DD4
		neg	cx
		add	cx, dx

loc_10DD4:				; CODE XREF: sub_10BF5+1D9j
		cmp	cx, 28h	; '('
		jbe	short loc_10DDC
		mov	cx, 28h	; '('

loc_10DDC:				; CODE XREF: sub_10BF5+1E2j
		mov	byte ptr es:[bx], 0
		mov	ax, bx
		sub	ax, word ptr [bp+arg_2]
		sub	cx, ax
		jbe	short loc_10DF1

loc_10DE9:				; CODE XREF: sub_10BF5+1FAj
		mov	word ptr es:[bx], 30h ;	'0'
		inc	bx
		loop	loc_10DE9

loc_10DF1:				; CODE XREF: sub_10BF5+B4j
					; sub_10BF5+1F2j
		cld
		les	di, [bp+arg_C]
		mov	bx, [bp+arg_0]
		mov	cx, [bp+var_2]
		or	es:[bx+di], cx
		pop	es
		mov	ax, dx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	10h
sub_10BF5	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_10E09	proc near		; CODE XREF: seg000:02EAp

var_8		= dword	ptr -8
var_4		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 8
		mov	word ptr [bp+var_4+2], ss
		mov	word ptr [bp+var_4], bx
		mov	ax, ds:3704h
		or	ax, ds:3706h
		jz	short loc_10E7D
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 8
		push	ax
		call	dword ptr ds:3704h
		add	sp, 6
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		push	dx
		push	ax
		mov	ax, 8
		push	ax
		call	dword ptr ds:3704h
		add	sp, 6
		cmp	word ptr [bp+var_8+2], 0
		jnz	short loc_10E4C
		cmp	word ptr [bp+var_8], 1
		jz	short loc_10EAC

loc_10E4C:				; CODE XREF: sub_10E09+3Bj
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_10E7D
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 8
		push	ax
		call	dword ptr ds:3704h
		les	bx, [bp+var_4]
		mov	ax, 6
		imul	word ptr es:[bx]
		mov	bx, ax
		push	word ptr [bx+1B4Ch]
		mov	ax, 8
		push	ax
		call	[bp+var_8]
		add	sp, 0Ah
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_10E7D:				; CODE XREF: sub_10E09+13j
					; sub_10E09+49j
		les	bx, [bp+var_4]
		mov	ax, 6
		imul	word ptr es:[bx]
		mov	dx, 1B4Ch
		add	dx, 2
		add	ax, dx
		mov	bx, ax
		push	word ptr [bx+2]
		push	word ptr [bx]
		push	ds
		mov	ax, 1BD1h
		push	ax		; format
		push	ds
		mov	ax, 1CE8h
		push	ax		; stream
		nop
		push	cs
		call	near ptr _fprintf
		add	sp, 0Ch
		nop
		push	cs
		call	near ptr _abort
; ---------------------------------------------------------------------------

loc_10EAC:				; CODE XREF: sub_10E09+41j
		mov	sp, bp
		pop	bp
		retn
sub_10E09	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_10EB0	proc near		; CODE XREF: _pow10+6p

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	ax, [bp+arg_0]
		cmp	ax, 0ECBCh
		jge	short loc_10EC2
		fldz			; (emulator call)
		jmp	loc_10F74
; ---------------------------------------------------------------------------

loc_10EC2:				; CODE XREF: sub_10EB0+Aj
		cmp	ax, 1344h
		jle	short loc_10ECF
		fld	flt_2B6E8	; (emulator call)
		jmp	loc_10F74
; ---------------------------------------------------------------------------

loc_10ECF:				; CODE XREF: sub_10EB0+15j
		or	ax, ax
		jnz	short loc_10ED9
		fld1			; (emulator call)
		jmp	loc_10F74
; ---------------------------------------------------------------------------

loc_10ED9:				; CODE XREF: sub_10EB0+21j
		or	ax, ax
		jge	short loc_10EDF
		neg	ax

loc_10EDF:				; CODE XREF: sub_10EB0+2Bj
		mov	si, 7
		and	si, ax
		shl	si, 1
		shl	si, 1
		fld	dword ptr [si+1BECh] ; (emulator call)
		shr	ax, 1
		shr	ax, 1
		shr	ax, 1
		shr	ax, 1
		jnb	short loc_10EFC
		fmul	flt_2B68C	; (emulator call)

loc_10EFC:				; CODE XREF: sub_10EB0+45j
		jnz	short loc_10F00
		jmp	short loc_10F69
; ---------------------------------------------------------------------------

loc_10F00:				; CODE XREF: sub_10EB0:loc_10EFCj
		shr	ax, 1
		jnb	short loc_10F09
		fmul	dbl_2B690	; (emulator call)

loc_10F09:				; CODE XREF: sub_10EB0+52j
		shr	ax, 1
		jnb	short loc_10F15
		fld	tbyte_2B698	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F15:				; CODE XREF: sub_10EB0+5Bj
		shr	ax, 1
		jnb	short loc_10F21
		fld	tbyte_2B6A2	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F21:				; CODE XREF: sub_10EB0+67j
		shr	ax, 1
		jnb	short loc_10F2D
		fld	tbyte_2B6AC	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F2D:				; CODE XREF: sub_10EB0+73j
		shr	ax, 1
		jnb	short loc_10F39
		fld	tbyte_2B6B6	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F39:				; CODE XREF: sub_10EB0+7Fj
		shr	ax, 1
		jnb	short loc_10F45
		fld	tbyte_2B6C0	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F45:				; CODE XREF: sub_10EB0+8Bj
		shr	ax, 1
		jnb	short loc_10F51
		fld	tbyte_2B6CA	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F51:				; CODE XREF: sub_10EB0+97j
		shr	ax, 1
		jnb	short loc_10F5D
		fld	tbyte_2B6D4	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F5D:				; CODE XREF: sub_10EB0+A3j
		shr	ax, 1
		jnb	short loc_10F69
		fld	tbyte_2B6DE	; (emulator call)
		fmulp	st(1), st	; (emulator call)

loc_10F69:				; CODE XREF: sub_10EB0+4Ej
					; sub_10EB0+AFj
		test	byte ptr [bp+arg_0+1], 80h
		jz	short loc_10F74
		fdivr	flt_2B66C	; (emulator call)

loc_10F74:				; CODE XREF: sub_10EB0+Fj
					; sub_10EB0+1Cj ...
		pop	si
		pop	bp
		retn	2
sub_10EB0	endp

; [0000000B BYTES: COLLAPSED FUNCTION _pow10. PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_10F84	proc far		; CODE XREF: sub_10FFE+5Cp

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 4
		jnz	short loc_10F9C
		fldz			; (emulator call)
		fstp	qword ptr es:[bx+16h] ;	(emulator call)
		wait			; (emulator call)
		jmp	short loc_10FA5
; ---------------------------------------------------------------------------

loc_10F9C:				; CODE XREF: sub_10F84+Aj
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 5
		jnz	short loc_10FAA

loc_10FA5:				; CODE XREF: sub_10F84+16j
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_10FAA:				; CODE XREF: sub_10F84+1Fj
		xor	ax, ax
		pop	bp
		retf
sub_10F84	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __fastcall __far sub_10FAE(int, int, int,	double)
sub_10FAE	proc far		; CODE XREF: sub_1D805+B3P
					; sub_1D805+EBP

var_8		= qword	ptr -8
arg_0		= qword	ptr  6

		push	bp
		mov	bp, sp
		fld	[bp+arg_0]	; (emulator call)
		mov	ax, 7FF0h
		and	ax, word ptr [bp+arg_0+6]
		cmp	ax, 4340h
		jnb	short loc_10FD1
		cmp	word_2B550, 3
		jl	short loc_10FCB
		fsin
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_10FCB:				; CODE XREF: sub_10FAE+17j
		fsin			; (emulator call)
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_10FD1:				; CODE XREF: sub_10FAE+10j
		fstp	st		; (emulator call)
		fld	dbl_2B6EC	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_8]	; (emulator call)
		xor	ax, ax
		push	ax
		push	ax		; __int32
		push	ss
		wait			; (emulator call)
		lea	ax, [bp+arg_0]
		push	ax		; __int32
		push	ds		; int
		mov	ax, 1C74h
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		nop
		push	cs
		call	near ptr sub_10FFE
		add	sp, 16h
		pop	bp
		retf
sub_10FAE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_10FFE(int, int,	int, __int32, __int32, double)
sub_10FFE	proc far		; CODE XREF: sub_10FAE+48p
					; sub_110AC+48p

var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= qword	ptr -18h
var_10		= qword	ptr -10h
var_8		= qword	ptr -8
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch
arg_A		= dword	ptr  10h
arg_E		= qword	ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		mov	si, [bp+arg_0]
		mov	[bp+var_1E], si
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		mov	[bp+var_1A], dx
		mov	[bp+var_1C], ax
		mov	ax, word ptr [bp+arg_6]
		or	ax, word ptr [bp+arg_6+2]
		jnz	short loc_11024
		fldz			; (emulator call)
		jmp	short loc_1102B
; ---------------------------------------------------------------------------

loc_11024:				; CODE XREF: sub_10FFE+1Fj
		les	bx, [bp+arg_6]
		fld	qword ptr es:[bx] ; (emulator call)

loc_1102B:				; CODE XREF: sub_10FFE+24j
		fstp	[bp+var_18]	; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+arg_A]
		or	ax, word ptr [bp+arg_A+2]
		jnz	short loc_1103E
		fldz			; (emulator call)
		jmp	short loc_11045
; ---------------------------------------------------------------------------

loc_1103E:				; CODE XREF: sub_10FFE+39j
		les	bx, [bp+arg_A]
		fld	qword ptr es:[bx] ; (emulator call)

loc_11045:				; CODE XREF: sub_10FFE+3Ej
		fstp	[bp+var_10]	; (emulator call)
		fld	[bp+arg_E]	; (emulator call)
		fstp	[bp+var_8]	; (emulator call)
		push	ss
		wait			; (emulator call)
		lea	ax, [bp+var_1E]
		push	ax
		nop
		push	cs
		call	near ptr sub_10F84
		pop	cx
		pop	cx
		or	ax, ax
		jnz	short loc_110A3
		mov	bx, si
		mov	cl, 2
		shl	bx, cl
		push	word ptr [bx+1AF4h]
		push	word ptr [bx+1AF2h]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	ds
		mov	ax, 1C78h
		push	ax		; format
		push	ds
		mov	ax, 1CE8h
		push	ax		; stream
		nop
		push	cs
		call	near ptr _fprintf
		add	sp, 10h
		cmp	si, 3
		jz	short loc_11098
		cmp	si, 4
		jz	short loc_11098
		cmp	si, 2
		jnz	short loc_1109D

loc_11098:				; CODE XREF: sub_10FFE+8Ej
					; sub_10FFE+93j
		mov	ax, 22h	; '"'
		jmp	short loc_110A0
; ---------------------------------------------------------------------------

loc_1109D:				; CODE XREF: sub_10FFE+98j
		mov	ax, 21h	; '!'

loc_110A0:				; CODE XREF: sub_10FFE+9Dj
		mov	word_29AFE, ax

loc_110A3:				; CODE XREF: sub_10FFE+63j
		fld	[bp+var_8]	; (emulator call)
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_10FFE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __fastcall __far sub_110AC(int, int, int,	double)
sub_110AC	proc far		; CODE XREF: sub_1D805+7EP
					; sub_1D805+120P

var_8		= qword	ptr -8
arg_0		= qword	ptr  6

		push	bp
		mov	bp, sp
		fld	[bp+arg_0]	; (emulator call)
		mov	ax, 7FF0h
		and	ax, word ptr [bp+arg_0+6]
		cmp	ax, 4340h
		jnb	short loc_110CF
		cmp	word_2B550, 3
		jl	short loc_110C9
		fcos
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_110C9:				; CODE XREF: sub_110AC+17j
		fcos			; (emulator call)
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_110CF:				; CODE XREF: sub_110AC+10j
		fstp	st		; (emulator call)
		fld	dbl_2B706	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_8]	; (emulator call)
		xor	ax, ax
		push	ax
		push	ax		; __int32
		push	ss
		wait			; (emulator call)
		lea	ax, [bp+arg_0]
		push	ax		; __int32
		push	ds		; int
		mov	ax, 1C8Eh
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		nop
		push	cs
		call	near ptr sub_10FFE
		add	sp, 16h
		pop	bp
		retf
sub_110AC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_110FC	proc far		; CODE XREF: sub_1D805+94P
					; sub_1D805+CCP ...

var_A		= qword	ptr -0Ah
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		fnstcw	[bp+var_2]	; (emulator call)
		wait			; (emulator call)
		mov	al, byte ptr [bp+var_2+1]
		or	byte ptr [bp+var_2+1], 0Ch
		fldcw	[bp+var_2]	; (emulator call)
		fistp	[bp+var_A]	; (emulator call)
		mov	byte ptr [bp+var_2+1], al
		fldcw	[bp+var_2]	; (emulator call)
		mov	ax, word ptr [bp+var_A]
		mov	dx, word ptr [bp+var_A+2]
		mov	sp, bp
		pop	bp
		retf
sub_110FC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn

sub_11128	proc far		; CODE XREF: start+86p	start+109p ...
		push	si
		push	di
		push	ds
		mov	ax, 1C92h
		push	ax		; buf
		nop
		push	cs
		call	near ptr ___ErrorMessage
		mov	ax, 3
		push	ax		; status
		nop
		push	cs
		call	near ptr __exit
sub_11128	endp

; ---------------------------------------------------------------------------
		add	sp, 6
		pop	di
		pop	si
		retf
; [0000003D BYTES: COLLAPSED FUNCTION _stpcpy. PRESS KEYPAD "+"	TO EXPAND]
; [00000011 BYTES: COLLAPSED FUNCTION _abort. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf
; [00000031 BYTES: COLLAPSED FUNCTION _atexit. PRESS KEYPAD "+"	TO EXPAND]
; [00000044 BYTES: COLLAPSED FUNCTION _clock. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------

loc_11209:				; DATA XREF: dseg:2488o
		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		push	ss
		lea	ax, [bp-0Ah]
		push	ax
		nop
		push	cs
		call	near ptr sub_1313B
		pop	cx
		pop	cx
		mov	dx, [bp-8]
		mov	ax, [bp-0Ah]
		mov	ds:36EEh, dx
		mov	ds:36ECh, ax
		mov	ax, [bp-6]
		mov	ds:36F0h, ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		call	dword ptr ds:36F2h
		or	ax, ax
		jnz	short loc_11255
		xor	ax, ax
		push	ax
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx

loc_11255:				; CODE XREF: seg000:124Aj
		pop	bp
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
; [0000002A BYTES: COLLAPSED FUNCTION _ctrlbrk.	PRESS KEYPAD "+" TO EXPAND]
; [00000016 BYTES: COLLAPSED FUNCTION _registerbgidriver. PRESS	KEYPAD "+" TO EXPAND]
; [00000016 BYTES: COLLAPSED FUNCTION _registerbgifont.	PRESS KEYPAD "+" TO EXPAND]
; [00000024 BYTES: COLLAPSED FUNCTION __dos_getfileattr. PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION __dos_setfileattr. PRESS KEYPAD "+" TO EXPAND]
; [00000027 BYTES: COLLAPSED FUNCTION __dos_getftime. PRESS KEYPAD "+" TO EXPAND]
; [00000013 BYTES: COLLAPSED FUNCTION _getvect.	PRESS KEYPAD "+" TO EXPAND]
; [00000015 BYTES: COLLAPSED FUNCTION _setvect.	PRESS KEYPAD "+" TO EXPAND]
; [0000002A BYTES: COLLAPSED FUNCTION ___ErrorMessage. PRESS KEYPAD "+"	TO EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION sub_11373. PRESS KEYPAD "+" TO EXPAND]
; [0000005A BYTES: COLLAPSED FUNCTION sub_11378. PRESS KEYPAD "+" TO EXPAND]
; [00000013 BYTES: COLLAPSED FUNCTION _exit. PRESS KEYPAD "+" TO EXPAND]
; [00000016 BYTES: COLLAPSED FUNCTION __exit. PRESS KEYPAD "+" TO EXPAND]
; [00000012 BYTES: COLLAPSED FUNCTION __cexit. PRESS KEYPAD "+"	TO EXPAND]
; [00000010 BYTES: COLLAPSED FUNCTION __c_exit.	PRESS KEYPAD "+" TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION SCOPY@. PRESS KEYPAD "+" TO EXPAND]
; [00000013 BYTES: COLLAPSED FUNCTION _getvect_0. PRESS	KEYPAD "+" TO EXPAND]
; [00000015 BYTES: COLLAPSED FUNCTION _setvect_0. PRESS	KEYPAD "+" TO EXPAND]
; [00000082 BYTES: COLLAPSED FUNCTION _getw. PRESS KEYPAD "+" TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION N_LDIV@. PRESS KEYPAD "+"	TO EXPAND]
; [00000003 BYTES: COLLAPSED FUNCTION N_LUDIV@.	PRESS KEYPAD "+" TO EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION F_LUDIV@.	PRESS KEYPAD "+" TO EXPAND]
; [0000009F BYTES: COLLAPSED FUNCTION N_LMOD@. PRESS KEYPAD "+"	TO EXPAND]
; [00000003 BYTES: COLLAPSED FUNCTION N_LXLSH@.	PRESS KEYPAD "+" TO EXPAND]
; [0000001E BYTES: COLLAPSED FUNCTION LXLSH@. PRESS KEYPAD "+" TO EXPAND]
; [00000003 BYTES: COLLAPSED FUNCTION N_PADA@. PRESS KEYPAD "+"	TO EXPAND]
; [00000085 BYTES: COLLAPSED FUNCTION F_PADA@. PRESS KEYPAD "+"	TO EXPAND]
; [00000060 BYTES: COLLAPSED FUNCTION N_PADD@. PRESS KEYPAD "+"	TO EXPAND]
; [0000003E BYTES: COLLAPSED FUNCTION __IOERROR. PRESS KEYPAD "+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION __DOSERROR. PRESS	KEYPAD "+" TO EXPAND]
; [00000015 BYTES: COLLAPSED FUNCTION _isatty. PRESS KEYPAD "+"	TO EXPAND]
; [00000082 BYTES: COLLAPSED FUNCTION __LONGTOA. PRESS KEYPAD "+" TO EXPAND]
; [00000024 BYTES: COLLAPSED FUNCTION __UTOA. PRESS KEYPAD "+" TO EXPAND]
; [0000002D BYTES: COLLAPSED FUNCTION _lseek. PRESS KEYPAD "+" TO EXPAND]
; [00000061 BYTES: COLLAPSED FUNCTION __MKNAME.	PRESS KEYPAD "+" TO EXPAND]
; [0000005B BYTES: COLLAPSED FUNCTION __TMPNAM.	PRESS KEYPAD "+" TO EXPAND]
		dd byte_11ABB
		db 4, 0, 0FAh, 0FFh, 0Ah dup(0), 0DCh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	90h, 18h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 24h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 189Eh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 1996h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 1EE6h
		push	ax
		push	ss
		lea	ax, [bp-6]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		mov	ax, word_2B96A
		mov	[bp-2],	ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-6]
		push	ss
		push	ax
		push	cs
		mov	ax, 1ABBh
		push	ax
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; [0000002E BYTES: COLLAPSED FUNCTION set_new_handler(void (*)(void)). PRESS KEYPAD "+"	TO EXPAND]
; [00000051 BYTES: COLLAPSED FUNCTION operator new(uint). PRESS	KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		dd byte_11ABB
		db 2 dup(0), 0E6h, 1Eh
		dw seg dseg
		dd byte_11A81
		db 4, 0, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	0D9h, 19h
; [0000005B BYTES: COLLAPSED FUNCTION string::contains(char *).	PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------

loc_11A5A:				; DATA XREF: dseg:24BEo
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 1EE6h
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
byte_11A81	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
					; DATA XREF: seg000:19E3o
		db 0Dh dup(0), 1, 0, 1,	0, 5, 3
		dw seg seg019
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_11ABB	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
					; DATA XREF: seg000:1890o seg000:19D9o
		db 0Dh dup(0), 2, 0, 2,	0, 0FDh, 1Ah
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 4Ah,	1Bh
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_11B44
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_11B42
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_11B46
; ---------------------------------------------------------------------------

loc_11B42:				; CODE XREF: seg000:1B31j
		jmp	short loc_11B46
; ---------------------------------------------------------------------------

loc_11B44:				; CODE XREF: seg000:1B08j
		xor	ax, ax

loc_11B46:				; CODE XREF: seg000:1B40j
					; seg000:loc_11B42j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 9Fh,	5Ch
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
; [00000017 BYTES: COLLAPSED FUNCTION N_LXMUL@.	PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION N_PCMP@. PRESS KEYPAD "+"	TO EXPAND]
; [00000015 BYTES: COLLAPSED FUNCTION _srand. PRESS KEYPAD "+" TO EXPAND]
; [00000029 BYTES: COLLAPSED FUNCTION _rand. PRESS KEYPAD "+" TO EXPAND]
; [00000032 BYTES: COLLAPSED FUNCTION __rtl_read. PRESS	KEYPAD "+" TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION __read. PRESS KEYPAD "+" TO EXPAND]
; [00000022 BYTES: COLLAPSED FUNCTION _segread.	PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------

__setupio:
		push	si
		push	di
		mov	cx, 5
		jmp	short loc_11C91
; ---------------------------------------------------------------------------

loc_11C6F:				; CODE XREF: seg000:1C95j
		mov	bx, cx
		add	bx, bx
		mov	word ptr [bx+1E52h], 0
		mov	ax, 14h
		imul	cx
		mov	dx, ax
		mov	bx, ax
		mov	byte ptr [bx+1CC4h], 0FFh
		add	ax, 1CC0h
		mov	bx, dx
		mov	[bx+1CD2h], ax
		inc	cx

loc_11C91:				; CODE XREF: seg000:1C6Dj
		cmp	cx, word_2B8D0
		jb	short loc_11C6F
		mov	al, byte_2B744
		cbw
		push	ax
		nop
		push	cs
		call	near ptr _isatty
		pop	cx
		or	ax, ax
		jnz	short loc_11CAC
		and	word_2B742, 0FDFFh

loc_11CAC:				; CODE XREF: seg000:1CA4j
		mov	ax, 200h
		push	ax
		test	byte ptr word_2B742+1, 2
		jz	short loc_11CBC
		mov	ax, 1
		jmp	short loc_11CBE
; ---------------------------------------------------------------------------

loc_11CBC:				; CODE XREF: seg000:1CB5j
		xor	ax, ax

loc_11CBE:				; CODE XREF: seg000:1CBAj
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 1CC0h
		push	ax
		nop
		push	cs
		call	near ptr _setvbuf
		add	sp, 0Ch
		mov	al, byte_2B758
		cbw
		push	ax
		nop
		push	cs
		call	near ptr _isatty
		pop	cx
		or	ax, ax
		jnz	short loc_11CE5
		and	word_2B756, 0FDFFh

loc_11CE5:				; CODE XREF: seg000:1CDDj
		mov	ax, 200h
		push	ax
		test	byte ptr word_2B756+1, 2
		jz	short loc_11CF5
		mov	ax, 2
		jmp	short loc_11CF7
; ---------------------------------------------------------------------------

loc_11CF5:				; CODE XREF: seg000:1CEEj
		xor	ax, ax

loc_11CF7:				; CODE XREF: seg000:1CF3j
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 1CD4h
		push	ax
		nop
		push	cs
		call	near ptr _setvbuf
		add	sp, 0Ch
		pop	di
		pop	si
		retn
; [0000000A BYTES: COLLAPSED FUNCTION _localeconv. PRESS KEYPAD	"+" TO EXPAND]
; [00000030 BYTES: COLLAPSED FUNCTION _toupper.	PRESS KEYPAD "+" TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION _unlink. PRESS KEYPAD "+"	TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION sub_11D62. PRESS KEYPAD "+" TO EXPAND]
; [00000009 BYTES: COLLAPSED FUNCTION sub_11D69. PRESS KEYPAD "+" TO EXPAND]
; [00000008 BYTES: COLLAPSED FUNCTION sub_11D72. PRESS KEYPAD "+" TO EXPAND]
; [0000001A BYTES: COLLAPSED FUNCTION __VPRINTER. PRESS	KEYPAD "+" TO EXPAND]
; [0000000D BYTES: COLLAPSED FUNCTION sub_11D94. PRESS KEYPAD "+" TO EXPAND]
; [00000009 BYTES: COLLAPSED FUNCTION sub_11DA1. PRESS KEYPAD "+" TO EXPAND]
; [00000034 BYTES: COLLAPSED FUNCTION sub_11DAA. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
; [0000042F BYTES: COLLAPSED CHUNK OF FUNCTION __VPRINTER. PRESS KEYPAD	"+" TO EXPAND]
off_1220D	dw offset loc_11E69	; DATA XREF: __VPRINTER+D1r
		dw offset loc_11E53
		dw offset loc_11E9E
		dw offset loc_11E5E
		dw offset loc_11ECC
		dw offset loc_11ED9
		dw offset loc_11F17
		dw offset loc_11F1E
		dw offset loc_11F23
		dw offset loc_11E87
		dw offset loc_11F4C
		dw offset loc_11F2A
		dw offset loc_11F2E
		dw offset loc_11F32
		dw offset loc_11FAC
		dw offset loc_12059
		dw offset loc_11FFC
		dw offset loc_1201C
		dw offset loc_1219D
		dw offset loc_121D9
		dw offset loc_121D9
		dw offset loc_121D9
		dw offset loc_11E79
		dw offset loc_11E7F
; [0000002A BYTES: COLLAPSED FUNCTION __xclose.	PRESS KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION __RefDestructorCount(void). PRESS	KEYPAD "+" TO EXPAND]
; [00000006 BYTES: COLLAPSED FUNCTION __RefExceptionList(void).	PRESS KEYPAD "+" TO EXPAND]
; [0000006F BYTES: COLLAPSED FUNCTION ___InitExceptBlocks. PRESS KEYPAD	"+" TO EXPAND]
; [00000014 BYTES: COLLAPSED FUNCTION ___ExitExceptBlocks. PRESS KEYPAD	"+" TO EXPAND]
; [00000007 BYTES: COLLAPSED FUNCTION terminate(void). PRESS KEYPAD "+"	TO EXPAND]
; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf
; [00000042 BYTES: COLLAPSED FUNCTION set_terminate(void (*)(void)). PRESS KEYPAD "+" TO EXPAND]
		db 4 dup(0), 0D0h, 23h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 42h,	23h
		dw seg seg000
		db 2 dup(0), 4,	0
; [00000071 BYTES: COLLAPSED FUNCTION ___call_terminate. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	word ptr [bp-1Eh]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; [00000006 BYTES: COLLAPSED FUNCTION unexpected(void).	PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf
; [00000042 BYTES: COLLAPSED FUNCTION set_unexpected(void (*)(void)). PRESS KEYPAD "+" TO EXPAND]
; [00000049 BYTES: COLLAPSED FUNCTION ___call_unexpected. PRESS	KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; [00000054 BYTES: COLLAPSED FUNCTION __GetPolymorphicDTC(void *,uint).	PRESS KEYPAD "+" TO EXPAND]
; [00000058 BYTES: COLLAPSED FUNCTION __GetPolymorphicDTCfar(void *,uint). PRESS KEYPAD	"+" TO EXPAND]
; [0000004E BYTES: COLLAPSED FUNCTION __ExceptInit. PRESS KEYPAD "+" TO	EXPAND]
; ---------------------------------------------------------------------------

unknown_libname_2:			; BCC v4.x/5.x DOS runtime
		pushf
		pop	bx
		mov	ax, 0FFFh
		and	ax, bx
		push	ax
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		cmp	ax, 0F000h
		mov	word_2BC52, 0
		jz	short locret_125DA
		or	bx, 0F000h
		push	bx
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		mov	word_2BC52, 2
		jz	short locret_125DA
		mov	edx, esp
		and	sp, 0FFFCh
		pushfd
		pop	eax
		mov	ecx, eax
		xor	eax, 40000h
		push	eax
		popfd
		pushfd
		pop	eax
		xor	eax, ecx
		mov	word_2BC52, 3
		mov	esp, edx
		jz	short locret_125DA
		mov	word_2BC52, 4

locret_125DA:				; CODE XREF: seg000:2596j seg000:25A9j ...
		retn
; [00000028 BYTES: COLLAPSED FUNCTION __dos_allocmem. PRESS KEYPAD "+" TO EXPAND]
; [0000001A BYTES: COLLAPSED FUNCTION __dos_freemem. PRESS KEYPAD "+" TO EXPAND]
word_1261D	dw 0			; DATA XREF: sub_12629r sub_12629+1Dr	...
word_1261F	dw 0			; DATA XREF: sub_12629+14w
					; sub_12629+27w ...
word_12621	dw 0			; DATA XREF: sub_12629+4Cw
					; sub_126FD+19w ...
word_12623	dw 0			; DATA XREF: sub_12629+32r
					; sub_12629:loc_1267Cr	...
word_12625	dw 0			; DATA XREF: sub_12917+1r
					; sub_129F7+1Aw
word_12627	dw 0			; DATA XREF: sub_12917+7r
					; sub_129F7+1Fw

; =============== S U B	R O U T	I N E =======================================


sub_12629	proc near		; CODE XREF: sub_1275D+18p
		cmp	dx, cs:word_1261D
		jz	short loc_12667
		mov	ds, dx
		mov	ds, word_29A82
		cmp	word_29A82, 0
		jz	short loc_12644
		mov	cs:word_1261F, ds
		jmp	short loc_1267C
; ---------------------------------------------------------------------------

loc_12644:				; CODE XREF: sub_12629+12j
		mov	ax, ds
		cmp	ax, cs:word_1261D
		jz	short loc_12662
		mov	ax, word_29A88
		mov	cs:word_1261F, ax
		push	ds
		xor	ax, ax
		push	ax
		call	sub_126FD
		mov	ds, cs:word_12623
		jmp	short loc_12685
; ---------------------------------------------------------------------------

loc_12662:				; CODE XREF: sub_12629+22j
		mov	dx, cs:word_1261D

loc_12667:				; CODE XREF: sub_12629+5j
		mov	cs:word_1261D, 0
		mov	cs:word_1261F, 0
		mov	cs:word_12621, 0

loc_1267C:				; CODE XREF: sub_12629+19j
		mov	ds, cs:word_12623
		push	dx
		xor	ax, ax
		push	ax

loc_12685:				; CODE XREF: sub_12629+37j
		call	__brk
		add	sp, 4
		retn
sub_12629	endp


; =============== S U B	R O U T	I N E =======================================


sub_1268C	proc near		; CODE XREF: sub_1275D:loc_1277Ap
		mov	ds, dx
		push	ds
		mov	es, word_29A82
		mov	word_29A82, 0
		mov	word_29A88, es
		cmp	dx, cs:word_1261D
		jz	short loc_126D2
		cmp	word ptr es:2, 0
		jnz	short loc_126D2
		mov	ax, word_29A80
		pop	bx
		push	es
		add	es:0, ax
		mov	cx, es
		add	dx, ax
		mov	es, dx
		cmp	word ptr es:2, 0
		jnz	short loc_126CB
		mov	es:8, cx
		jmp	short loc_126D5
; ---------------------------------------------------------------------------

loc_126CB:				; CODE XREF: sub_1268C+36j
		mov	es:2, cx
		jmp	short loc_126D5
; ---------------------------------------------------------------------------

loc_126D2:				; CODE XREF: sub_1268C+16j
					; sub_1268C+1Ej
		call	sub_12726

loc_126D5:				; CODE XREF: sub_1268C+3Dj
					; sub_1268C+44j
		pop	es
		mov	ax, es
		add	ax, es:0
		mov	ds, ax
		cmp	word_29A82, 0
		jz	short loc_126E7
		retn
; ---------------------------------------------------------------------------

loc_126E7:				; CODE XREF: sub_1268C+58j
		mov	ax, word_29A80
		add	es:0, ax
		mov	ax, es
		mov	bx, ds
		add	bx, word_29A80
		mov	es, bx
		mov	es:2, ax
sub_1268C	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_126FD	proc near		; CODE XREF: sub_12629+2Fp
					; malloc_maybe+66p
		mov	bx, ds
		cmp	bx, word_29A86
		jz	short loc_1271E
		mov	es, word_29A86
		mov	ds, word_29A84
		mov	word_29A86, es
		mov	word ptr es:4, ds
		mov	cs:word_12621, ds
		mov	ds, bx
		retn
; ---------------------------------------------------------------------------

loc_1271E:				; CODE XREF: sub_126FD+6j
		mov	cs:word_12621, 0
		retn
sub_126FD	endp


; =============== S U B	R O U T	I N E =======================================


sub_12726	proc near		; CODE XREF: sub_1268C:loc_126D2p
		mov	ax, cs:word_12621
		or	ax, ax
		jz	short loc_1274F
		mov	bx, ss
		pushf
		cli
		mov	ss, ax
		mov	es, word ptr ss:6
		mov	word ptr ss:6, ds
		mov	word_29A84, ss
		mov	ss, bx
		popf
		mov	word ptr es:4, ds
		mov	word_29A86, es
		retn
; ---------------------------------------------------------------------------

loc_1274F:				; CODE XREF: sub_12726+6j
		mov	cs:word_12621, ds
		mov	word_29A84, ds
		mov	word_29A86, ds
		retn
sub_12726	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1275D	proc far		; CODE XREF: _registerbgidriver+Dp
					; sub_12917+71p ...

arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	cs:word_12623, ds
		mov	dx, [bp+arg_2]
		or	dx, dx
		jz	short loc_1277D
		cmp	dx, cs:word_1261F
		jnz	short loc_1277A
		call	sub_12629
		jmp	short loc_1277D
; ---------------------------------------------------------------------------

loc_1277A:				; CODE XREF: sub_1275D+16j
		call	sub_1268C

loc_1277D:				; CODE XREF: sub_1275D+Fj
					; sub_1275D+1Bj
		mov	ds, cs:word_12623
		pop	di
		pop	si
		pop	bp
		retf
sub_1275D	endp


; =============== S U B	R O U T	I N E =======================================


sub_12786	proc near		; CODE XREF: malloc_maybe:loc_128EFp
		push	ax
		mov	ds, cs:word_12623
		xor	ax, ax
		push	ax
		push	ax
		call	__sbrk
		add	sp, 4
		and	ax, 0Fh
		jz	short loc_127AF
		mov	dx, 10h
		sub	dx, ax
		xor	ax, ax
		mov	ds, cs:word_12623
		push	ax
		push	dx
		call	__sbrk
		add	sp, 4

loc_127AF:				; CODE XREF: sub_12786+13j
		pop	ax
		push	ax
		xor	bx, bx
		mov	bl, ah
		mov	cl, 4
		shr	bx, cl
		shl	ax, cl
		mov	ds, cs:word_12623
		push	bx
		push	ax
		call	__sbrk
		add	sp, 4
		pop	bx
		cmp	ax, 0FFFFh
		jz	short loc_127E6
		mov	cs:word_1261D, dx
		mov	cs:word_1261F, dx
		mov	ds, dx
		mov	word_29A80, bx
		mov	word_29A82, dx
		mov	ax, 4
		retn
; ---------------------------------------------------------------------------

loc_127E6:				; CODE XREF: sub_12786+46j
		xor	ax, ax
		cwd
		retn
sub_12786	endp


; =============== S U B	R O U T	I N E =======================================


sub_127EA	proc near		; CODE XREF: malloc_maybe:loc_128EAp
		push	ax
		mov	ds, cs:word_12623
		xor	ax, ax
		push	ax
		push	ax
		call	__sbrk
		pop	bx
		pop	bx
		and	ax, 0Fh
		jz	short loc_12812
		mov	dx, 10h
		sub	dx, ax
		xor	ax, ax
		mov	ds, cs:word_12623
		push	ax
		push	dx
		call	__sbrk
		add	sp, 4

loc_12812:				; CODE XREF: sub_127EA+12j
		pop	ax
		push	ax
		xor	bx, bx
		mov	bl, ah
		mov	cl, 4
		shr	bx, cl
		shl	ax, cl
		mov	ds, cs:word_12623
		push	bx
		push	ax
		call	__sbrk
		add	sp, 4
		pop	bx
		cmp	ax, 0FFFFh
		jz	short loc_12869
		and	ax, 0Fh
		jnz	short loc_1284E

loc_12836:				; CODE XREF: sub_127EA+7Dj
		mov	cx, cs:word_1261F
		mov	cs:word_1261F, dx
		mov	ds, dx
		mov	word_29A80, bx
		mov	word_29A82, cx
		mov	ax, 4
		retn
; ---------------------------------------------------------------------------

loc_1284E:				; CODE XREF: sub_127EA+4Aj
		push	bx
		push	dx
		neg	ax
		add	ax, 10h
		xor	bx, bx
		push	bx
		push	ax
		call	__sbrk
		add	sp, 4
		pop	dx
		pop	bx
		cmp	ax, 0FFFFh
		jz	short loc_12869
		inc	dx
		jmp	short loc_12836
; ---------------------------------------------------------------------------

loc_12869:				; CODE XREF: sub_127EA+45j
					; sub_127EA+7Aj
		xor	ax, ax
		cwd
		retn
sub_127EA	endp


; =============== S U B	R O U T	I N E =======================================


sub_1286D	proc near		; CODE XREF: malloc_maybe:loc_128F4p
		mov	bx, dx
		sub	word_29A80, ax
		add	dx, word_29A80
		mov	ds, dx
		mov	word_29A80, ax
		mov	word_29A82, bx
		mov	bx, dx
		add	bx, word_29A80
		mov	ds, bx
		mov	word_29A82, dx
		mov	ax, 4
		retn
sub_1286D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_12890	proc far		; CODE XREF: operator new(uint)+2Ep
					; _setvbuf+D3p	...

arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		xor	dx, dx
		mov	ax, [bp+arg_2]
		jmp	short loc_128A3
sub_12890	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

malloc_maybe	proc far		; CODE XREF: sub_12917+Ep
					; sub_129F7+64p ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]

loc_128A3:				; CODE XREF: sub_12890+8j
		mov	cx, ax
		or	cx, dx
		push	si
		push	di
		mov	cs:word_12623, ds
		jz	short loc_1290E
		add	ax, 13h
		adc	dx, 0
		jb	short loc_128F9
		test	dx, 0FFF0h
		jnz	short loc_128F9
		mov	cl, 4
		shr	ax, cl
		shl	dx, cl
		or	ah, dl
		mov	dx, cs:word_1261D
		or	dx, dx
		jz	short loc_128EF
		mov	dx, cs:word_12621
		or	dx, dx
		jz	short loc_128EA
		mov	bx, dx

loc_128DA:				; CODE XREF: malloc_maybe+4Ej
		mov	ds, dx
		cmp	word_29A80, ax
		jnb	short loc_128FE
		mov	dx, word_29A86
		cmp	dx, bx
		jnz	short loc_128DA

loc_128EA:				; CODE XREF: malloc_maybe+3Cj
		call	sub_127EA
		jmp	short loc_1290E
; ---------------------------------------------------------------------------

loc_128EF:				; CODE XREF: malloc_maybe+33j
		call	sub_12786
		jmp	short loc_1290E
; ---------------------------------------------------------------------------

loc_128F4:				; CODE XREF: malloc_maybe:loc_128FEj
		call	sub_1286D
		jmp	short loc_1290E
; ---------------------------------------------------------------------------

loc_128F9:				; CODE XREF: malloc_maybe+1Cj
					; malloc_maybe+22j
		xor	ax, ax
		cwd
		jmp	short loc_1290E
; ---------------------------------------------------------------------------

loc_128FE:				; CODE XREF: malloc_maybe+46j
		ja	short loc_128F4
		call	sub_126FD
		mov	bx, word_29A88
		mov	word_29A82, bx
		mov	ax, offset word_29A84

loc_1290E:				; CODE XREF: malloc_maybe+14j
					; malloc_maybe+53j ...
		mov	ds, cs:word_12623
		pop	di
		pop	si
		pop	bp
		retf
malloc_maybe	endp


; =============== S U B	R O U T	I N E =======================================


sub_12917	proc near		; CODE XREF: sub_129F7:loc_12A53p
		push	bx
		mov	si, cs:word_12625
		push	si
		mov	si, cs:word_12627
		push	si
		push	cs
		call	near ptr malloc_maybe
		add	sp, 4
		or	dx, dx
		jnz	short loc_12931
		pop	bx
		retn
; ---------------------------------------------------------------------------

loc_12931:				; CODE XREF: sub_12917+16j
		pop	ds
		mov	es, dx
		push	es
		push	ds
		push	bx
		mov	dx, word_29A80
		cld
		dec	dx
		mov	di, 4
		mov	si, di
		mov	cx, 6
		rep movsw
		or	dx, dx
		jz	short loc_12982
		mov	ax, es
		inc	ax
		mov	es, ax
		assume es:nothing
		mov	ax, ds
		inc	ax
		mov	ds, ax
		assume ds:nothing

loc_12955:				; CODE XREF: sub_12917+69j
		xor	di, di
		mov	si, di
		mov	cx, dx
		cmp	cx, 1000h
		jbe	short loc_12964
		mov	cx, 1000h

loc_12964:				; CODE XREF: sub_12917+48j
		shl	cx, 1
		shl	cx, 1
		shl	cx, 1
		rep movsw
		sub	dx, 1000h
		jbe	short loc_12982
		mov	ax, es
		add	ax, 1000h
		mov	es, ax
		assume es:seg000
		mov	ax, ds
		add	ax, 1000h
		mov	ds, ax
		assume ds:nothing
		jmp	short loc_12955
; ---------------------------------------------------------------------------

loc_12982:				; CODE XREF: sub_12917+32j
					; sub_12917+59j
		mov	ds, cs:word_12623
		assume ds:dseg
		push	cs
		call	near ptr sub_1275D
		add	sp, 4
		pop	dx
		mov	ax, 4
		retn
sub_12917	endp


; =============== S U B	R O U T	I N E =======================================


sub_12993	proc near		; CODE XREF: sub_129F7:loc_12A4Ep
		cmp	bx, cs:word_1261F
		jz	short loc_129DF
		mov	di, bx
		add	di, ax
		mov	es, di
		assume es:nothing
		mov	si, cx
		sub	si, ax
		mov	es:0, si
		mov	es:2, bx
		push	es
		push	ax
		mov	es, bx
		mov	es:0, ax
		mov	dx, bx
		add	dx, cx
		mov	es, dx
		cmp	word ptr es:2, 0
		jz	short loc_129CB
		mov	es:2, di
		jmp	short loc_129D0
; ---------------------------------------------------------------------------

loc_129CB:				; CODE XREF: sub_12993+2Fj
		mov	es:8, di

loc_129D0:				; CODE XREF: sub_12993+36j
		mov	si, bx
		push	cs
		call	near ptr sub_1275D
		add	sp, 4
		mov	dx, si
		mov	ax, 4
		retn
; ---------------------------------------------------------------------------

loc_129DF:				; CODE XREF: sub_12993+5j
		push	bx
		mov	es, bx
		mov	es:0, ax
		add	bx, ax
		push	bx
		xor	ax, ax
		push	ax
		call	__brk
		add	sp, 4
		pop	dx
		mov	ax, 4
		retn
sub_12993	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_129F7	proc far		; CODE XREF: seg019:074EP seg019:07B6P ...

arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		xor	dx, dx
		jmp	short loc_12A04
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_6]

loc_12A04:				; CODE XREF: sub_129F7+5j
		mov	ax, [bp+arg_4]
		mov	bx, [bp+arg_2]
		push	si
		push	di
		mov	cs:word_12623, ds
		mov	cs:word_12625, dx
		mov	cs:word_12627, ax
		or	bx, bx
		jz	short loc_12A58
		mov	cx, ax
		or	cx, dx
		jz	short loc_12A63
		add	ax, 13h
		adc	dx, 0
		jb	short loc_12A6C
		test	dx, 0FFF0h
		jnz	short loc_12A6C
		mov	cl, 4
		shr	ax, cl
		shl	dx, cl
		or	ah, dl
		mov	es, bx
		mov	cx, es:0
		cmp	cx, ax
		jb	short loc_12A53
		ja	short loc_12A4E
		mov	dx, bx
		mov	ax, 4
		jmp	short loc_12A6F
; ---------------------------------------------------------------------------

loc_12A4E:				; CODE XREF: sub_129F7+4Ej
		call	sub_12993
		jmp	short loc_12A6F
; ---------------------------------------------------------------------------

loc_12A53:				; CODE XREF: sub_129F7+4Cj
		call	sub_12917
		jmp	short loc_12A6F
; ---------------------------------------------------------------------------

loc_12A58:				; CODE XREF: sub_129F7+25j
		push	dx
		push	ax
		push	cs
		call	near ptr malloc_maybe
		add	sp, 4
		jmp	short loc_12A6F
; ---------------------------------------------------------------------------

loc_12A63:				; CODE XREF: sub_129F7+2Bj
		push	bx
		push	ax
		push	cs
		call	near ptr sub_1275D
		add	sp, 4

loc_12A6C:				; CODE XREF: sub_129F7+33j
					; sub_129F7+39j
		xor	ax, ax
		cwd

loc_12A6F:				; CODE XREF: sub_129F7+55j
					; sub_129F7+5Aj ...
		mov	ds, cs:word_12623
		pop	di
		pop	si
		pop	bp
		retf
sub_129F7	endp

; [0000008E BYTES: COLLAPSED FUNCTION sub_12A78. PRESS KEYPAD "+" TO EXPAND]
; [00000043 BYTES: COLLAPSED FUNCTION __brk. PRESS KEYPAD "+" TO EXPAND]
; [0000008F BYTES: COLLAPSED FUNCTION __sbrk. PRESS KEYPAD "+" TO EXPAND]
; [00000094 BYTES: COLLAPSED FUNCTION _farcalloc. PRESS	KEYPAD "+" TO EXPAND]
; [00000035 BYTES: COLLAPSED FUNCTION _int86. PRESS KEYPAD "+" TO EXPAND]
; [0000009A BYTES: COLLAPSED FUNCTION _int86x. PRESS KEYPAD "+"	TO EXPAND]
; [00000046 BYTES: COLLAPSED FUNCTION _intr. PRESS KEYPAD "+" TO EXPAND]
; [00000001 BYTES: COLLAPSED FUNCTION nullsub_1. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
; [0000005D BYTES: COLLAPSED CHUNK OF FUNCTION _intr. PRESS KEYPAD "+" TO EXPAND]
; [0000002D BYTES: COLLAPSED FUNCTION _ioctl. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		mov	dx, word_2BC62
		mov	ax, word_2BC60
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		or	dx, dx
		jnz	short loc_12E35
		cmp	ax, 1
		jz	short loc_12E72

loc_12E35:				; CODE XREF: seg000:2E2Ej
		mov	ax, [bp-4]
		or	ax, [bp-2]
		jz	short loc_12E49
		cmp	word ptr [bp-2], 0FFFFh
		jnz	short loc_12E53
		cmp	word ptr [bp-4], 0FFFFh
		jnz	short loc_12E53

loc_12E49:				; CODE XREF: seg000:2E3Bj
		mov	ax, 1
		push	ax
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx

loc_12E53:				; CODE XREF: seg000:2E41j seg000:2E47j
		mov	word_2BC62, 0
		mov	word_2BC60, 0
		push	ss
		lea	ax, [bp+0]
		push	ax
		mov	ax, 7Fh	; ''
		push	ax
		mov	ax, 8
		push	ax
		call	dword ptr [bp-4]
		add	sp, 8

loc_12E72:				; CODE XREF: seg000:2E33j
		mov	sp, bp
		pop	bp
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
; ---------------------------------------------------------------------------
		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		mov	dx, word_2BC62
		mov	ax, word_2BC60
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		or	dx, dx
		jnz	short loc_12EA7
		cmp	ax, 1
		jz	short loc_12EE4

loc_12EA7:				; CODE XREF: seg000:2EA0j
		mov	ax, [bp-4]
		or	ax, [bp-2]
		jz	short loc_12EBB
		cmp	word ptr [bp-2], 0FFFFh
		jnz	short loc_12EC5
		cmp	word ptr [bp-4], 0FFFFh
		jnz	short loc_12EC5

loc_12EBB:				; CODE XREF: seg000:2EADj
		mov	ax, 1
		push	ax
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx

loc_12EC5:				; CODE XREF: seg000:2EB3j seg000:2EB9j
		mov	word_2BC62, 0
		mov	word_2BC60, 0
		push	ss
		lea	ax, [bp+0]
		push	ax
		mov	ax, 7Eh	; '~'
		push	ax
		mov	ax, 8
		push	ax
		call	dword ptr [bp-4]
		add	sp, 8

loc_12EE4:				; CODE XREF: seg000:2EA5j
		mov	sp, bp
		pop	bp
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
; ---------------------------------------------------------------------------
		push	ax
		push	cx
		push	dx
		push	bx
		push	sp
		push	bp
		push	si
		push	di
		push	ds
		push	es
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		pushf
		mov	dx, word_2BC5A
		mov	ax, word_2BC58
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		or	dx, dx
		jnz	short loc_12F1B
		cmp	ax, 1
		jz	short loc_12F60

loc_12F1B:				; CODE XREF: seg000:2F14j
		mov	ax, [bp-4]
		or	ax, [bp-2]
		jz	short loc_12F2F
		cmp	word ptr [bp-2], 0FFFFh
		jnz	short loc_12F39
		cmp	word ptr [bp-4], 0FFFFh
		jnz	short loc_12F39

loc_12F2F:				; CODE XREF: seg000:2F21j
		mov	ax, 1
		push	ax
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx

loc_12F39:				; CODE XREF: seg000:2F27j seg000:2F2Dj
		mov	word_2BC5A, 0
		mov	word_2BC58, 0
		push	word ptr ds:370Eh
		push	word ptr ds:370Ch
		mov	ax, 23h	; '#'
		push	ax
		nop
		push	cs
		call	near ptr _setvect_0
		mov	ax, 2
		push	ax
		call	dword ptr [bp-4]
		add	sp, 8

loc_12F60:				; CODE XREF: seg000:2F19j
		popf
		clc
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_12F6F	proc far		; CODE XREF: seg000:2FB8p sub_13076+Cp

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	dx, dx

loc_12F76:				; CODE XREF: sub_12F6F+1Cj
		mov	bx, dx
		mov	al, [bx+21F0h]
		mov	ah, 0
		cmp	ax, [bp+arg_0]
		jnz	short loc_12F87
		mov	ax, dx
		jmp	short loc_12F90
; ---------------------------------------------------------------------------

loc_12F87:				; CODE XREF: sub_12F6F+12j
		inc	dx
		cmp	dx, 6
		jl	short loc_12F76
		mov	ax, 0FFFFh

loc_12F90:				; CODE XREF: sub_12F6F+16j
		pop	di
		pop	si
		pop	bp
		retf
sub_12F6F	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		cmp	byte_2BC57, 0
		jnz	short loc_12FB4
		mov	word ptr ds:3706h, seg seg000
		mov	word ptr ds:3704h, 2F94h
		mov	byte_2BC57, 1

loc_12FB4:				; CODE XREF: seg000:2FA1j
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_12F6F
		pop	cx
		mov	[bp-2],	ax
		cmp	ax, 0FFFFh
		jnz	short loc_12FD3
		mov	word_29AFE, 13h
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	loc_13070
; ---------------------------------------------------------------------------

loc_12FD3:				; CODE XREF: seg000:2FC2j
		mov	bx, [bp-2]
		mov	cl, 2
		shl	bx, cl
		mov	dx, [bx+21DAh]
		mov	ax, [bx+21D8h]
		mov	[bp-4],	dx
		mov	[bp-6],	ax
		mov	bx, [bp-2]
		shl	bx, cl
		mov	dx, [bp+0Ah]
		mov	ax, [bp+8]
		mov	[bx+21DAh], dx
		mov	[bx+21D8h], ax
		cmp	word ptr [bp+6], 2
		jnz	short loc_1303D
		cmp	byte_2BC56, 0
		jnz	short loc_1301E
		mov	ax, 23h	; '#'
		push	ax
		nop
		push	cs
		call	near ptr _getvect_0
		pop	cx
		mov	ds:370Eh, dx
		mov	ds:370Ch, ax
		mov	byte_2BC56, 1

loc_1301E:				; CODE XREF: seg000:3006j
		mov	ax, [bp+8]
		or	ax, [bp+0Ah]
		jnz	short loc_13030
		push	word ptr ds:370Eh
		push	word ptr ds:370Ch
		jmp	short loc_13038
; ---------------------------------------------------------------------------

loc_13030:				; CODE XREF: seg000:3024j
		mov	ax, seg	seg000
		push	ax
		mov	ax, 2EF0h
		push	ax

loc_13038:				; CODE XREF: seg000:302Ej
		mov	ax, 23h	; '#'
		jmp	short loc_13061
; ---------------------------------------------------------------------------

loc_1303D:				; CODE XREF: seg000:2FFFj
		cmp	word ptr [bp+6], 8
		jnz	short loc_1306A
		mov	ax, seg	seg000
		push	ax
		mov	ax, 2E0Ch
		push	ax
		xor	ax, ax
		push	ax
		nop
		push	cs
		call	near ptr _setvect_0
		add	sp, 6
		mov	ax, seg	seg000
		push	ax
		mov	ax, 2E7Eh
		push	ax
		mov	ax, 4

loc_13061:				; CODE XREF: seg000:303Bj
		push	ax
		nop
		push	cs
		call	near ptr _setvect_0
		add	sp, 6

loc_1306A:				; CODE XREF: seg000:3041j
		mov	dx, [bp-4]
		mov	ax, [bp-6]

loc_13070:				; CODE XREF: seg000:2FD0j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_13076	proc far		; CODE XREF: _abort+8p

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_12F6F
		pop	cx
		mov	[bp+var_2], ax
		cmp	ax, 0FFFFh
		jnz	short loc_13093
		mov	ax, 1
		jmp	short loc_13107
; ---------------------------------------------------------------------------

loc_13093:				; CODE XREF: sub_13076+16j
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		mov	dx, [bx+21DAh]
		mov	ax, [bx+21D8h]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		or	dx, dx
		jnz	short loc_130B1
		cmp	ax, 1
		jz	short loc_13105

loc_130B1:				; CODE XREF: sub_13076+34j
		mov	ax, word ptr [bp+var_6]
		or	ax, word ptr [bp+var_6+2]
		jnz	short loc_130E0
		mov	ax, [bp+arg_0]
		cmp	ax, 2
		jz	short loc_130CB
		cmp	ax, 16h
		jnz	short loc_130D4
		nop
		push	cs
		call	near ptr sub_11128
; ---------------------------------------------------------------------------

loc_130CB:				; CODE XREF: sub_13076+49j
		xor	ax, ax
		int	23h		; DOS -	CONTROL	"C" EXIT ADDRESS
					; Return: return via RETF 2 with CF set
					; DOS will abort program with errorlevel 0
					; else
					; interrupted DOS call continues
		mov	ax, 4C03h
		int	21h		; DOS -	2+ - QUIT WITH EXIT CODE (EXIT)
					; AL = exit code
; ---------------------------------------------------------------------------

loc_130D4:				; CODE XREF: sub_13076+4Ej
		mov	ax, 1
		push	ax		; status
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx
		jmp	short loc_13105
; ---------------------------------------------------------------------------

loc_130E0:				; CODE XREF: sub_13076+41j
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		mov	word ptr [bx+21DAh], 0
		mov	word ptr [bx+21D8h], 0
		mov	bx, [bp+var_2]
		mov	al, [bx+21F6h]
		mov	ah, 0
		push	ax
		push	[bp+arg_0]
		call	[bp+var_6]
		pop	cx
		pop	cx

loc_13105:				; CODE XREF: sub_13076+39j
					; sub_13076+68j
		xor	ax, ax

loc_13107:				; CODE XREF: sub_13076+1Bj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_13076	endp

; [00000017 BYTES: COLLAPSED FUNCTION _getdate.	PRESS KEYPAD "+" TO EXPAND]
; [00000017 BYTES: COLLAPSED FUNCTION _gettime.	PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1313B	proc far		; CODE XREF: _clock+Fp	seg000:1218p

timep		= time ptr -8
datep		= date ptr -4
arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		nop
		push	cs
		call	near ptr sub_153DA
		push	ss
		lea	ax, [bp+datep]
		push	ax		; datep
		push	cs
		call	near ptr _getdate
		push	ss
		lea	ax, [bp+timep]
		push	ax		; timep
		push	cs
		call	near ptr _gettime
		add	sp, 8
		cmp	[bp+timep.ti_hour], 0
		jnz	short loc_13174
		cmp	[bp+timep.ti_min], 0
		jnz	short loc_13174
		push	ss
		lea	ax, [bp+datep]
		push	ax		; datep
		push	cs
		call	near ptr _getdate
		pop	cx
		pop	cx

loc_13174:				; CODE XREF: sub_1313B+26j
					; sub_1313B+2Cj
		xor	ax, ax
		mov	dx, 3Ch	; '<'
		push	ax
		push	dx
		push	word_2BCC4
		push	word_2BCC2
		call	near ptr N_LDIV@
		les	bx, [bp+arg_0]
		mov	es:[bx+6], ax
		cmp	word_2BCC6, 0
		jz	short loc_131BD
		mov	al, [bp+timep.ti_hour]
		mov	ah, 0
		push	ax
		mov	al, [bp+datep.da_day]
		cbw
		push	ax
		mov	al, [bp+datep.da_mon]
		cbw
		push	ax
		mov	ax, [bp+datep.da_year]
		add	ax, 0F84Eh
		push	ax
		call	sub_155D6
		or	ax, ax
		jz	short loc_131BD
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+8], 1
		jmp	short loc_131C6
; ---------------------------------------------------------------------------

loc_131BD:				; CODE XREF: sub_1313B+57j
					; sub_1313B+75j
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+8], 0

loc_131C6:				; CODE XREF: sub_1313B+80j
		push	ss
		lea	ax, [bp+timep]
		push	ax		; t
		push	ss
		lea	ax, [bp+datep]
		push	ax		; d
		nop
		push	cs
		call	near ptr _dostounix
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	al, [bp+timep.ti_hund]
		mov	ah, 0
		push	ax
		mov	ax, 0Ah
		pop	dx
		imul	dx
		mov	es:[bx+4], ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_1313B	endp

; [0000012D BYTES: COLLAPSED FUNCTION __dostounix. PRESS KEYPAD	"+" TO EXPAND]
; [00000207 BYTES: COLLAPSED FUNCTION __unixtodos. PRESS KEYPAD	"+" TO EXPAND]
		db 50h,	51h, 52h, 53h, 54h, 55h, 56h, 57h, 1Eh,	6, 8Bh
		db 0ECh, 0A1h, 8, 22h, 0Bh, 6, 0Ah, 22h, 75h, 27h, 0BEh
		db 2 dup(0FFh),	1Eh, 0B8h, 0, 63h, 0F8h, 0CDh, 21h, 8Ch
		db 0D8h, 1Fh, 72h, 0Bh,	8Ch, 0DAh, 3Bh,	0C2h, 74h, 5, 83h
		db 0FEh, 0FFh, 75h, 6, 0BEh, 0Ch, 22h, 0B8h
		dw seg dseg
; ---------------------------------------------------------------------------
		mov	word ptr dword_2BC88, si
		mov	word ptr dword_2BC88+2,	ax
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_13575	proc far		; CODE XREF: sub_1359A+35p
					; sub_19231+29p

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, [bp+arg_0]
		xor	cx, cx
		les	bx, dword_2BC88

loc_13583:				; CODE XREF: sub_13575+1Dj
		mov	dx, es:[bx]
		or	dx, dx
		jz	short loc_13595
		cmp	al, dl
		jb	short loc_13595
		inc	bx
		inc	bx
		cmp	al, dh
		ja	short loc_13583
		inc	cx

loc_13595:				; CODE XREF: sub_13575+13j
					; sub_13575+17j
		xchg	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
sub_13575	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1359A	proc far		; CODE XREF: sub_142FC+83p
					; sub_14DD7+2Fp ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		xor	cx, cx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_135B0:				; CODE XREF: sub_1359A+4Fj
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_135BD
		xor	cx, cx
		jmp	short loc_135EB
; ---------------------------------------------------------------------------

loc_135BD:				; CODE XREF: sub_1359A+1Dj
		cmp	cx, 1
		jnz	short loc_135C7
		mov	cx, 2
		jmp	short loc_135DE
; ---------------------------------------------------------------------------

loc_135C7:				; CODE XREF: sub_1359A+26j
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_13575
		pop	cx
		or	ax, ax
		jz	short loc_135DC
		mov	cx, 1
		jmp	short loc_135DE
; ---------------------------------------------------------------------------

loc_135DC:				; CODE XREF: sub_1359A+3Bj
		xor	cx, cx

loc_135DE:				; CODE XREF: sub_1359A+2Bj
					; sub_1359A+40j
		mov	ax, word ptr [bp+var_4]
		cmp	ax, [bp+arg_4]
		jnb	short loc_135EB
		inc	word ptr [bp+var_4]
		jmp	short loc_135B0
; ---------------------------------------------------------------------------

loc_135EB:				; CODE XREF: sub_1359A+21j
					; sub_1359A+4Aj
		or	cx, cx
		jnz	short loc_135F4
		mov	ax, 1
		jmp	short loc_135F6
; ---------------------------------------------------------------------------

loc_135F4:				; CODE XREF: sub_1359A+53j
		xor	ax, ax

loc_135F6:				; CODE XREF: sub_1359A+58j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_1359A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_135FC	proc far		; CODE XREF: seg000:367Dp
					; sub_153DA+135p ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	es
		push	bp
		les	si, [bp+arg_0]
		cld
		sub	ax, ax
		cwd
		mov	cx, 0Ah
		mov	bh, 0
		mov	di, 1F05h

loc_13612:				; CODE XREF: sub_135FC+1Dj
		mov	bl, es:[si]
		inc	si
		test	byte ptr [bx+di], 1
		jnz	short loc_13612
		mov	bp, 0
		cmp	bl, 2Bh	; '+'
		jz	short loc_13629
		cmp	bl, 2Dh	; '-'
		jnz	short loc_1362D
		inc	bp

loc_13629:				; CODE XREF: sub_135FC+25j
					; sub_135FC+41j
		mov	bl, es:[si]
		inc	si

loc_1362D:				; CODE XREF: sub_135FC+2Aj
		cmp	bl, 39h	; '9'
		ja	short loc_13661
		sub	bl, 30h	; '0'
		jb	short loc_13661
		mul	cx
		add	ax, bx
		adc	dl, dh
		jz	short loc_13629
		jmp	short loc_13653
; ---------------------------------------------------------------------------

loc_13641:				; CODE XREF: sub_135FC+63j
		mov	di, dx
		mov	cx, 0Ah
		mul	cx
		xchg	ax, di
		xchg	dx, cx
		mul	dx
		xchg	ax, dx
		xchg	ax, di
		add	ax, bx
		adc	dx, cx

loc_13653:				; CODE XREF: sub_135FC+43j
		mov	bl, es:[si]
		inc	si
		cmp	bl, 39h	; '9'
		ja	short loc_13661
		sub	bl, 30h	; '0'
		jnb	short loc_13641

loc_13661:				; CODE XREF: sub_135FC+34j
					; sub_135FC+39j ...
		dec	bp
		jl	short loc_1366B
		neg	dx
		neg	ax
		sbb	dx, 0

loc_1366B:				; CODE XREF: sub_135FC+66j
		pop	bp
		pop	es
		pop	di
		pop	si
		pop	bp
		retf
sub_135FC	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_135FC
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
; [00000014 BYTES: COLLAPSED FUNCTION _bdos. PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION __chmod. PRESS KEYPAD "+"	TO EXPAND]
; [0000002C BYTES: COLLAPSED FUNCTION _close. PRESS KEYPAD "+" TO EXPAND]
; [00000022 BYTES: COLLAPSED FUNCTION __rtl_close. PRESS KEYPAD	"+" TO EXPAND]
; [00000011 BYTES: COLLAPSED FUNCTION __close. PRESS KEYPAD "+"	TO EXPAND]
; [0000007D BYTES: COLLAPSED FUNCTION _eof. PRESS KEYPAD "+" TO	EXPAND]
; [000000C0 BYTES: COLLAPSED FUNCTION _fclose. PRESS KEYPAD "+"	TO EXPAND]
; [000000D1 BYTES: COLLAPSED FUNCTION _fflush. PRESS KEYPAD "+"	TO EXPAND]
; [00000037 BYTES: COLLAPSED FUNCTION _findfirst. PRESS	KEYPAD "+" TO EXPAND]
; [00000031 BYTES: COLLAPSED FUNCTION _findnext. PRESS KEYPAD "+" TO EXPAND]
; [00000045 BYTES: COLLAPSED FUNCTION _filelength. PRESS KEYPAD	"+" TO EXPAND]
; [0000004C BYTES: COLLAPSED FUNCTION _flushall. PRESS KEYPAD "+" TO EXPAND]
; [000000D4 BYTES: COLLAPSED FUNCTION sub_13A21. PRESS KEYPAD "+" TO EXPAND]
; [000000D2 BYTES: COLLAPSED FUNCTION __OPENFP.	PRESS KEYPAD "+" TO EXPAND]
; [0000004D BYTES: COLLAPSED FUNCTION __GETFP. PRESS KEYPAD "+"	TO EXPAND]
; [00000039 BYTES: COLLAPSED FUNCTION _fopen. PRESS KEYPAD "+" TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION _fprintf.	PRESS KEYPAD "+" TO EXPAND]
; [0000011B BYTES: COLLAPSED FUNCTION sub_13C6D. PRESS KEYPAD "+" TO EXPAND]
; [0000009A BYTES: COLLAPSED FUNCTION _fread. PRESS KEYPAD "+" TO EXPAND]
; [00000089 BYTES: COLLAPSED FUNCTION sub_13E22. PRESS KEYPAD "+" TO EXPAND]
; [00000082 BYTES: COLLAPSED FUNCTION _fseek. PRESS KEYPAD "+" TO EXPAND]
; [000000E1 BYTES: COLLAPSED FUNCTION _ftell. PRESS KEYPAD "+" TO EXPAND]
; [00000099 BYTES: COLLAPSED FUNCTION _fwrite. PRESS KEYPAD "+"	TO EXPAND]
; [00000045 BYTES: COLLAPSED FUNCTION sub_140A7. PRESS KEYPAD "+" TO EXPAND]
; [0000007B BYTES: COLLAPSED FUNCTION sub_140EC. PRESS KEYPAD "+" TO EXPAND]
; [00000019 BYTES: COLLAPSED FUNCTION __fgetc. PRESS KEYPAD "+"	TO EXPAND]
; ---------------------------------------------------------------------------

__Nfgetc:
		pop	ax
		push	cs
		push	ax
; [000000F9 BYTES: COLLAPSED FUNCTION _fgetc. PRESS KEYPAD "+" TO EXPAND]
; [00000010 BYTES: COLLAPSED FUNCTION _fgetchar. PRESS KEYPAD "+" TO EXPAND]
; [00000070 BYTES: COLLAPSED FUNCTION _getenv. PRESS KEYPAD "+"	TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_142FC(char *dest, __int32, char	*s, int, int, __int32)
sub_142FC	proc far		; CODE XREF: ArgHandler+20DP

dest		= dword	ptr  6
arg_6		= dword	ptr  0Ah
s		= dword	ptr  0Eh
arg_E		= word ptr  12h
arg_10		= word ptr  14h
arg_12		= dword	ptr  16h

; FUNCTION CHUNK AT 4328 SIZE 000000D3 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_6]
		or	ax, word ptr [bp+arg_6+2]
		jz	short loc_14328
		les	bx, [bp+arg_6]
		cmp	byte ptr es:[bx], 0
		jz	short loc_14328
		mov	al, es:[bx]
		les	bx, [bp+dest]
		mov	es:[bx], al
		inc	word ptr [bp+dest]

loc_1431E:				; CODE XREF: seg000:089Dp seg000:08D9p ...
		les	bx, [bp+dest]
sub_142FC	endp ; sp-analysis failed

		mov	byte ptr es:[bx], 3Ah ;	':'
		inc	word ptr [bp+6]
; START	OF FUNCTION CHUNK FOR sub_142FC

loc_14328:				; CODE XREF: sub_142FC+Bj
					; sub_142FC+14j
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_14393
		les	bx, [bp+s]
		cmp	byte ptr es:[bx], 0
		jz	short loc_14393
		push	word ptr [bp+s+2]
		push	bx		; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 5Ch	; '\'
		jz	short loc_14362
		cmp	byte ptr es:[bx-1], 2Fh	; '/'
		jnz	short loc_14389

loc_14362:				; CODE XREF: sub_142FC+5Dj
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, word ptr [bp+s]
		dec	ax
		push	word ptr [bp+s+2]
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr sub_1359A
		add	sp, 8
		or	ax, ax
		jnz	short loc_14393

loc_14389:				; CODE XREF: sub_142FC+64j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp+dest]

loc_14393:				; CODE XREF: sub_142FC+32j
					; sub_142FC+3Bj ...
		mov	ax, [bp+arg_E]
		or	ax, [bp+arg_10]
		jz	short loc_143B5
		push	[bp+arg_10]
		push	[bp+arg_E]	; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax

loc_143B5:				; CODE XREF: sub_142FC+9Dj
		mov	ax, word ptr [bp+arg_12]
		or	ax, word ptr [bp+arg_12+2]
		jz	short loc_143F0
		les	bx, [bp+arg_12]
		cmp	byte ptr es:[bx], 0
		jz	short loc_143F0
		cmp	byte ptr es:[bx], 2Eh ;	'.'
		jz	short loc_143D6
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 2Eh ;	'.'
		inc	word ptr [bp+dest]

loc_143D6:				; CODE XREF: sub_142FC+CEj
		push	word ptr [bp+arg_12+2]
		push	word ptr [bp+arg_12] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax

loc_143F0:				; CODE XREF: sub_142FC+BFj
					; sub_142FC+C8j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		pop	di
		pop	si
		pop	bp
		retf
; END OF FUNCTION CHUNK	FOR sub_142FC
; [00000028 BYTES: COLLAPSED FUNCTION _memcmp. PRESS KEYPAD "+"	TO EXPAND]
; [00000024 BYTES: COLLAPSED FUNCTION _memcpy. PRESS KEYPAD "+"	TO EXPAND]
; [00000026 BYTES: COLLAPSED FUNCTION _setmem. PRESS KEYPAD "+"	TO EXPAND]
; [00000022 BYTES: COLLAPSED FUNCTION _memset. PRESS KEYPAD "+"	TO EXPAND]
; [00000052 BYTES: COLLAPSED FUNCTION _movmem. PRESS KEYPAD "+"	TO EXPAND]
; [00000025 BYTES: COLLAPSED FUNCTION _memmove.	PRESS KEYPAD "+" TO EXPAND]
; [0000001F BYTES: COLLAPSED FUNCTION sub_14506. PRESS KEYPAD "+" TO EXPAND]
; [00000016 BYTES: COLLAPSED FUNCTION sub_14525. PRESS KEYPAD "+" TO EXPAND]
; [0000000E BYTES: COLLAPSED FUNCTION _open. PRESS KEYPAD "+" TO EXPAND]
		mov	ax, word_2B8FA
		and	ax, 0C000h
		or	[bp+0Ah], ax
; [0000017F BYTES: COLLAPSED CHUNK OF FUNCTION _open. PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_146D1	proc far		; CODE XREF: _open+D3p	seg000:4733p

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	al, 1
		mov	cx, [bp+arg_4]
		test	cx, 2
		jnz	short loc_146EE
		mov	al, 2
		test	cx, 4
		jnz	short loc_146EE
		mov	al, 0

loc_146EE:				; CODE XREF: sub_146D1+11j
					; sub_146D1+19j
		push	ds
		lds	dx, [bp+arg_0]
		mov	cl, 0F0h ; 'ð'
		and	cl, byte ptr [bp+arg_4]
		or	al, cl
		mov	ah, 3Dh
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read, 1 -	write, 2 - read	& write
		pop	ds
		jb	short loc_1471A
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_4]
		and	ax, 0B8FFh
		or	ax, 8000h
		mov	bx, [bp+var_2]
		add	bx, bx
		mov	[bx+1E52h], ax
		mov	ax, [bp+var_2]
		jmp	short loc_1471E
; ---------------------------------------------------------------------------

loc_1471A:				; CODE XREF: sub_146D1+2Dj
		push	ax
		call	__IOERROR

loc_1471E:				; CODE XREF: sub_146D1+47j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_146D1	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_146D1
		add	sp, 6
		pop	di
		pop	si
		pop	bp
		retf
; [0000001F BYTES: COLLAPSED FUNCTION _printf. PRESS KEYPAD "+"	TO EXPAND]
; [00000020 BYTES: COLLAPSED FUNCTION __fputc. PRESS KEYPAD "+"	TO EXPAND]
; [0000018B BYTES: COLLAPSED FUNCTION _fputc. PRESS KEYPAD "+" TO EXPAND]
; [00000018 BYTES: COLLAPSED FUNCTION _fputchar. PRESS KEYPAD "+" TO EXPAND]
; [0000020B BYTES: COLLAPSED FUNCTION __FPUTN. PRESS KEYPAD "+"	TO EXPAND]
; [0000001A BYTES: COLLAPSED FUNCTION _puts. PRESS KEYPAD "+" TO EXPAND]
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	[bp-2],	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	ax
		push	ds
		mov	ax, 1CD4h
		push	ax
		call	__FPUTN
		cmp	ax, [bp-2]
		jz	short loc_14B67
		mov	ax, 0FFFFh
		jmp	short loc_14B85
; ---------------------------------------------------------------------------

loc_14B67:				; CODE XREF: seg000:4B60j
		push	ds
		mov	ax, 1CD4h
		push	ax
		mov	ax, 0Ah
		push	ax
		nop
		push	cs
		call	near ptr _fputc
		add	sp, 6
		cmp	ax, 0Ah
		jz	short loc_14B82
		mov	ax, 0FFFFh
		jmp	short loc_14B85
; ---------------------------------------------------------------------------

loc_14B82:				; CODE XREF: seg000:4B7Bj
		mov	ax, 0Ah
; [00000006 BYTES: COLLAPSED CHUNK OF FUNCTION _puts. PRESS KEYPAD "+" TO EXPAND]
; [000000C5 BYTES: COLLAPSED FUNCTION ___read. PRESS KEYPAD "+"	TO EXPAND]
		pop	bx
; [00000009 BYTES: COLLAPSED CHUNK OF FUNCTION ___read.	PRESS KEYPAD "+" TO EXPAND]
; [00000121 BYTES: COLLAPSED FUNCTION _setvbuf.	PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_14D7B(size_t maxlen, char *src, char *dest)
sub_14D7B	proc near		; CODE XREF: sub_14E61+110p
					; sub_14E61+151p ...

maxlen		= word ptr  4
src		= dword	ptr  6
dest		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+dest]
		or	ax, word ptr [bp+dest+2]
		jz	short loc_14DD1
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, [bp+maxlen]
		jb	short loc_14DBD
		push	[bp+maxlen]	; maxlen
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strncpy
		add	sp, 0Ah
		les	bx, [bp+dest]
		add	bx, [bp+maxlen]
		mov	byte ptr es:[bx], 0
		jmp	short loc_14DD1
; ---------------------------------------------------------------------------

loc_14DBD:				; CODE XREF: sub_14D7B+1Dj
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8

loc_14DD1:				; CODE XREF: sub_14D7B+Bj
					; sub_14D7B+40j
		pop	di
		pop	si
		pop	bp
		retn	0Ah
sub_14D7B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_14DD7	proc near		; CODE XREF: sub_14E61+EAp

var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_14DEC
		dec	word ptr [bp+arg_0]

loc_14DEC:				; CODE XREF: sub_14DD7+10j
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx-1], 0
		jz	short loc_14E12
		mov	ax, word ptr [bp+arg_0]
		dec	ax
		push	word ptr [bp+arg_0+2]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		nop
		push	cs
		call	near ptr sub_1359A
		add	sp, 8
		or	ax, ax
		jnz	short loc_14E12
		jmp	short loc_14E47	; jumptable 00014E34 default case
; ---------------------------------------------------------------------------

loc_14E12:				; CODE XREF: sub_14DD7+1Dj
					; sub_14DD7+37j
		dec	word ptr [bp+arg_0]
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_2], ax
		mov	cx, 4		; switch 4 cases
		mov	bx, offset word_14E51

loc_14E25:				; CODE XREF: sub_14DD7+59j
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_2]
		jz	short loc_14E34
		add	bx, 2
		loop	loc_14E25
		jmp	short loc_14E47	; jumptable 00014E34 default case
; ---------------------------------------------------------------------------

loc_14E34:				; CODE XREF: sub_14DD7+54j
		jmp	word ptr cs:[bx+8] ; switch jump

loc_14E38:				; DATA XREF: seg000:4E59o
		les	bx, [bp+arg_0]	; jumptable 00014E34 case 58
		cmp	byte ptr es:[bx-2], 0
		jnz	short loc_14E47	; jumptable 00014E34 default case

loc_14E42:				; CODE XREF: sub_14DD7:loc_14E34j
					; DATA XREF: seg000:4E59o
		mov	ax, 1		; jumptable 00014E34 cases 0,47,92
		jmp	short loc_14E49
; ---------------------------------------------------------------------------

loc_14E47:				; CODE XREF: sub_14DD7+39j
					; sub_14DD7+5Bj ...
		xor	ax, ax		; jumptable 00014E34 default case

loc_14E49:				; CODE XREF: sub_14DD7+6Ej
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	8
sub_14DD7	endp

; ---------------------------------------------------------------------------
word_14E51	dw	0,   2Fh,   3Ah,   5Ch ; DATA XREF: sub_14DD7+4Bo
					; value	table for switch statement
		dw offset loc_14E42	; jump table for switch	statement
		dw offset loc_14E42
		dw offset loc_14E38
		dw offset loc_14E42

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_14E61(char *src, __int32, __int32, __int32, __int32)
sub_14E61	proc far		; CODE XREF: sub_1509F+24p

var_5C		= byte ptr -5Ch
var_5B		= byte ptr -5Bh
var_5A		= byte ptr -5Ah
var_A		= word ptr -0Ah
var_8		= word ptr -8
maxlen		= word ptr -6
dest		= dword	ptr -4
src		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= dword	ptr  0Eh
arg_C		= dword	ptr  12h
arg_10		= dword	ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 5Ch
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_14E7D
		les	bx, [bp+arg_4]
		mov	byte ptr es:[bx], 0

loc_14E7D:				; CODE XREF: sub_14E61+13j
		mov	ax, word ptr [bp+arg_8]
		or	ax, word ptr [bp+arg_8+2]
		jz	short loc_14E8C
		les	bx, [bp+arg_8]
		mov	byte ptr es:[bx], 0

loc_14E8C:				; CODE XREF: sub_14E61+22j
		mov	ax, word ptr [bp+arg_C]
		or	ax, word ptr [bp+arg_C+2]
		jz	short loc_14E9B
		les	bx, [bp+arg_C]
		mov	byte ptr es:[bx], 0

loc_14E9B:				; CODE XREF: sub_14E61+31j
		mov	ax, word ptr [bp+arg_10]
		or	ax, word ptr [bp+arg_10+2]
		jz	short loc_14EAA
		les	bx, [bp+arg_10]
		mov	byte ptr es:[bx], 0

loc_14EAA:				; CODE XREF: sub_14E61+40j
		lea	ax, [bp+var_5C]
		mov	word ptr [bp+dest+2], ss
		mov	word ptr [bp+dest], ax
		jmp	short loc_14EB8
; ---------------------------------------------------------------------------

loc_14EB5:				; CODE XREF: sub_14E61+5Ej
		inc	word ptr [bp+src]

loc_14EB8:				; CODE XREF: sub_14E61+52j
		les	bx, [bp+src]
		cmp	byte ptr es:[bx], 20h ;	' '
		jz	short loc_14EB5
		push	word ptr [bp+src+2]
		push	bx		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	[bp+maxlen], ax
		cmp	ax, 50h	; 'P'
		jle	short loc_14ED9
		mov	[bp+maxlen], 50h ; 'P'

loc_14ED9:				; CODE XREF: sub_14E61+71j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+dest]
		push	[bp+maxlen]	; maxlen
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strncpy
		add	sp, 0Ah
		mov	ax, [bp+maxlen]
		add	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		mov	[bp+maxlen], 0

loc_14F0C:				; CODE XREF: sub_14E61+CBj
					; sub_14E61+F4j ...
		dec	word ptr [bp+dest] ; jumptable 00014F2E	default	case
		les	bx, [bp+dest]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_A], ax
		mov	cx, 7		; switch 7 cases
		mov	bx, offset word_15083

loc_14F1F:				; CODE XREF: sub_14E61+C9j
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_A]
		jz	short loc_14F2E
		add	bx, 2
		loop	loc_14F1F
		jmp	short loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_14F2E:				; CODE XREF: sub_14E61+C4j
		jmp	word ptr cs:[bx+0Eh] ; switch jump

loc_14F32:				; DATA XREF: seg000:5091o
		cmp	[bp+maxlen], 0	; jumptable 00014F2E case 46
		jnz	short loc_14F51
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx+1], 0
		jnz	short loc_14F51
		push	ss
		lea	ax, [bp+var_5B]
		push	ax
		push	word ptr [bp+dest+2]
		push	bx
		call	sub_14DD7
		mov	[bp+maxlen], ax

loc_14F51:				; CODE XREF: sub_14E61+D5j
					; sub_14E61+DFj
		cmp	[bp+maxlen], 0
		jnz	short loc_14F0C	; jumptable 00014F2E default case
		test	byte ptr [bp+var_8], 2
		jnz	short loc_14F0C	; jumptable 00014F2E default case
		or	[bp+var_8], 2
		push	word ptr [bp+arg_10+2]
		push	word ptr [bp+arg_10] ; dest
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; src
		mov	ax, 4
		push	ax		; maxlen
		call	sub_14D7B
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		jmp	short loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_14F7D:				; CODE XREF: sub_14E61:loc_14F2Ej
					; DATA XREF: seg000:5091o
		mov	ax, ss		; jumptable 00014F2E case 58
		lea	dx, [bp+var_5A]
		cmp	ax, word ptr [bp+dest+2]
		jnz	short loc_14F0C	; jumptable 00014F2E default case
		cmp	dx, word ptr [bp+dest]
		jnz	short loc_14F0C	; jumptable 00014F2E default case

loc_14F8C:				; CODE XREF: sub_14E61:loc_14F2Ej
					; DATA XREF: seg000:5091o
		cmp	[bp+maxlen], 0	; jumptable 00014F2E case 0
		jz	short loc_14FC2	; jumptable 00014F2E cases 47,92
		inc	word ptr [bp+dest]
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 0
		jz	short loc_14FA2
		or	[bp+var_8], 8

loc_14FA2:				; CODE XREF: sub_14E61+13Bj
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8] ; dest
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; src
		mov	ax, 41h	; 'A'
		push	ax		; maxlen
		call	sub_14D7B
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		dec	word ptr [bp+dest]
		jmp	loc_15055
; ---------------------------------------------------------------------------

loc_14FC2:				; CODE XREF: sub_14E61:loc_14F2Ej
					; sub_14E61+12Fj
					; DATA XREF: ...
		cmp	[bp+maxlen], 0	; jumptable 00014F2E cases 47,92
		jz	short loc_14FCB
		jmp	loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_14FCB:				; CODE XREF: sub_14E61+165j
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 0
		jz	short loc_14FEC
		push	word ptr [bp+dest+2]
		push	bx
		push	ss
		lea	ax, [bp+var_5B]
		push	ax
		nop
		push	cs
		call	near ptr sub_1359A
		add	sp, 8
		or	ax, ax
		jnz	short loc_14FEC
		jmp	loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_14FEC:				; CODE XREF: sub_14E61+171j
					; sub_14E61+186j
		inc	[bp+maxlen]
		inc	word ptr [bp+dest]
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 0
		jz	short loc_14FFF
		or	[bp+var_8], 4

loc_14FFF:				; CODE XREF: sub_14E61+198j
		push	word ptr [bp+arg_C+2]
		push	word ptr [bp+arg_C] ; dest
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; src
		mov	ax, 8
		push	ax		; maxlen
		call	sub_14D7B
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		dec	word ptr [bp+dest]
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 0
		jz	short loc_15055
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jz	short loc_1502E
		jmp	loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_1502E:				; CODE XREF: sub_14E61+1C8j
		mov	ax, ss
		lea	dx, [bp+var_5A]
		cmp	ax, word ptr [bp+dest+2]
		jz	short loc_1503B
		jmp	loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_1503B:				; CODE XREF: sub_14E61+1D5j
		cmp	dx, word ptr [bp+dest]
		jz	short loc_15043
		jmp	loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_15043:				; CODE XREF: sub_14E61+1DDj
		jmp	short loc_15055
; ---------------------------------------------------------------------------

loc_15045:				; CODE XREF: sub_14E61:loc_14F2Ej
					; DATA XREF: seg000:5091o
		cmp	[bp+maxlen], 0	; jumptable 00014F2E cases 42,63
		jz	short loc_1504E
		jmp	loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_1504E:				; CODE XREF: sub_14E61+1E8j
		or	[bp+var_8], 1
		jmp	loc_14F0C	; jumptable 00014F2E default case
; ---------------------------------------------------------------------------

loc_15055:				; CODE XREF: sub_14E61+15Ej
					; sub_14E61+1C2j ...
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 3Ah ;	':'
		jnz	short loc_1507A
		cmp	[bp+var_5B], 0
		jz	short loc_15068
		or	[bp+var_8], 10h

loc_15068:				; CODE XREF: sub_14E61+201j
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4] ; dest
		push	ss
		lea	ax, [bp+var_5B]
		push	ax		; src
		mov	ax, 2
		push	ax		; maxlen
		call	sub_14D7B

loc_1507A:				; CODE XREF: sub_14E61+1FBj
		mov	ax, [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_14E61	endp

; ---------------------------------------------------------------------------
word_15083	dw	0,   2Ah,   2Eh,   2Fh ; DATA XREF: sub_14E61+BBo
		dw    3Ah,   3Fh,   5Ch	; value	table for switch statement
		dw offset loc_14F8C	; jump table for switch	statement
		dw offset loc_15045
		dw offset loc_14F32
		dw offset loc_14FC2
		dw offset loc_14F7D
		dw offset loc_15045
		dw offset loc_14FC2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_1509F(char *src, __int32, __int32, __int32, __int32)
sub_1509F	proc far		; CODE XREF: ArgHandler+1DDP

src		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= dword	ptr  0Eh
arg_C		= dword	ptr  12h
arg_10		= dword	ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+arg_10+2]
		push	word ptr [bp+arg_10] ; __int32
		push	word ptr [bp+arg_C+2]
		push	word ptr [bp+arg_C] ; __int32
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8] ; __int32
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4] ; __int32
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	cs
		call	near ptr sub_14E61
		add	sp, 14h
		pop	di
		pop	si
		pop	bp
		retf
sub_1509F	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+8]
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		les	bx, [bp+4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		mov	ax, [bp+8]
		les	bx, [bp+4]
		add	es:[bx], ax
		push	bx
		push	es
		mov	es, word ptr es:[bx+2]
		mov	ax, es
		pop	es
		pop	bx
		mov	bx, es:[bx]
		mov	es, ax
		mov	byte ptr es:[bx], 0
		mov	ax, [bp+8]
		pop	di
		pop	si
		pop	bp
		retn	0Ah
; [00000026 BYTES: COLLAPSED FUNCTION _sprintf.	PRESS KEYPAD "+" TO EXPAND]
; [00000025 BYTES: COLLAPSED FUNCTION _vsprintf. PRESS KEYPAD "+" TO EXPAND]
; [0000003F BYTES: COLLAPSED FUNCTION _strcat. PRESS KEYPAD "+"	TO EXPAND]
; [00000030 BYTES: COLLAPSED FUNCTION _strcmp. PRESS KEYPAD "+"	TO EXPAND]
; [00000029 BYTES: COLLAPSED FUNCTION _strcpy. PRESS KEYPAD "+"	TO EXPAND]
; [0000004B BYTES: COLLAPSED FUNCTION _strdup. PRESS KEYPAD "+"	TO EXPAND]
; [00000041 BYTES: COLLAPSED FUNCTION _stricmp.	PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION _strlen. PRESS KEYPAD "+"	TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_152A2(char *s, void *src, int)
sub_152A2	proc far		; CODE XREF: fopen3+3DP fopen3+E7P ...

var_4		= word ptr -4
length		= word ptr -2
s		= dword	ptr  6
src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	[bp+var_4], ax
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	[bp+length], ax
		cmp	ax, [bp+arg_8]
		jbe	short loc_152D5
		mov	ax, [bp+arg_8]
		mov	[bp+length], ax

loc_152D5:				; CODE XREF: sub_152A2+2Bj
		push	[bp+length]	; length
		mov	ax, word ptr [bp+s]
		add	ax, [bp+var_4]
		push	word ptr [bp+s+2]
		push	ax		; dest
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		nop
		push	cs
		call	near ptr _movmem
		add	sp, 0Ah
		mov	ax, [bp+var_4]
		add	ax, [bp+length]
		les	bx, [bp+s]
		add	bx, ax
		mov	byte ptr es:[bx], 0
		mov	dx, word ptr [bp+s+2]
		mov	ax, word ptr [bp+s]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_152A2	endp

; [00000038 BYTES: COLLAPSED FUNCTION _strncmp.	PRESS KEYPAD "+" TO EXPAND]
; [00000031 BYTES: COLLAPSED FUNCTION _strncpy.	PRESS KEYPAD "+" TO EXPAND]
; [00000026 BYTES: COLLAPSED FUNCTION _strupr. PRESS KEYPAD "+"	TO EXPAND]
; [0000001D BYTES: COLLAPSED FUNCTION _dostounix. PRESS	KEYPAD "+" TO EXPAND]
; [00000023 BYTES: COLLAPSED FUNCTION _unixtodos. PRESS	KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_153DA	proc far		; CODE XREF: sub_1313B+Ap
					; __dostounix+Ap ...

src		= dword	ptr -6
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		push	ds
		mov	ax, 2248h
		push	ax		; name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		or	ax, dx
		jnz	short loc_153FB
		jmp	loc_15490
; ---------------------------------------------------------------------------

loc_153FB:				; CODE XREF: sub_153DA+1Cj
		push	dx
		push	word ptr [bp+src] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, 4
		jnb	short loc_1540E
		jmp	loc_15490
; ---------------------------------------------------------------------------

loc_1540E:				; CODE XREF: sub_153DA+2Fj
		les	bx, [bp+src]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		mov	al, [bx+1F05h]
		mov	ah, 0
		test	al, 0Ch
		jz	short loc_15490
		mov	bx, word ptr [bp+src]
		mov	al, es:[bx+1]
		cbw
		mov	bx, ax
		mov	al, [bx+1F05h]
		mov	ah, 0
		test	al, 0Ch
		jz	short loc_15490
		mov	bx, word ptr [bp+src]
		mov	al, es:[bx+2]
		cbw
		mov	bx, ax
		mov	al, [bx+1F05h]
		mov	ah, 0
		test	al, 0Ch
		jz	short loc_15490
		mov	bx, word ptr [bp+src]
		cmp	byte ptr es:[bx+3], 2Dh	; '-'
		jz	short loc_15468
		cmp	byte ptr es:[bx+3], 2Bh	; '+'
		jz	short loc_15468
		mov	al, es:[bx+3]
		cbw
		mov	bx, ax
		test	byte ptr [bx+1F05h], 2
		jz	short loc_15490

loc_15468:				; CODE XREF: sub_153DA+77j
					; sub_153DA+7Ej
		les	bx, [bp+src]
		mov	al, es:[bx+3]
		cbw
		mov	bx, ax
		mov	al, [bx+1F05h]
		mov	ah, 0
		test	al, 2
		jnz	short loc_154CC
		mov	bx, word ptr [bp+src]
		mov	al, es:[bx+4]
		cbw
		mov	bx, ax
		mov	al, [bx+1F05h]
		mov	ah, 0
		test	al, 2
		jnz	short loc_154CC

loc_15490:				; CODE XREF: sub_153DA+1Ej
					; sub_153DA+31j ...
		mov	word_2BCC6, 0
		mov	word_2BCC4, 0FFFFh
		mov	word_2BCC2, 8170h
		push	ds
		mov	ax, 224Bh
		push	ax		; src
		push	seg_2BCBC
		push	dest		; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	ds
		mov	ax, 224Fh
		push	ax		; src
		push	seg_2BCC0
		push	s		; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 10h
		jmp	loc_155D0
; ---------------------------------------------------------------------------

loc_154CC:				; CODE XREF: sub_153DA+A0j
					; sub_153DA+B4j
		mov	ax, 4
		push	ax		; n
		xor	ax, ax
		push	ax		; c
		push	seg_2BCC0
		push	s		; s
		nop
		push	cs
		call	near ptr _memset
		mov	ax, 3
		push	ax		; maxlen
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	seg_2BCBC
		push	dest		; dest
		nop
		push	cs
		call	near ptr _strncpy
		add	sp, 12h
		les	bx, dword ptr dest
		mov	byte ptr es:[bx+3], 0
		mov	ax, word ptr [bp+src]
		add	ax, 3
		push	word ptr [bp+src+2]
		push	ax
		nop
		push	cs
		call	near ptr sub_135FC
		pop	cx
		pop	cx
		push	ax
		push	dx
		xor	dx, dx
		mov	ax, 0E10h
		pop	cx
		pop	bx
		call	N_LXMUL@
		mov	word_2BCC4, dx
		mov	word_2BCC2, ax
		mov	word_2BCC6, 0
		mov	[bp+var_2], 3
		jmp	loc_155C1
sub_153DA	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_1554E

loc_15535:				; CODE XREF: sub_1554E+7Fj
		les	bx, [bp-6]
		add	bx, [bp-2]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+1F05h], 0Ch
		jz	short loc_155BE
		mov	ax, [bp-6]
		add	ax, [bp-2]
; END OF FUNCTION CHUNK	FOR sub_1554E

; =============== S U B	R O U T	I N E =======================================


; int __fastcall __far sub_1554E(char *s)
sub_1554E	proc far		; CODE XREF: seg000:089Dp seg000:08D9p ...

; FUNCTION CHUNK AT 5535 SIZE 00000019 BYTES

		push	word ptr [bp-4]
		push	ax		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, 3
		jb	short loc_155D0
		mov	bx, [bp-2]
		mov	es, word ptr [bp-4]
		add	bx, [bp-6]
		mov	al, es:[bx+1]
		cbw
		mov	bx, ax
		mov	al, [bx+1F05h]
		mov	ah, 0
		test	al, 0Ch
		jz	short loc_155D0
		mov	bx, [bp-2]
		add	bx, [bp-6]
		mov	al, es:[bx+2]
		cbw
		mov	bx, ax
		mov	al, [bx+1F05h]
		mov	ah, 0
		test	al, 0Ch
		jz	short loc_155D0
		mov	ax, 3
		push	ax		; maxlen
		mov	ax, [bp-6]
		add	ax, [bp-2]
		push	word ptr [bp-4]
		push	ax		; src
		push	seg_2BCC0
		push	s		; dest
		nop
		push	cs
		call	near ptr _strncpy
		add	sp, 0Ah
		les	bx, dword ptr s
		mov	byte ptr es:[bx+3], 0
		mov	word_2BCC6, 1
		jmp	short loc_155D0
; ---------------------------------------------------------------------------

loc_155BE:				; CODE XREF: sub_1554E-8j
		inc	word ptr [bp-2]

loc_155C1:				; CODE XREF: sub_153DA+158j
		les	bx, [bp-6]
		add	bx, [bp-2]
		cmp	byte ptr es:[bx], 0
		jz	short loc_155D0
		jmp	loc_15535
; ---------------------------------------------------------------------------

loc_155D0:				; CODE XREF: sub_153DA+EFj
					; sub_1554E+Ej	...
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_1554E	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_155D6	proc near		; CODE XREF: sub_1313B+70p
					; __dostounix+D9p ...

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		cmp	[bp+arg_2], 0
		jnz	short loc_15617
		mov	ax, [bp+arg_4]
		mov	[bp+var_2], ax
		cmp	[bp+arg_4], 3Bh	; ';'
		jb	short loc_155FD
		mov	ax, [bp+arg_0]
		add	ax, 46h	; 'F'
		test	al, 3
		jnz	short loc_155FD
		dec	[bp+var_2]

loc_155FD:				; CODE XREF: sub_155D6+18j
					; sub_155D6+22j
		mov	[bp+arg_2], 0
		jmp	short loc_15607
; ---------------------------------------------------------------------------

loc_15604:				; CODE XREF: sub_155D6+3Dj
		inc	[bp+arg_2]

loc_15607:				; CODE XREF: sub_155D6+2Cj
		mov	bx, [bp+arg_2]
		add	bx, bx
		mov	ax, [bx+2220h]
		cmp	ax, [bp+var_2]
		jbe	short loc_15604
		jmp	short loc_15637
; ---------------------------------------------------------------------------

loc_15617:				; CODE XREF: sub_155D6+Cj
		mov	bx, [bp+arg_2]
		dec	bx
		add	bx, bx
		mov	ax, [bx+2220h]
		add	[bp+arg_4], ax
		cmp	[bp+arg_2], 3
		jbe	short loc_15637
		mov	ax, [bp+arg_0]
		add	ax, 46h	; 'F'
		test	al, 3
		jnz	short loc_15637
		inc	[bp+arg_4]

loc_15637:				; CODE XREF: sub_155D6+3Fj
					; sub_155D6+52j ...
		cmp	[bp+arg_2], 4
		jb	short loc_156B8
		jz	short loc_15647
		cmp	[bp+arg_2], 0Ah
		ja	short loc_156B8
		jnz	short loc_156B3

loc_15647:				; CODE XREF: sub_155D6+67j
		mov	bx, [bp+arg_2]
		shl	bx, 1
		cmp	[bp+arg_0], 10h
		jle	short loc_15661
		cmp	[bp+arg_2], 4
		jnz	short loc_15661
		mov	cx, [bx+221Eh]
		add	cx, 7
		jmp	short loc_15665
; ---------------------------------------------------------------------------

loc_15661:				; CODE XREF: sub_155D6+7Aj
					; sub_155D6+80j
		mov	cx, [bx+2220h]

loc_15665:				; CODE XREF: sub_155D6+89j
		mov	bx, [bp+arg_0]
		add	bx, 7B2h
		test	bl, 3
		jz	short loc_15672
		dec	cx

loc_15672:				; CODE XREF: sub_155D6+99j
		mov	bx, [bp+arg_0]
		inc	bx
		sar	bx, 1
		sar	bx, 1
		add	bx, cx
		mov	ax, 16Dh
		mul	[bp+arg_0]
		add	ax, bx
		add	ax, 4
		xor	dx, dx
		mov	bx, 7
		div	bx
		sub	cx, dx
		mov	ax, [bp+arg_4]
		cmp	[bp+arg_2], 4
		jnz	short loc_156A7
		cmp	ax, cx
		ja	short loc_156B3
		jnz	short loc_156B8
		cmp	[bp+arg_6], 2
		jb	short loc_156B8
		jmp	short loc_156B3
; ---------------------------------------------------------------------------

loc_156A7:				; CODE XREF: sub_155D6+C1j
		cmp	ax, cx
		jb	short loc_156B3
		jnz	short loc_156B8
		cmp	[bp+arg_6], 1
		ja	short loc_156B8

loc_156B3:				; CODE XREF: sub_155D6+6Fj
					; sub_155D6+C5j ...
		mov	ax, 1
		jmp	short loc_156BA
; ---------------------------------------------------------------------------

loc_156B8:				; CODE XREF: sub_155D6+65j
					; sub_155D6+6Dj ...
		xor	ax, ax

loc_156BA:				; CODE XREF: sub_155D6+E0j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	8
sub_155D6	endp

; [00000166 BYTES: COLLAPSED FUNCTION ___write.	PRESS KEYPAD "+" TO EXPAND]
; [0000003F BYTES: COLLAPSED FUNCTION __rtl_write. PRESS KEYPAD	"+" TO EXPAND]
; [0000001C BYTES: COLLAPSED FUNCTION __write. PRESS KEYPAD "+"	TO EXPAND]
; [00000042 BYTES: COLLAPSED FUNCTION __xfclose. PRESS KEYPAD "+" TO EXPAND]
; [0000003F BYTES: COLLAPSED FUNCTION __xfflush. PRESS KEYPAD "+" TO EXPAND]
; [0000005B BYTES: COLLAPSED FUNCTION xalloc::xalloc(string &,uint). PRESS KEYPAD "+" TO EXPAND]
		dd byte_15A3E
		db 4 dup(0), 3Eh, 5Ah
		dw seg seg000
		db 4, 0, 0FAh, 0FFh, 6 dup(0), 5Fh, 59h
		dw seg seg000
		db 0DCh, 0FFh, 2 dup(0), 5, 3 dup(0), 67h, 59h
; [00000078 BYTES: COLLAPSED FUNCTION xalloc::raise(void). PRESS KEYPAD	"+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_15A3E	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
					; DATA XREF: seg000:595Fo
		db 0Dh dup(0), 2, 0, 2,	0, 80h,	5Ah
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0CDh, 5Ah
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_15AC7
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_15AC5
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_15AC9
; ---------------------------------------------------------------------------

loc_15AC5:				; CODE XREF: seg000:5AB4j
		jmp	short loc_15AC9
; ---------------------------------------------------------------------------

loc_15AC7:				; CODE XREF: seg000:5A8Bj
		xor	ax, ax

loc_15AC9:				; CODE XREF: seg000:5AC3j
					; seg000:loc_15AC5j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 9Fh,	5Ch
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 73h, 5Eh
		dw seg seg000
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	5, 5Bh
; [000000A7 BYTES: COLLAPSED FUNCTION xmsg::xmsg(string	&). PRESS KEYPAD "+" TO	EXPAND]
		dd byte_15E73
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	0D0h, 5Bh
; [000000AB BYTES: COLLAPSED FUNCTION xmsg::xmsg(xmsg &). PRESS	KEYPAD "+" TO EXPAND]
; [0000005E BYTES: COLLAPSED FUNCTION xmsg::~xmsg(void). PRESS KEYPAD "+" TO EXPAND]
		dd byte_15E3B
		db 4 dup(0), 0FDh, 5Ch
		dw seg seg000
		db 0E2h, 0FFh
; [00000053 BYTES: COLLAPSED FUNCTION xmsg::raise(void). PRESS KEYPAD "+" TO EXPAND]
		dd byte_15E73
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	5Eh, 5Dh
; [000000B9 BYTES: COLLAPSED FUNCTION xmsg::operator=(xmsg &). PRESS KEYPAD "+"	TO EXPAND]
byte_15E3B	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
					; DATA XREF: seg000:5CFDo
		db 0Dh dup(0), 1, 0, 1,	0, 9Fh,	5Ch
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
byte_15E73	db 4, 0, 10h, 20h, 0Ah,	0, 86h,	5Eh ; DATA XREF: seg000:5BD0o
					; seg000:5D5Eo
		dw seg seg000
aString		db 'string *',0
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 5, 3
		dw seg seg019
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
; [00000009 BYTES: COLLAPSED FUNCTION ___JumpToCatch__.	PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf
; [00000025 BYTES: COLLAPSED FUNCTION sub_15ECC. PRESS KEYPAD "+" TO EXPAND]
; [0000009D BYTES: COLLAPSED FUNCTION sub_15EF1. PRESS KEYPAD "+" TO EXPAND]
; [00000153 BYTES: COLLAPSED FUNCTION sub_15F8E. PRESS KEYPAD "+" TO EXPAND]
; [00000174 BYTES: COLLAPSED FUNCTION sub_160E1. PRESS KEYPAD "+" TO EXPAND]
; [0000005C BYTES: COLLAPSED FUNCTION sub_16255. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		cmp	dx, [bp+8]
		jnz	short loc_162D9
		cmp	ax, [bp+6]
		jnz	short loc_162D9
		les	bx, ss:16h
		and	word ptr es:[bx+4], 0FFFEh
		jmp	short loc_162E6
; ---------------------------------------------------------------------------

loc_162D9:				; CODE XREF: seg000:62C6j seg000:62CBj
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr sub_1275D
		pop	cx
		pop	cx

loc_162E6:				; CODE XREF: seg000:62D7j
		pop	di
		pop	si
		pop	bp
		retf
; [00000105 BYTES: COLLAPSED FUNCTION sub_162EA. PRESS KEYPAD "+" TO EXPAND]
; [000002EE BYTES: COLLAPSED FUNCTION sub_163EF. PRESS KEYPAD "+" TO EXPAND]
off_166DD	dw offset loc_165E2	; DATA XREF: sub_163EF+1EEr
		dw offset loc_165EE
		dw offset loc_165F7
		dw offset loc_16608
		dw offset loc_1661D
		dw offset loc_16626
		dw offset loc_16646
		dw offset loc_16655
		dw offset loc_1662F
		dw offset loc_1663D
		dw offset loc_16646
		dw offset loc_16655
		dw offset loc_166D6
		dw offset loc_166D6
		dw offset loc_166D6
		dw offset loc_166D6
		dw offset loc_16664
		dw offset loc_16670
		dw offset loc_1667C
		dw offset loc_1668E
		dw offset loc_166A0
		dw offset loc_166AB
		dw offset loc_166B6
		dw offset loc_166C6
off_1670D	dw offset loc_1645D	; DATA XREF: sub_163EF+69r
		dw offset loc_1646F
		dw offset loc_16481
		dw offset loc_16495
		dw offset loc_164AD
		dw offset loc_164BC
		dw offset loc_164CB
		dw offset loc_164DF
		dw offset loc_164F4
		dw offset loc_16504
		dw offset loc_16514
		dw offset loc_16527
		dw offset loc_165CD
		dw offset loc_165CD
		dw offset loc_165CD
		dw offset loc_165CD
		dw offset loc_1653B
		dw offset loc_16549
		dw offset loc_1655A
		dw offset loc_16571
		dw offset loc_16588
		dw offset loc_16596
		dw offset loc_165A5
		dw offset loc_165B9
; [00000188 BYTES: COLLAPSED FUNCTION sub_1673D. PRESS KEYPAD "+" TO EXPAND]
off_168C5	dw offset loc_167B2	; DATA XREF: sub_1673D+70r
		dw offset loc_167C0
		dw offset loc_167CE
		dw offset loc_167E0
		dw offset loc_167F2
		dw offset loc_167FD
		dw offset loc_16805
		dw offset loc_16813
		dw offset loc_16822
		dw offset loc_16830
		dw offset loc_1683E
		dw offset loc_1684C
		dw offset loc_168BE
		dw offset loc_168BE
		dw offset loc_168BE
		dw offset loc_168BE
		dw offset loc_1685A
		dw offset loc_16866
		dw offset loc_16872
		dw offset loc_16880
		dw offset loc_1688E
		dw offset loc_16899
		dw offset loc_168A4
		dw offset loc_168B1
; [000000B9 BYTES: COLLAPSED FUNCTION sub_168F5. PRESS KEYPAD "+" TO EXPAND]
off_169AE	dw offset loc_16943	; DATA XREF: sub_168F5+49r
		dw offset loc_1694C
		dw offset loc_16955
		dw offset loc_16960
		dw offset loc_1696D
		dw offset loc_16975
		dw offset loc_16991
		dw offset loc_1699C
		dw offset loc_1697D
		dw offset loc_16987
		dw offset loc_16991
		dw offset loc_1699C
		db 4 dup(0), 84h, 6Ch
		dw seg seg000
		db 14h dup(0), 0DDh, 6Ch
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0C6h, 69h
		dw seg seg000
		db 2 dup(0), 4,	3 dup(0), 3, 0,	0DEh, 69h
		dw seg seg000
		db 2 dup(0), 4,	0
; [0000032F BYTES: COLLAPSED FUNCTION sub_16A14. PRESS KEYPAD "+" TO EXPAND]
; [00000059 BYTES: COLLAPSED FUNCTION _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *). PRESS KEYPAD	"+" TO EXPAND]
; [000000AA BYTES: COLLAPSED FUNCTION _ReThrowException(uint,uchar *). PRESS KEYPAD "+"	TO EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION sub_16E46. PRESS KEYPAD "+" TO EXPAND]
; [0000008C BYTES: COLLAPSED FUNCTION sub_16E4B. PRESS KEYPAD "+" TO EXPAND]
; [00000047 BYTES: COLLAPSED FUNCTION __Global_unwind. PRESS KEYPAD "+"	TO EXPAND]
; [00000005 BYTES: COLLAPSED FUNCTION sub_16F1E. PRESS KEYPAD "+" TO EXPAND]
; [0000047F BYTES: COLLAPSED FUNCTION _RaiseException. PRESS KEYPAD "+"	TO EXPAND]
		db 4 dup(0), 4,	74h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0A2h, 73h
		dw seg seg000
		db 2 dup(0), 4,	0
; [00000050 BYTES: COLLAPSED FUNCTION sub_173CC. PRESS KEYPAD "+" TO EXPAND]
; [000000D8 BYTES: COLLAPSED FUNCTION sub_1741C. PRESS KEYPAD "+" TO EXPAND]
; [0000007D BYTES: COLLAPSED FUNCTION _CatchCleanup(void). PRESS KEYPAD	"+" TO EXPAND]
; [000000CC BYTES: COLLAPSED FUNCTION sub_17571. PRESS KEYPAD "+" TO EXPAND]
; [00000083 BYTES: COLLAPSED FUNCTION sub_1763D. PRESS KEYPAD "+" TO EXPAND]
; [000002A6 BYTES: COLLAPSED FUNCTION sub_176C0. PRESS KEYPAD "+" TO EXPAND]
; [000001BF BYTES: COLLAPSED FUNCTION sub_17966. PRESS KEYPAD "+" TO EXPAND]
off_17B25	dw offset loc_17A00	; DATA XREF: sub_17966+95r
		dw offset loc_17B08
		dw offset loc_17B08
		dw offset loc_17B08
		dw offset loc_17A3B
		dw offset loc_17ABD
; [00000020 BYTES: COLLAPSED FUNCTION __Local_unwind. PRESS KEYPAD "+" TO EXPAND]
; [0000002A BYTES: COLLAPSED FUNCTION __Return_unwind. PRESS KEYPAD "+"	TO EXPAND]
; [00000084 BYTES: COLLAPSED FUNCTION sub_17B7B. PRESS KEYPAD "+" TO EXPAND]
		db 2 dup(2Ah), 42h, 2 dup(43h),	78h, 68h, 31h
; [00000370 BYTES: COLLAPSED FUNCTION __ExceptionHandler. PRESS	KEYPAD "+" TO EXPAND]
off_17F77	dw offset loc_17F5F	; DATA XREF: __ExceptionHandler+171r
		dw offset loc_17E6E
		dw offset loc_17EE5
		dw offset loc_17D7D
		dw offset loc_17F5F
		dw offset loc_17F5F
		db 4 dup(0), 16h, 80h
		dw seg seg000
		db 14h dup(0), 26h, 80h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 9Bh,	7Fh
		dw seg seg000
		db 2 dup(0), 4,	0, 6, 0, 3, 0, 83h, 7Fh
		dw seg seg000
		db 6, 0, 4, 0
; [0000006C BYTES: COLLAPSED FUNCTION sub_17FD1. PRESS KEYPAD "+" TO EXPAND]
; [00000081 BYTES: COLLAPSED FUNCTION sub_1803D. PRESS KEYPAD "+" TO EXPAND]
; [000002CB BYTES: COLLAPSED FUNCTION sub_180BE. PRESS KEYPAD "+" TO EXPAND]
; [00000102 BYTES: COLLAPSED FUNCTION sub_18389. PRESS KEYPAD "+" TO EXPAND]
; [000000B1 BYTES: COLLAPSED FUNCTION sub_1848B. PRESS KEYPAD "+" TO EXPAND]
; [0000040B BYTES: COLLAPSED FUNCTION sub_1853C. PRESS KEYPAD "+" TO EXPAND]
; [00000055 BYTES: COLLAPSED FUNCTION __CurrExcContext.	PRESS KEYPAD "+" TO EXPAND]
; [00000012 BYTES: COLLAPSED FUNCTION __ThrowFileName(void). PRESS KEYPAD "+" TO EXPAND]
; [0000000E BYTES: COLLAPSED FUNCTION __ThrowLineNumber(void). PRESS KEYPAD "+"	TO EXPAND]
; [00000012 BYTES: COLLAPSED FUNCTION __ThrowExceptionName(void). PRESS	KEYPAD "+" TO EXPAND]
; [0000006E BYTES: COLLAPSED FUNCTION typeinfo::typeinfo(typeinfo &). PRESS KEYPAD "+" TO EXPAND]
; [0000000F BYTES: COLLAPSED FUNCTION typeinfo::operator=(typeinfo &). PRESS KEYPAD "+"	TO EXPAND]
; [00000034 BYTES: COLLAPSED FUNCTION typeinfo::~typeinfo(void). PRESS KEYPAD "+" TO EXPAND]
; [00000026 BYTES: COLLAPSED FUNCTION typeinfo::operator==(typeinfo &).	PRESS KEYPAD "+" TO EXPAND]
; [00000021 BYTES: COLLAPSED FUNCTION typeinfo::operator!=(typeinfo &).	PRESS KEYPAD "+" TO EXPAND]
; [00000078 BYTES: COLLAPSED FUNCTION typeinfo::before(typeinfo	&). PRESS KEYPAD "+" TO	EXPAND]
; [0000001A BYTES: COLLAPSED FUNCTION typeinfo::name(void). PRESS KEYPAD "+" TO	EXPAND]
; [00000083 BYTES: COLLAPSED FUNCTION __GetTypeInfo(void *,void	*,void *,void *). PRESS	KEYPAD "+" TO EXPAND]
; [00000246 BYTES: COLLAPSED FUNCTION sub_18BDB. PRESS KEYPAD "+" TO EXPAND]
; [00000165 BYTES: COLLAPSED FUNCTION __DynamicCast(void *,void	*,void *,void *,int). PRESS KEYPAD "+" TO EXPAND]
		db 1, 0, 1, 0, 0Ah, 0, 2 dup(0FFh), 2 dup(0), 42h, 61h
		db 64h,	5Fh, 63h, 61h, 73h, 74h, 2 dup(0), 1, 0, 1, 0
		db 0Ah,	0, 2 dup(0FFh),	2 dup(0), 42h, 61h, 64h, 5Fh, 74h
		db 79h,	70h, 65h, 69h, 64h, 2 dup(0), 4, 0, 10h, 20h, 0Ah
		db 0, 0D2h, 8Fh
		dw seg seg000
aTypeinfo	db 'typeinfo *',0
		align 2
		dd byte_18FD2
		db 4 dup(0), 4Bh, 8Ah
		dw seg seg000
byte_18FD2	db 8			; DATA XREF: seg000:8FC6o
					; Method
		db 0
		db 3			; Destructor/SafeFunction
		db 0
		db 26h,	3 dup(0), 73h, 10h, 30h, 0, 34h, 0Dh dup(0), 1
		db 0, 1, 0, 4Bh, 8Ah
		dw seg seg000
		db 5, 0, 38h, 0, 74h, 79h, 70h,	65h, 69h, 6Eh, 66h, 6Fh
		db 0Eh dup(0)
		db 0BAh, 62h, 22h, 0EBh, 3, 0BAh, 67h, 22h, 0B9h, 5, 0
		db 0B4h, 40h, 0BBh, 2, 0, 0CDh,	21h, 0B9h, 27h,	0, 0BAh
		db 6Ch,	22h, 0B4h, 40h,	0CDh, 21h, 0E9h, 0FBh, 80h
; [00000016 BYTES: COLLAPSED FUNCTION _harderr.	PRESS KEYPAD "+" TO EXPAND]
; [00000012 BYTES: COLLAPSED FUNCTION _hardresume. PRESS KEYPAD	"+" TO EXPAND]
; [00000012 BYTES: COLLAPSED FUNCTION _hardretn. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		mov	ds:3726h, sp
		cmp	word ptr ds:3730h, 0
		jz	short loc_19097
		push	word ptr [bp+0]
		push	word ptr [bp+4]
		push	word ptr [bp+2]
		push	word ptr [bp+10h]
		call	dword ptr ds:372Ch
		add	sp, 8
		jmp	short loc_190B1
; ---------------------------------------------------------------------------

loc_19097:				; CODE XREF: seg000:9080j
		push	word ptr [bp+4]
		push	word ptr [bp+0]
		push	word ptr [bp+10h]
		mov	ax, [bp+2]
		and	ax, 0FFh
		push	ax
		call	dword ptr ds:3728h
		add	sp, 8
		mov	[bp+10h], ax

loc_190B1:				; CODE XREF: seg000:9095j
		pop	bp
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
; [00000030 BYTES: COLLAPSED FUNCTION ___harderr. PRESS	KEYPAD "+" TO EXPAND]
; [00000030 BYTES: COLLAPSED FUNCTION __harderr. PRESS KEYPAD "+" TO EXPAND]
; [00000017 BYTES: COLLAPSED FUNCTION __hardresume. PRESS KEYPAD "+" TO	EXPAND]
; ---------------------------------------------------------------------------
		pop	di
		pop	si
		pop	bp
		retf
; [00000059 BYTES: COLLAPSED FUNCTION __hardretn. PRESS	KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: thunk

sub_19193	proc near		; CODE XREF: __VPRINTER+31Bp
		jmp	off_2BEF0
sub_19193	endp

; ---------------------------------------------------------------------------
byte_19197	db 2 dup(0)		; DATA XREF: seg000:91A5w
					; sub_19231+21r ...
; ---------------------------------------------------------------------------

unknown_libname_4:			; BCC v4.x/5.x DOS runtime
		pop	word_2BD1A
		pop	word_2BD1C
		pop	word_2BD1E
		mov	word ptr cs:byte_19197,	ds
		mov	word_2BD20, si
		mov	word_2BD22, di
		cld
		mov	es, segx
		mov	si, 80h	; '€'
		xor	ah, ah
		lods	byte ptr es:[si]
		inc	ax
		mov	bp, es
		xchg	dx, si
		xchg	ax, bx
		mov	si, word_29AF4
		inc	si
		inc	si
		mov	cx, 1
		cmp	byte ptr word_29AFC, 3
		jb	short loc_191E5
		mov	es, word_29AF6
		mov	di, si
		mov	cl, 7Fh	; ''
		xor	al, al
		repne scasb
		jcxz	short loc_1922C
		xor	cl, 7Fh

loc_191E5:				; CODE XREF: seg000:91D2j
		push	ax
		mov	ax, cx
		add	ax, bx
		inc	ax
		and	ax, 0FFFEh
		mov	di, sp
		sub	di, ax
		jb	short loc_1922C
		mov	sp, di
		push	es
		pop	ds
		push	ss
		pop	es
		push	cx
		dec	cx
		rep movsb
		xor	al, al
		stosb
		mov	ds, bp
		xchg	si, dx
		xchg	bx, cx
		mov	ax, bx
		mov	dx, ax
		inc	bx

loc_1920C:				; CODE XREF: seg000:9226j seg000:922Aj
		call	sub_19231
		ja	short loc_1921C

loc_19211:				; CODE XREF: seg000:921Aj
		jb	short loc_19283
		cmp	al, 0Dh
		jz	short loc_19228
		call	sub_19231
		ja	short loc_19211

loc_1921C:				; CODE XREF: seg000:920Fj
		cmp	al, 20h	; ' '
		jz	short loc_19228
		cmp	al, 0Dh
		jz	short loc_19228
		cmp	al, 9
		jnz	short loc_1920C

loc_19228:				; CODE XREF: seg000:9215j seg000:921Ej ...
		xor	al, al
		jmp	short loc_1920C
; ---------------------------------------------------------------------------

loc_1922C:				; CODE XREF: seg000:91E0j seg000:91F2j ...
		nop
		nop
		jmp	near ptr sub_11128

; =============== S U B	R O U T	I N E =======================================


sub_19231	proc near		; CODE XREF: seg000:loc_1920Cp
					; seg000:9217p
		or	ax, ax
		jz	short loc_1923C
		inc	dx
		stosb
		or	al, al
		jnz	short loc_1923C
		inc	bx

loc_1923C:				; CODE XREF: sub_19231+2j sub_19231+8j
		xchg	ah, al
		xor	al, al
		stc
		jcxz	short locret_19282
		lodsb
		dec	cx
		cmp	dh, 1
		jz	short loc_19268
		xor	dh, dh
		push	ax
		push	bx
		push	cx
		push	dx
		push	ds
		push	es
		mov	ds, word ptr cs:byte_19197
		push	ax
		nop
		push	cs
		call	near ptr sub_13575
		or	ax, ax
		pop	cx
		pop	es
		pop	ds
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		jz	short loc_1926A

loc_19268:				; CODE XREF: sub_19231+17j
		inc	dh

loc_1926A:				; CODE XREF: sub_19231+35j
		cmp	dh, 0
		jnz	short loc_19280
		sub	al, 22h	; '"'
		jz	short locret_19282
		add	al, 22h	; '"'
		cmp	al, 5Ch	; '\'
		jnz	short loc_19280
		cmp	byte ptr [si], 22h ; '"'
		jnz	short loc_19280
		lodsb
		dec	cx

loc_19280:				; CODE XREF: sub_19231+3Cj
					; sub_19231+46j ...
		or	si, si

locret_19282:				; CODE XREF: sub_19231+10j
					; sub_19231+40j
		retn
sub_19231	endp

; ---------------------------------------------------------------------------

loc_19283:				; CODE XREF: seg000:loc_19211j
		pop	cx
		xor	dh, dh
		add	cx, dx
		mov	ds, word ptr cs:byte_19197
		mov	word_2BD14, bx
		inc	bx
		add	bx, bx
		add	bx, bx
		mov	si, sp
		mov	bp, sp
		sub	bp, bx
		jb	short loc_1922C
		mov	sp, bp
		mov	word_2BD16, bp
		mov	word_2BD18, ss

loc_192A8:				; CODE XREF: seg000:92B9j
		jcxz	short loc_192BB
		mov	[bp+0],	si
		mov	word ptr [bp+2], ss
		add	bp, 4

loc_192B3:				; CODE XREF: seg000:92B7j
		lods	byte ptr ss:[si]
		or	al, al
		loopne	loc_192B3
		jz	short loc_192A8

loc_192BB:				; CODE XREF: seg000:loc_192A8j
		xor	ax, ax
		mov	[bp+0],	ax
		mov	[bp+2],	ax
		mov	ds, word ptr cs:byte_19197
		mov	si, word_2BD20
		mov	di, word_2BD22
		push	word_2BD1E
		push	word_2BD1C
		mov	ax, word_2BD14
		mov	argc, ax
		mov	ax, word_2BD18
		mov	word_29AEE, ax
		mov	ax, word_2BD16
		mov	argv, ax
		jmp	word_2BD1A
; [00000020 BYTES: COLLAPSED FUNCTION _setblock. PRESS KEYPAD "+" TO EXPAND]
; ---------------------------------------------------------------------------
		push	si
		push	di
		mov	es, word_29AF6
		xor	di, di
		push	es
		push	word_29AF8
		nop
		push	cs
		call	near ptr sub_12890
		pop	bx
		mov	bx, ax
		pop	es
		mov	word ptr dword_2BD24, ax
		mov	word ptr dword_2BD24+2,	dx
		push	ds
		mov	ds, dx
		or	ax, dx
		jnz	short loc_19337
		nop
		nop
		jmp	near ptr sub_11128
; ---------------------------------------------------------------------------

loc_19337:				; CODE XREF: seg000:9330j
		xor	ax, ax
		mov	cx, 0FFFFh
		cmp	byte ptr es:[di], 0
		jz	short loc_19351

loc_19342:				; CODE XREF: seg000:934Fj
		mov	[bx], di
		mov	word ptr [bx+2], es
		add	bx, 4
		repne scasb
		cmp	es:[di], al
		jnz	short loc_19342

loc_19351:				; CODE XREF: seg000:9340j
		mov	[bx], ax
		mov	[bx+2],	ax
		pop	ds
		pop	di
		pop	si
		mov	ax, word ptr dword_2BD24+2
		mov	word_29AF2, ax
		mov	ax, word ptr dword_2BD24
		mov	envp, ax
		retn
; ---------------------------------------------------------------------------

unknown_libname_5:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_2854F
		db 4 dup(0), 6Bh, 93h
		dw seg seg000
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_193C0
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_193BE
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_193C2
; ---------------------------------------------------------------------------

loc_193BE:				; CODE XREF: seg000:93ADj
		jmp	short loc_193C2
; ---------------------------------------------------------------------------

loc_193C0:				; CODE XREF: seg000:9384j
		xor	ax, ax

loc_193C2:				; CODE XREF: seg000:93BCj
					; seg000:loc_193BEj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_6:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_286F7
		dd byte_286A9
		db 4 dup(0), 0B2h, 1
		dw seg seg019
		db 87h,	20h, 0FCh, 0FFh, 6 dup(0), 0CBh, 93h
		dw seg seg000
		db 0DEh, 0FFh, 2 dup(0), 5, 3 dup(0), 2	dup(0FFh), 6, 0
		db 5, 3	dup(0),	0D7h, 93h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_19442
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_19440
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_19444
; ---------------------------------------------------------------------------

loc_19440:				; CODE XREF: seg000:942Fj
		jmp	short loc_19444
; ---------------------------------------------------------------------------

loc_19442:				; CODE XREF: seg000:9406j
		xor	ax, ax

loc_19444:				; CODE XREF: seg000:943Ej
					; seg000:loc_19440j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_1948F
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_1948D
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_19491
; ---------------------------------------------------------------------------

loc_1948D:				; CODE XREF: seg000:947Cj
		jmp	short loc_19491
; ---------------------------------------------------------------------------

loc_1948F:				; CODE XREF: seg000:9453j
		xor	ax, ax

loc_19491:				; CODE XREF: seg000:948Bj
					; seg000:loc_1948Dj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_7:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		db 4 dup(0), 9Ah, 94h
		dw seg seg000
		db 0E2h, 0FFh, 0FAh, 0Bh
		dw seg seg019
		db 4 dup(0), 0C0h, 0Bh
		dw seg seg019
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FAh, 0Bh
		dw seg seg019
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 88h, 0Bh
		dw seg seg019
		db 0, 2	dup(1),	7 dup(0), 0A4h,	94h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 0ACh, 94h, 6, 0
		db 5, 0, 1, 0, 0C4h, 94h, 0FAh,	0Bh
		dw seg seg019
		align 8
		dd byte_290A0
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FAh, 0Bh
		dw seg seg019
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 88h, 0Bh
		dw seg seg019
		db 0, 2	dup(1),	7 dup(0), 0E8h,	94h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 0F0h, 94h, 6, 0
		db 5, 0, 1, 0, 8, 95h, 0FAh, 0Bh
		dw seg seg019
		db 4 dup(0), 0C0h, 0Bh
		dw seg seg019
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FAh, 0Bh
		dw seg seg019
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 88h, 0Bh
		dw seg seg019
		db 0, 2	dup(1),	7 dup(0), 2Ch, 95h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 34h, 95h,	6, 0, 5
		db 0, 1, 0, 4Ch, 95h, 4	dup(0),	70h, 95h
		dw seg seg000
		db 0E2h, 0FFh, 46h, 0Bh
		dw seg seg019
		dd byte_290DA
		db 4 dup(0), 7Ah, 95h
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 8Ch, 95h
		dw seg seg000
		db 0E2h, 0FFh, 46h, 0Bh
		dw seg seg019
		dd byte_28FD8
		db 4 dup(0), 96h, 95h
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 0A8h, 95h
		dw seg seg000
		db 0E2h, 0FFh, 46h, 0Bh
		dw seg seg019
		dd byte_28FD8
		db 4 dup(0), 0B2h, 95h
		dw seg seg000
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_19640
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_1963E
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_19642
; ---------------------------------------------------------------------------

loc_1963E:				; CODE XREF: seg000:962Dj
		jmp	short loc_19642
; ---------------------------------------------------------------------------

loc_19640:				; CODE XREF: seg000:9604j
		xor	ax, ax

loc_19642:				; CODE XREF: seg000:963Cj
					; seg000:loc_1963Ej
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_1968D
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_1968B
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_1968F
; ---------------------------------------------------------------------------

loc_1968B:				; CODE XREF: seg000:967Aj
		jmp	short loc_1968F
; ---------------------------------------------------------------------------

loc_1968D:				; CODE XREF: seg000:9651j
		xor	ax, ax

loc_1968F:				; CODE XREF: seg000:9689j
					; seg000:loc_1968Bj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_196DA
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_196D8
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_196DC
; ---------------------------------------------------------------------------

loc_196D8:				; CODE XREF: seg000:96C7j
		jmp	short loc_196DC
; ---------------------------------------------------------------------------

loc_196DA:				; CODE XREF: seg000:969Ej
		xor	ax, ax

loc_196DC:				; CODE XREF: seg000:96D6j
					; seg000:loc_196D8j
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================


getch		proc far		; CODE XREF: RunSCE:loc_1D5F3P
					; RunSCE:loc_1D63BP ...
		push	si
		push	di
		cmp	byte_2BD8E, 0
		jz	short loc_196F3
		mov	byte_2BD8E, 0
		mov	al, byte_2BD8F
		jmp	short loc_196F8
; ---------------------------------------------------------------------------

loc_196F3:				; CODE XREF: getch+7j
		mov	ax, 700h
		int	21h		; DOS -	DIRECT STDIN INPUT, NO ECHO

loc_196F8:				; CODE XREF: getch+11j
		mov	ah, 0
		pop	di
		pop	si
		retf
getch		endp

; [00000016 BYTES: COLLAPSED FUNCTION _kbhit. PRESS KEYPAD "+" TO EXPAND]

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ShiftJIS2JIS	proc far		; CODE XREF: sub_20C1D+CFP

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ah, 81h
		jb	short loc_1974D
		cmp	ah, 0A0h
		jb	short loc_1972F
		cmp	ah, 0E0h
		jb	short loc_1974D
		cmp	ah, 0F0h
		jnb	short loc_1974D

loc_1972F:				; CODE XREF: ShiftJIS2JIS+10j
		cmp	al, 40h
		jb	short loc_1974D
		cmp	al, 0FDh
		jnb	short loc_1974D
		cmp	al, 7Fh
		jz	short loc_1974D
		cmp	al, 80h
		adc	al, 61h
		jb	short loc_19743
		sub	al, 0A2h

loc_19743:				; CODE XREF: ShiftJIS2JIS+2Cj
		rcl	ah, 1
		and	ah, 7Fh
		add	ax, 1F21h
		jmp	short loc_1974F
; ---------------------------------------------------------------------------

loc_1974D:				; CODE XREF: ShiftJIS2JIS+Bj
					; ShiftJIS2JIS+15j ...
		xor	ax, ax

loc_1974F:				; CODE XREF: ShiftJIS2JIS+38j
		pop	di
		pop	si
		pop	bp
		retf
ShiftJIS2JIS	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_19753	proc far		; CODE XREF: sub_198E2+80p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	loc_19800
; ---------------------------------------------------------------------------

loc_1976A:				; CODE XREF: sub_19753+B6j
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_197C6
; ---------------------------------------------------------------------------

loc_19778:				; CODE XREF: sub_19753+7Aj
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_197B5
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jnz	short loc_197A7
		les	bx, [bp+var_4]
		mov	al, es:[bx+1]
		les	bx, [bp+var_8]
		cmp	al, es:[bx+1]
		jz	short loc_197CF

loc_197A7:				; CODE XREF: sub_19753+42j
		inc	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_197C3
		jmp	short loc_197CF
; ---------------------------------------------------------------------------

loc_197B5:				; CODE XREF: sub_19753+34j
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jz	short loc_197CF

loc_197C3:				; CODE XREF: sub_19753+5Ej
		inc	word ptr [bp+var_8]

loc_197C6:				; CODE XREF: sub_19753+23j
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_19778

loc_197CF:				; CODE XREF: sub_19753+52j
					; sub_19753+60j ...
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_197E0
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_19810
; ---------------------------------------------------------------------------

loc_197E0:				; CODE XREF: sub_19753+83j
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_197FD
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_1980C

loc_197FD:				; CODE XREF: sub_19753+9Cj
		inc	word ptr [bp+var_4]

loc_19800:				; CODE XREF: sub_19753+14j
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_1980C
		jmp	loc_1976A
; ---------------------------------------------------------------------------

loc_1980C:				; CODE XREF: sub_19753+A8j
					; sub_19753+B4j
		xor	dx, dx
		xor	ax, ax

loc_19810:				; CODE XREF: sub_19753+8Bj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_19753	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_19816	proc far		; CODE XREF: sub_198E2+37p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	loc_198BB
; ---------------------------------------------------------------------------

loc_1982D:				; CODE XREF: sub_19816+AEj
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_19889
; ---------------------------------------------------------------------------

loc_1983B:				; CODE XREF: sub_19816+7Aj
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_19878
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jnz	short loc_1986A
		les	bx, [bp+var_4]
		mov	al, es:[bx+1]
		les	bx, [bp+var_8]
		cmp	al, es:[bx+1]
		jz	short loc_19892

loc_1986A:				; CODE XREF: sub_19816+42j
		inc	word ptr [bp+var_8]
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_19886
		jmp	short loc_19892
; ---------------------------------------------------------------------------

loc_19878:				; CODE XREF: sub_19816+34j
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jz	short loc_19892

loc_19886:				; CODE XREF: sub_19816+5Ej
		inc	word ptr [bp+var_8]

loc_19889:				; CODE XREF: sub_19816+23j
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1983B

loc_19892:				; CODE XREF: sub_19816+52j
					; sub_19816+60j ...
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_198C7
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_198B8
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_198C7

loc_198B8:				; CODE XREF: sub_19816+94j
		inc	word ptr [bp+var_4]

loc_198BB:				; CODE XREF: sub_19816+14j
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_198C7
		jmp	loc_1982D
; ---------------------------------------------------------------------------

loc_198C7:				; CODE XREF: sub_19816+83j
					; sub_19816+A0j ...
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_198D8
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_198DC
; ---------------------------------------------------------------------------

loc_198D8:				; CODE XREF: sub_19816+B8j
		xor	dx, dx
		xor	ax, ax

loc_198DC:				; CODE XREF: sub_19816+C0j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_19816	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_198E2	proc far		; CODE XREF: fopen3+B4P

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_19900
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		jmp	short loc_19917
; ---------------------------------------------------------------------------

loc_19900:				; CODE XREF: sub_198E2+Ej
		mov	ax, word_2BE92
		or	ax, word_2BE94
		jz	short loc_1994E
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word_2BE94
		push	word_2BE92

loc_19917:				; CODE XREF: sub_198E2+1Cj
		nop
		push	cs
		call	near ptr sub_19816
		add	sp, 8
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jz	short loc_1994E
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jz	short loc_1994E
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax

loc_1993D:
		test	byte ptr [bx+2311h], 4
		jz	short loc_19954
		mov	bx, word ptr [bp+var_4]
		cmp	byte ptr es:[bx+1], 0
		jnz	short loc_19954

loc_1994E:				; CODE XREF: sub_198E2+25j
					; sub_198E2+49j ...
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_199C2
; ---------------------------------------------------------------------------

loc_19954:				; CODE XREF: sub_198E2+60j
					; sub_198E2+6Aj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		nop
		push	cs
		call	near ptr sub_19753
		add	sp, 8
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_1997C
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1998A

loc_1997C:				; CODE XREF: sub_198E2+8Fj
		mov	word_2BE94, 0
		mov	word_2BE92, 0
		jmp	short loc_199BC
; ---------------------------------------------------------------------------

loc_1998A:				; CODE XREF: sub_198E2+98j
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_199A5
		mov	bx, word ptr [bp+var_8]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_8]

loc_199A5:				; CODE XREF: sub_198E2+B7j
		les	bx, [bp+var_8]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+var_8]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	word_2BE94, dx
		mov	word_2BE92, ax

loc_199BC:				; CODE XREF: sub_198E2+A6j
		mov	dx, word ptr [bp+var_4+2]

loc_199BF:
		mov	ax, word ptr [bp+var_4]

loc_199C2:				; CODE XREF: sub_198E2+70j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_198E2	endp

seg000		ends

; ===========================================================================

; Segment type:	Pure code
seg001		segment	byte public 'CODE' use16
		assume cs:seg001
		;org 8
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

PrintErrExit1	proc far		; CODE XREF: _main+4Ep
					; ScnEvalExpression+80P ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	word ptr ds:2515h, ds
		mov	word ptr ds:2513h, 1C7h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	ds:2519h, dx
		mov	ds:2517h, ax
		push	3		; status
		call	_exit
PrintErrExit1	endp

; ---------------------------------------------------------------------------
		pop	cx
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

PrintErrExit2	proc far		; CODE XREF: _main+B8p	_main+144p ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		mov	word ptr ds:2515h, ds
		mov	word ptr ds:2513h, 1D0h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	ds:2519h, dx
		mov	ds:2517h, ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	ds:251Dh, dx
		mov	ds:251Bh, ax
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	ds:2521h, dx
		mov	ds:251Fh, ax
		push	3		; status
		call	_exit
PrintErrExit2	endp

; ---------------------------------------------------------------------------
		pop	cx
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_19A2A	proc far		; CODE XREF: _main+6p
		push	bp
		mov	bp, sp
		pop	bp
		retf
sub_19A2A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PrintHelp	proc far		; CODE XREF: ArgHandler+244p
					; ArgHandler+24Dp
		push	bp
		mov	bp, sp
		push	ds
		push	offset aScenarioExecut ; "SCenario Executer : Ver 1.18\n[HELP]\nSCE"...
		call	_printf
		add	sp, 4
		pop	bp
		retf
PrintHelp	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void func(void)
func		proc far		; DATA XREF: _main+57o
		push	bp
		mov	bp, sp
		push	si
		cmp	word_29C33, 0
		jz	short loc_19A5B
		push	word ptr stream+2
		push	word ptr stream	; stream
		call	_fclose
		add	sp, 4

loc_19A5B:				; CODE XREF: func+9j
		call	sub_249C6
		or	ax, ax
		jz	short loc_19A70
		push	0
		push	0
		call	sub_248F0
		add	sp, 4

loc_19A70:				; CODE XREF: func+22j
		call	sub_1E8F4
		call	sub_1EF88
		xor	si, si
		jmp	short loc_19AA7
; ---------------------------------------------------------------------------

loc_19A7E:				; CODE XREF: func+6Aj
		mov	bx, si
		shl	bx, 2
		mov	ax, [bx+2513h]
		or	ax, [bx+2515h]
		jz	short loc_19AA6
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+2515h]
		push	word ptr [bx+2513h]
		push	ds
		push	offset aS	; "%s"
		call	_printf
		add	sp, 8

loc_19AA6:				; CODE XREF: func+4Bj
		inc	si

loc_19AA7:				; CODE XREF: func+3Cj
		cmp	si, 0Ah
		jl	short loc_19A7E
		pop	si
		pop	bp
		retf
func		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int handler(void)
handler		proc far		; DATA XREF: _main+65o
		push	bp
		mov	bp, sp
		mov	ax, 1
		pop	bp
		retf
handler		endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_19AB9()
sub_19AB9	proc far		; DATA XREF: _main+73o
		push	bp
		mov	bp, sp
		mov	ax, 1
		pop	bp
		retf
sub_19AB9	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ArgHandler	proc far		; CODE XREF: _main+13p

var_5C		= dword	ptr -5Ch
var_1A		= word ptr -1Ah
s		= byte ptr -18h
var_12		= word ptr -12h
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	5Ch, 0
		push	si
		mov	si, 1
		jmp	loc_19C69
; ---------------------------------------------------------------------------

loc_19ACE:				; CODE XREF: ArgHandler+1ABj
		mov	ax, si
		shl	ax, 2
		les	bx, [bp+arg_2]
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], '/'
		jz	short loc_19AFA
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], '-'
		jz	short loc_19AFA
		jmp	loc_19C35
; ---------------------------------------------------------------------------

loc_19AFA:				; CODE XREF: ArgHandler+29j
					; ArgHandler+32j
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax		; ch
		call	_toupper
		pop	cx
		mov	[bp+var_1A], ax
		mov	cx, 7		; switch 7 cases
		mov	bx, offset word_19D1B

loc_19B15:				; CODE XREF: ArgHandler+5Dj
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_1A]
		jz	short loc_19B25
		add	bx, 2
		loop	loc_19B15
		jmp	loc_19BCE	; jumptable 00019B25 default case
; ---------------------------------------------------------------------------

loc_19B25:				; CODE XREF: ArgHandler+58j
		jmp	word ptr cs:[bx+0Eh] ; switch jump

loc_19B29:				; DATA XREF: seg001:0369o
		jmp	loc_19D06	; jumptable 00019B25 cases 63,72
; ---------------------------------------------------------------------------

loc_19B2C:				; CODE XREF: ArgHandler:loc_19B25j
					; DATA XREF: seg001:0369o
		mov	word_29C33, 1	; jumptable 00019B25 case 84
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], ' '
		jbe	short loc_19B4B
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	seg_29C2F, dx
		mov	path, ax

loc_19B4B:				; CODE XREF: ArgHandler+79j
		jmp	loc_19C33
; ---------------------------------------------------------------------------

loc_19B4E:				; CODE XREF: ArgHandler:loc_19B25j
					; DATA XREF: seg001:0369o
		mov	word_29C39, 1	; jumptable 00019B25 case 83
		jmp	loc_19C33
; ---------------------------------------------------------------------------

loc_19B57:				; CODE XREF: ArgHandler:loc_19B25j
					; DATA XREF: seg001:0369o
		inc	word ptr [bp+var_4] ; jumptable	00019B25 case 50
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 36h ;	'6'
		jnz	short loc_19B6C
		mov	word_29C3B, 1
		jmp	loc_19C33
; ---------------------------------------------------------------------------

loc_19B6C:				; CODE XREF: ArgHandler+9Ej
		jmp	loc_19D0F
; ---------------------------------------------------------------------------

loc_19B6F:				; CODE XREF: ArgHandler:loc_19B25j
					; DATA XREF: seg001:0369o
		inc	word ptr [bp+var_4] ; jumptable	00019B25 case 56
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 36h ;	'6'
		jnz	short loc_19B84
		mov	word_29C3B, 2
		jmp	loc_19C33
; ---------------------------------------------------------------------------

loc_19B84:				; CODE XREF: ArgHandler+B6j
		jmp	loc_19D0F
; ---------------------------------------------------------------------------

loc_19B87:				; CODE XREF: ArgHandler:loc_19B25j
					; DATA XREF: seg001:0369o
		inc	word ptr [bp+var_4] ; jumptable	00019B25 case 77
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax		; ch
		call	_toupper
		pop	cx
		cmp	ax, 'I'
		jnz	short loc_19BA7
		mov	word_29C3B, 200h
		jmp	loc_19C33
; ---------------------------------------------------------------------------

loc_19BA7:				; CODE XREF: ArgHandler+D9j
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+1F05h], 2
		jz	short loc_19BCB
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_135FC
		add	sp, 4
		mov	word_29C3D, ax
		jmp	short loc_19C33
; ---------------------------------------------------------------------------

loc_19BCB:				; CODE XREF: ArgHandler+F3j
		jmp	loc_19D0F
; ---------------------------------------------------------------------------

loc_19BCE:				; CODE XREF: ArgHandler+5Fj
		les	bx, [bp+var_4]	; jumptable 00019B25 default case
		cmp	byte ptr es:[bx+1], 0C5h
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+1], 0C5h
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+2], 82h
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+3], 0CEh
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+4], 82h
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+5], 0C1h
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+6], 82h
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+7], 0AEh
		jnz	short loc_19C30
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+8], 0
		jnz	short loc_19C30
		mov	word_29C31, 1
		jmp	short loc_19C33
; ---------------------------------------------------------------------------

loc_19C30:				; CODE XREF: ArgHandler+113j
					; ArgHandler+11Dj ...
		jmp	loc_19D0F
; ---------------------------------------------------------------------------

loc_19C33:				; CODE XREF: ArgHandler:loc_19B4Bj
					; ArgHandler+91j ...
		jmp	short loc_19C68
; ---------------------------------------------------------------------------

loc_19C35:				; CODE XREF: ArgHandler+34j
		mov	ax, word ptr filePathSCE
		or	ax, word ptr filePathSCE+2
		jnz	short loc_19C4D
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr filePathSCE+2,	dx
		mov	word ptr filePathSCE, ax
		jmp	short loc_19C68
; ---------------------------------------------------------------------------

loc_19C4D:				; CODE XREF: ArgHandler+179j
		mov	ax, word ptr filePathDAT
		or	ax, word ptr filePathDAT+2
		jnz	short loc_19C65
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr filePathDAT+2,	dx
		mov	word ptr filePathDAT, ax
		jmp	short loc_19C68
; ---------------------------------------------------------------------------

loc_19C65:				; CODE XREF: ArgHandler+191j
		jmp	loc_19D0F
; ---------------------------------------------------------------------------

loc_19C68:				; CODE XREF: ArgHandler:loc_19C33j
					; ArgHandler+188j ...
		inc	si

loc_19C69:				; CODE XREF: ArgHandler+8j
		cmp	si, [bp+arg_0]
		jge	short loc_19C71
		jmp	loc_19ACE
; ---------------------------------------------------------------------------

loc_19C71:				; CODE XREF: ArgHandler+1A9j
		mov	ax, word ptr filePathSCE
		or	ax, word ptr filePathSCE+2
		jnz	short loc_19C84
		mov	word ptr filePathSCE+2,	ds
		mov	word ptr filePathSCE, offset aMaincon_sce ; "maincon.sce"

loc_19C84:				; CODE XREF: ArgHandler+1B5j
		push	ss
		lea	ax, [bp+s]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_12]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_5C]
		push	ax		; __int32
		push	ss
		lea	ax, [bp+var_8]
		push	ax		; __int32
		push	word ptr filePathSCE+2
		push	word ptr filePathSCE ; src
		call	sub_1509F
		add	sp, 14h
		push	ss
		lea	ax, [bp+s]
		push	ax		; s
		call	_strlen
		add	sp, 4
		or	ax, ax
		jnz	short loc_19CE2
		push	ds
		push	offset a_sce	; ".sce"
		push	ss		; int
		lea	ax, [bp+var_12]
		push	ax		; int
		push	ss
		lea	ax, [bp+var_5C]
		push	ax		; s
		push	ss
		lea	ax, [bp+var_8]
		push	ax		; __int32
		push	ds
		push	24C2h		; dest
		call	sub_142FC
		add	sp, 14h
		mov	word ptr filePathSCE+2,	ds
		mov	word ptr filePathSCE, 24C2h

loc_19CE2:				; CODE XREF: ArgHandler+1F4j
		mov	ax, word ptr filePathDAT
		or	ax, word ptr filePathDAT+2
		jnz	short loc_19CF5
		mov	word ptr filePathDAT+2,	ds
		mov	word ptr filePathDAT, offset aRekiai_dat ; "rekiai.dat"

loc_19CF5:				; CODE XREF: ArgHandler+226j
		cmp	word_29C31, 0
		jnz	short loc_19D02
		mov	word_29C3D, 0

loc_19D02:				; CODE XREF: ArgHandler+237j
		xor	ax, ax
		jmp	short loc_19D18
; ---------------------------------------------------------------------------

loc_19D06:				; CODE XREF: ArgHandler:loc_19B29j
		push	cs
		call	near ptr PrintHelp
		mov	ax, 2
		jmp	short loc_19D18
; ---------------------------------------------------------------------------

loc_19D0F:				; CODE XREF: ArgHandler:loc_19B6Cj
					; ArgHandler:loc_19B84j ...
		push	cs
		call	near ptr PrintHelp
		mov	ax, 3
		jmp	short $+2

loc_19D18:				; CODE XREF: ArgHandler+241j
					; ArgHandler+24Aj
		pop	si
		leave
		retf
ArgHandler	endp

; ---------------------------------------------------------------------------
word_19D1B	dw    '2',   '8',   '?',   'H' ; DATA XREF: ArgHandler+4Fo
		dw    'M',   'S',   'T' ; value table for switch statement
		dw offset loc_19B57	; jump table for switch	statement
		dw offset loc_19B6F
		dw offset loc_19B29
		dw offset loc_19B29
		dw offset loc_19B87
		dw offset loc_19B4E
		dw offset loc_19B2C

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc far		; CODE XREF: start+137P

buffer		= byte ptr -0Ah
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	0Ah, 0
		push	si
		push	cs
		call	near ptr sub_19A2A
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr ArgHandler
		add	sp, 6
		or	ax, ax
		jz	short loc_19D5C
		push	3		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_19D5C:				; CODE XREF: _main+1Bj
		xor	si, si
		jmp	short loc_19D72
; ---------------------------------------------------------------------------

loc_19D60:				; CODE XREF: _main+3Ej
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+2515h], 0
		mov	word ptr [bx+2513h], 0
		inc	si

loc_19D72:				; CODE XREF: _main+27j
		cmp	si, 0Ah
		jl	short loc_19D60
		call	s_initall
		or	ax, ax
		jz	short loc_19D8B
		push	ds
		push	offset aFailToInitAll ;	"s_initall() ‚ÉŽ¸”s‚µ‚Ü‚µ‚½\n"
		push	cs
		call	near ptr PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_19D8B:				; CODE XREF: _main+47j
		push	seg seg001
		push	offset func	; func
		call	_atexit
		add	sp, 4
		push	seg seg001
		push	offset handler	; handler
		call	_ctrlbrk
		add	sp, 4
		push	seg seg001
		push	offset sub_19AB9 ; handler
		call	_harderr
		add	sp, 4
		push	0
		push	0		; s
		push	word ptr filePathDAT+2
		push	word ptr filePathDAT ; src
		call	LoadDATFile1
		add	sp, 8
		mov	si, ax
		or	ax, ax
		jz	short loc_19DF5
		push	si
		push	ds
		push	offset aD	; "%d"
		push	ss
		lea	ax, [bp+buffer]
		push	ax		; buffer
		call	_sprintf
		add	sp, 0Ah
		push	ds
		push	offset aNumberError ; "”Ô‚ÌƒGƒ‰[\n"
		push	ss
		lea	ax, [bp+buffer]
		push	ax
		push	ds
		push	offset aUnifileAtInit ;	"UniFile ‰Šú‰»Žž‚É "
		push	cs
		call	near ptr PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_19DF5:				; CODE XREF: _main+96j
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		and	word ptr es:[bx+0Ch], 0FFEFh
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		test	byte ptr es:[bx], 1
		jz	short loc_19E28
		test	byte ptr word_29C3B+1, 2
		jnz	short loc_19E28
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		and	word ptr es:[bx+0Ch], 0FDFFh

loc_19E28:				; CODE XREF: _main+D9j	_main+E0j
		test	byte ptr word_29C3B, 2
		jz	short $+2
		test	byte ptr word_29C3B, 1
		jz	short loc_19E44
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		and	word ptr es:[bx+0Ch], 0FFFDh

loc_19E44:				; CODE XREF: _main+FDj
		cmp	word_29C33, 0
		jz	short loc_19E81
		push	ds
		push	offset mode	; "w"

loc_19E4F:
		push	seg_29C2F
		push	path		; path
		call	_fopen
		add	sp, 8
		mov	word ptr stream+2, dx
		mov	word ptr stream, ax
		or	ax, dx
		jnz	short loc_19E81
		push	ds
		push	offset aCantOpen1 ; " ‚ªŠJ‚¯‚Ü‚¹‚ñD\n"
		push	seg_29C2F
		push	path
		push	ds
		push	offset aTraceFile ; "ƒgƒŒ[ƒXƒtƒ@ƒCƒ‹ "
		push	cs
		call	near ptr PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_19E81:				; CODE XREF: _main+112j _main+131j
		push	ds
		push	offset aRekiai_ef1 ; "rekiai.ef"
		call	LoadSFX
		add	sp, 4
		or	ax, ax
		jz	short loc_19EA4
		push	ds
		push	offset aFailedToLoad ; " ‚Ì“Ç‚Ýž‚Ý‚ÉŽ¸”s‚µ‚Ü‚µ‚½D\n"
		push	ds
		push	offset aRekiai_ef2 ; "rekiai.ef"
		push	ds
		push	offset aSoundEffectFile	; "Œø‰Ê‰¹ƒtƒ@ƒCƒ‹ "
		push	cs
		call	near ptr PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_19EA4:				; CODE XREF: _main+158j
		push	word ptr filePathSCE+2
		push	word ptr filePathSCE ; src
		call	RunSCE
		add	sp, 4
		cmp	word_29C33, 0
		jz	short loc_19ECB
		push	word ptr stream+2
		push	word ptr stream	; stream
		call	_fclose
		add	sp, 4

loc_19ECB:				; CODE XREF: _main+182j
		call	sub_1E8F4

loc_19ED0:
		call	sub_1EF88
		xor	ax, ax
		jmp	short $+2
		pop	si
		leave
		retf
_main		endp

seg001		ends

; ===========================================================================

; Segment type:	Pure code
seg002		segment	byte public 'CODE' use16
		assume cs:seg002
		;org 0Ch
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_19EDC	proc far		; CODE XREF: sub_19F27+Ep
					; sub_19F27+25p ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_2]
		cmp	bx, 2
		jg	short loc_19F1F
		mov	ax, [bp+arg_0]
		cmp	ax, 1
		jz	short loc_19EFB
		cmp	ax, 5
		jz	short loc_19F07
		cmp	ax, 6
		jz	short loc_19F13
		jmp	short loc_19F1F
; ---------------------------------------------------------------------------

loc_19EFB:				; CODE XREF: sub_19EDC+11j
		mov	ax, bx
		imul	ax, 0Dh
		mov	dx, ds
		add	ax, 2595h
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_19F07:				; CODE XREF: sub_19EDC+16j
		mov	ax, bx
		imul	ax, 0Dh
		mov	dx, ds
		add	ax, 25BCh
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_19F13:				; CODE XREF: sub_19EDC+1Bj
		mov	ax, bx
		imul	ax, 0Dh
		mov	dx, ds
		add	ax, 25E3h
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_19F1F:				; CODE XREF: sub_19EDC+9j
					; sub_19EDC+1Dj
		xor	dx, dx
		xor	ax, ax
		pop	bp
		retf
sub_19EDC	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_19F27	proc far		; CODE XREF: seg002:1BC2p seg002:1D35p ...

s2		= dword	ptr -8
s1		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	8, 0
		push	si
		xor	si, si
		jmp	short loc_19F93
; ---------------------------------------------------------------------------

loc_19F30:				; CODE XREF: sub_19F27+6Fj
		push	si
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jnz	short loc_19F47
		jmp	short loc_19F9C
; ---------------------------------------------------------------------------

loc_19F47:				; CODE XREF: sub_19F27+1Cj
		push	si
		push	[bp+arg_2]
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+s2+2], dx
		mov	word ptr [bp+s2], ax
		or	ax, dx
		jnz	short loc_19F5E
		jmp	short loc_19F9C
; ---------------------------------------------------------------------------

loc_19F5E:				; CODE XREF: sub_19F27+33j
		or	si, si
		jnz	short loc_19F78
		les	bx, [bp+s2]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_19F6D
		jmp	short loc_19F9C
; ---------------------------------------------------------------------------

loc_19F6D:				; CODE XREF: sub_19F27+42j
		les	bx, [bp+s1]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_19F78
		jmp	short loc_19F9C
; ---------------------------------------------------------------------------

loc_19F78:				; CODE XREF: sub_19F27+39j
					; sub_19F27+4Dj
		push	word ptr [bp+s2+2]
		push	word ptr [bp+s2] ; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jz	short loc_19F92
		jmp	short loc_19F9C
; ---------------------------------------------------------------------------

loc_19F92:				; CODE XREF: sub_19F27+67j
		inc	si

loc_19F93:				; CODE XREF: sub_19F27+7j
		cmp	si, 3
		jl	short loc_19F30
		xor	ax, ax
		jmp	short loc_19FA1
; ---------------------------------------------------------------------------

loc_19F9C:				; CODE XREF: sub_19F27+1Ej
					; sub_19F27+35j ...
		mov	ax, 1
		jmp	short $+2

loc_19FA1:				; CODE XREF: sub_19F27+73j
		pop	si
		leave
		retf
sub_19F27	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_19FA4(int, char	*s2)
sub_19FA4	proc far		; CODE XREF: seg002:1B66p

s1		= dword	ptr -4
arg_0		= word ptr  6
s2		= dword	ptr  8

		enter	4, 0
		push	si
		mov	si, [bp+arg_0]
		les	bx, [bp+s2]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_19FB8
		jmp	loc_1A039
; ---------------------------------------------------------------------------

loc_19FB8:				; CODE XREF: sub_19FA4+Fj
		push	0
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jnz	short loc_19FCE
		jmp	short loc_1A039
; ---------------------------------------------------------------------------

loc_19FCE:				; CODE XREF: sub_19FA4+26j
		les	bx, [bp+s1]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_19FD9
		jmp	short loc_1A039
; ---------------------------------------------------------------------------

loc_19FD9:				; CODE XREF: sub_19FA4+31j
		push	word ptr [bp+s2+2]
		push	word ptr [bp+s2] ; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jz	short loc_19FF3
		jmp	short loc_1A039
; ---------------------------------------------------------------------------

loc_19FF3:				; CODE XREF: sub_19FA4+4Bj
		push	1
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jnz	short loc_1A009
		jmp	short loc_1A039
; ---------------------------------------------------------------------------

loc_1A009:				; CODE XREF: sub_19FA4+61j
		les	bx, [bp+s1]
		cmp	byte ptr es:[bx], 0
		jz	short loc_1A014
		jmp	short loc_1A039
; ---------------------------------------------------------------------------

loc_1A014:				; CODE XREF: sub_19FA4+6Cj
		push	2
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jnz	short loc_1A02A
		jmp	short loc_1A039
; ---------------------------------------------------------------------------

loc_1A02A:				; CODE XREF: sub_19FA4+82j
		les	bx, [bp+s1]
		cmp	byte ptr es:[bx], 0
		jz	short loc_1A035
		jmp	short loc_1A039
; ---------------------------------------------------------------------------

loc_1A035:				; CODE XREF: sub_19FA4+8Dj
		xor	ax, ax
		jmp	short loc_1A03E
; ---------------------------------------------------------------------------

loc_1A039:				; CODE XREF: sub_19FA4+11j
					; sub_19FA4+28j ...
		mov	ax, 1
		jmp	short $+2

loc_1A03E:				; CODE XREF: sub_19FA4+93j
		pop	si
		leave
		retf
sub_19FA4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1A041	proc far		; CODE XREF: sub_1A041+13p
					; sub_1A08E+Fp	...

var_4		= dword	ptr -4
arg_0		= word ptr  6

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		or	di, di
		jge	short loc_1A060
		xor	si, si
		jmp	short loc_1A059
; ---------------------------------------------------------------------------

loc_1A052:				; CODE XREF: sub_1A041+1Bj
		push	si
		push	cs
		call	near ptr sub_1A041
		pop	cx
		inc	si

loc_1A059:				; CODE XREF: sub_1A041+Fj
		cmp	si, 8
		jl	short loc_1A052
		jmp	short loc_1A08A
; ---------------------------------------------------------------------------

loc_1A060:				; CODE XREF: sub_1A041+Bj
		xor	si, si
		jmp	short loc_1A081
; ---------------------------------------------------------------------------

loc_1A064:				; CODE XREF: sub_1A041+43j
		push	si
		push	di
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jnz	short loc_1A079
		jmp	short loc_1A088
; ---------------------------------------------------------------------------

loc_1A079:				; CODE XREF: sub_1A041+34j
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx], 0
		inc	si

loc_1A081:				; CODE XREF: sub_1A041+21j
		cmp	si, 3
		jl	short loc_1A064
		jmp	short loc_1A08A
; ---------------------------------------------------------------------------

loc_1A088:				; CODE XREF: sub_1A041+36j
		jmp	short $+2

loc_1A08A:				; CODE XREF: sub_1A041+1Dj
					; sub_1A041+45j
		pop	di
		pop	si
		leave
		retf
sub_1A041	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_1A08E(int, char	*src)
sub_1A08E	proc far		; CODE XREF: seg002:1B88p

dest		= dword	ptr -4
arg_0		= word ptr  6
src		= dword	ptr  8

		enter	4, 0
		push	si
		mov	si, [bp+arg_0]
		or	si, si
		jnz	short loc_1A0A1
		push	1
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A0A1:				; CODE XREF: sub_1A08E+Aj
		cmp	si, 4
		jnz	short loc_1A0B4
		push	5
		push	cs
		call	near ptr sub_1A041
		pop	cx
		push	6
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A0B4:				; CODE XREF: sub_1A08E+16j
		cmp	si, 7
		jnz	short loc_1A0C0
		push	6
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A0C0:				; CODE XREF: sub_1A08E+29j
		cmp	si, 8
		jle	short loc_1A0CC
		push	0FFFFh
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A0CC:				; CODE XREF: sub_1A08E+35j
		les	bx, [bp+src]
		cmp	byte ptr es:[bx], 40h ;	'@'
		jnz	short loc_1A132
		push	0
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1A0EC
		jmp	loc_1A1A2
; ---------------------------------------------------------------------------

loc_1A0EC:				; CODE XREF: sub_1A08E+59j
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1A0F8
		jmp	loc_1A182
; ---------------------------------------------------------------------------

loc_1A0F8:				; CODE XREF: sub_1A08E+65j
		push	1
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1A10F
		jmp	loc_1A1A2
; ---------------------------------------------------------------------------

loc_1A10F:				; CODE XREF: sub_1A08E+7Cj
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1A11A
		jmp	short loc_1A182
; ---------------------------------------------------------------------------

loc_1A11A:				; CODE XREF: sub_1A08E+88j
		push	2
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1A130
		jmp	short loc_1A1A2
; ---------------------------------------------------------------------------

loc_1A130:				; CODE XREF: sub_1A08E+9Ej
		jmp	short loc_1A182
; ---------------------------------------------------------------------------

loc_1A132:				; CODE XREF: sub_1A08E+45j
		push	1
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1A148
		jmp	short loc_1A1A2
; ---------------------------------------------------------------------------

loc_1A148:				; CODE XREF: sub_1A08E+B6j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		push	2
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1A165
		jmp	short loc_1A1A2
; ---------------------------------------------------------------------------

loc_1A165:				; CODE XREF: sub_1A08E+D3j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		push	0
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1A182
		jmp	short loc_1A1A2
; ---------------------------------------------------------------------------

loc_1A182:				; CODE XREF: sub_1A08E+67j
					; sub_1A08E+8Aj ...
		push	0Ch		; maxlen
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		call	_strncpy
		add	sp, 0Ah
		les	bx, [bp+dest]
		mov	byte ptr es:[bx+0Ch], 0
		jmp	short loc_1A1A4
; ---------------------------------------------------------------------------

loc_1A1A2:				; CODE XREF: sub_1A08E+5Bj
					; sub_1A08E+7Ej ...
		jmp	short $+2

loc_1A1A4:				; CODE XREF: sub_1A08E+112j
		pop	si
		leave
		retf
sub_1A08E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1A1A7	proc far		; CODE XREF: seg002:1C27p seg002:20FFp ...

src		= dword	ptr -8
dest		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	8, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		or	si, si
		jnz	short loc_1A1BB
		push	1
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A1BB:				; CODE XREF: sub_1A1A7+Bj
		cmp	si, 4
		jnz	short loc_1A1CE
		push	5
		push	cs
		call	near ptr sub_1A041
		pop	cx
		push	6
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A1CE:				; CODE XREF: sub_1A1A7+17j
		cmp	si, 7
		jnz	short loc_1A1DA
		push	6
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A1DA:				; CODE XREF: sub_1A1A7+2Aj
		cmp	si, 8
		jle	short loc_1A1E6
		push	0FFFFh
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1A1E6:				; CODE XREF: sub_1A1A7+36j
		xor	di, di
		jmp	short loc_1A22B
; ---------------------------------------------------------------------------

loc_1A1EA:				; CODE XREF: sub_1A1A7+87j
		push	di
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1A1FF
		jmp	short loc_1A232
; ---------------------------------------------------------------------------

loc_1A1FF:				; CODE XREF: sub_1A1A7+54j
		push	di
		push	[bp+arg_2]
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		or	ax, dx
		jnz	short loc_1A216
		jmp	short loc_1A232
; ---------------------------------------------------------------------------

loc_1A216:				; CODE XREF: sub_1A1A7+6Bj
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		call	_strcpy
		add	sp, 8
		inc	di

loc_1A22B:				; CODE XREF: sub_1A1A7+41j
		cmp	di, 3
		jl	short loc_1A1EA
		jmp	short loc_1A23A
; ---------------------------------------------------------------------------

loc_1A232:				; CODE XREF: sub_1A1A7+56j
					; sub_1A1A7+6Dj
		push	si
		push	cs
		call	near ptr sub_1A041
		pop	cx
		jmp	short $+2

loc_1A23A:				; CODE XREF: sub_1A1A7+89j
		pop	di
		pop	si
		leave
		retf
sub_1A1A7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadScn_Code	proc far		; CODE XREF: RefreshScnCodeBuf+6Ep
					; RunSCE+168p

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr scnCodePos+2, dx
		mov	word ptr scnCodePos, ax
		push	0		; whence
		mov	dx, word ptr scnCodeOfs+2
		mov	ax, word ptr scnCodeOfs
		add	ax, word ptr scnCodePos
		adc	dx, word ptr scnCodePos+2
		push	dx
		push	ax		; offset
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h ; __int32
		call	fseek
		add	sp, 0Ah
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h ; __int32
		push	1		; n
		push	800h		; size
		push	word ptr scnCodeBuf+2
		push	word ptr scnCodeBuf ; ptr
		call	fread1
		add	sp, 0Ch
		pop	bp
		retf
LoadScn_Code	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RefreshScnCodeBuf proc far		; CODE XREF: PeekScnCodeByte+18p
					; PeekScnCodeWord+18p ...

var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	4, 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jb	short loc_1A2CC
		ja	short loc_1A2A8
		cmp	ax, word ptr [bp+arg_4]
		jbe	short loc_1A2CC

loc_1A2A8:				; CODE XREF: RefreshScnCodeBuf+Fj
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax

loc_1A2CC:				; CODE XREF: RefreshScnCodeBuf+Dj
					; RefreshScnCodeBuf+14j
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr scnCodePos+2
		jb	short loc_1A2F9
		jnz	short loc_1A2E0
		cmp	ax, word ptr scnCodePos
		jb	short loc_1A2F9

loc_1A2E0:				; CODE XREF: RefreshScnCodeBuf+46j
		mov	dx, word ptr scnCodePos+2
		mov	ax, word ptr scnCodePos
		add	ax, 800h
		adc	dx, 0
		cmp	dx, word ptr [bp+arg_4+2]
		ja	short loc_1A308
		jb	short loc_1A2F9
		cmp	ax, word ptr [bp+arg_4]
		jnb	short loc_1A308

loc_1A2F9:				; CODE XREF: RefreshScnCodeBuf+44j
					; RefreshScnCodeBuf+4Cj ...
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr LoadScn_Code
		add	sp, 4
		leave
		retf
; ---------------------------------------------------------------------------

loc_1A308:				; CODE XREF: RefreshScnCodeBuf+5Ej
					; RefreshScnCodeBuf+65j
		mov	ax, 1
		leave
		retf
RefreshScnCodeBuf endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetScnCodePtr	proc far		; CODE XREF: PeekScnCodeByte+25p
					; PeekScnCodeWord+25p ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		sub	ax, word ptr scnCodePos
		mov	dx, word ptr scnCodeBuf+2
		push	ax
		mov	ax, word ptr scnCodeBuf
		pop	bx
		add	ax, bx
		pop	bp
		retf
GetScnCodePtr	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadScn_MTbl	proc far		; CODE XREF: RefreshMsgTblBuf+6Ep
					; RunSCE+173p

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr scnMsgTblPos+2, dx
		mov	word ptr scnMsgTblPos, ax
		push	0		; whence
		mov	dx, word ptr scnMsgTblOfs+2
		mov	ax, word ptr scnMsgTblOfs
		add	ax, word ptr scnMsgTblPos
		adc	dx, word ptr scnMsgTblPos+2
		push	dx
		push	ax		; offset
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h ; __int32
		call	fseek
		add	sp, 0Ah
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h ; __int32
		push	1		; n
		push	800h		; size
		push	word ptr scnMsgTblBuf+2
		push	word ptr scnMsgTblBuf ;	ptr
		call	fread1
		add	sp, 0Ch
		pop	bp
		retf
LoadScn_MTbl	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RefreshMsgTblBuf proc far		; CODE XREF: GetMsgTblPtr+2Cp

var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	4, 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jb	short loc_1A3B6
		ja	short loc_1A392
		cmp	ax, word ptr [bp+arg_4]
		jbe	short loc_1A3B6

loc_1A392:				; CODE XREF: RefreshMsgTblBuf+Fj
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax

loc_1A3B6:				; CODE XREF: RefreshMsgTblBuf+Dj
					; RefreshMsgTblBuf+14j
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr scnMsgTblPos+2
		jb	short loc_1A3E3
		jnz	short loc_1A3CA
		cmp	ax, word ptr scnMsgTblPos
		jb	short loc_1A3E3

loc_1A3CA:				; CODE XREF: RefreshMsgTblBuf+46j
		mov	dx, word ptr scnMsgTblPos+2
		mov	ax, word ptr scnMsgTblPos
		add	ax, 800h
		adc	dx, 0
		cmp	dx, word ptr [bp+arg_4+2]
		ja	short loc_1A3F2
		jb	short loc_1A3E3
		cmp	ax, word ptr [bp+arg_4]
		jnb	short loc_1A3F2

loc_1A3E3:				; CODE XREF: RefreshMsgTblBuf+44j
					; RefreshMsgTblBuf+4Cj	...
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr LoadScn_MTbl
		add	sp, 4
		leave
		retf
; ---------------------------------------------------------------------------

loc_1A3F2:				; CODE XREF: RefreshMsgTblBuf+5Ej
					; RefreshMsgTblBuf+65j
		mov	ax, 1
		leave
		retf
RefreshMsgTblBuf endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetMsgTblPtr	proc far		; CODE XREF: GetMessage+25p
					; GetMessage+40p

var_4		= dword	ptr -4
arg_0		= dword	ptr  6

		enter	4, 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	cl, 2
		call	LXLSH@
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		add	ax, 4
		adc	dx, 0
		push	dx
		push	ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr RefreshMsgTblBuf
		add	sp, 8
		mov	ax, word ptr [bp+var_4]
		sub	ax, word ptr scnMsgTblPos
		les	bx, scnMsgTblBuf
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		leave
		retf
GetMsgTblPtr	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadScn_Msgs	proc far		; CODE XREF: RefreshMsgBuf+6Ep
					; RunSCE+17Ep

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr scnMsgDataPos+2, dx
		mov	word ptr scnMsgDataPos,	ax
		push	0		; whence
		mov	dx, word ptr scnMsgDataOfs+2
		mov	ax, word ptr scnMsgDataOfs
		add	ax, word ptr scnMsgDataPos
		adc	dx, word ptr scnMsgDataPos+2
		push	dx
		push	ax		; offset
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h ; __int32
		call	fseek
		add	sp, 0Ah
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h ; __int32
		push	1		; n
		push	800h		; size
		push	word ptr scnMsgDataBuf+2
		push	word ptr scnMsgDataBuf ; ptr
		call	fread1
		add	sp, 0Ch
		pop	bp
		retf
LoadScn_Msgs	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

RefreshMsgBuf	proc far		; CODE XREF: GetMessage+59p

var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	4, 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jb	short loc_1A4D1
		ja	short loc_1A4AD
		cmp	ax, word ptr [bp+arg_4]
		jbe	short loc_1A4D1

loc_1A4AD:				; CODE XREF: RefreshMsgBuf+Fj
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax

loc_1A4D1:				; CODE XREF: RefreshMsgBuf+Dj
					; RefreshMsgBuf+14j
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr scnMsgDataPos+2
		jb	short loc_1A4FE
		jnz	short loc_1A4E5
		cmp	ax, word ptr scnMsgDataPos
		jb	short loc_1A4FE

loc_1A4E5:				; CODE XREF: RefreshMsgBuf+46j
		mov	dx, word ptr scnMsgDataPos+2
		mov	ax, word ptr scnMsgDataPos
		add	ax, 800h
		adc	dx, 0
		cmp	dx, word ptr [bp+arg_4+2]
		ja	short loc_1A50D
		jb	short loc_1A4FE
		cmp	ax, word ptr [bp+arg_4]
		jnb	short loc_1A50D

loc_1A4FE:				; CODE XREF: RefreshMsgBuf+44j
					; RefreshMsgBuf+4Cj ...
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr LoadScn_Msgs
		add	sp, 4
		leave
		retf
; ---------------------------------------------------------------------------

loc_1A50D:				; CODE XREF: RefreshMsgBuf+5Ej
					; RefreshMsgBuf+65j
		mov	ax, 1
		leave
		retf
RefreshMsgBuf	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetScnMsgPtr	proc far		; CODE XREF: GetMessage+7Ep

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		sub	ax, word ptr scnMsgDataPos
		mov	dx, word ptr scnMsgDataBuf+2
		push	ax
		mov	ax, word ptr scnMsgDataBuf
		pop	bx
		add	ax, bx
		pop	bp
		retf
GetScnMsgPtr	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PeekScnCodeByte	proc far		; CODE XREF: GetScnCodeByte+Fp
					; ScnGetParameter+Cp ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, 1
		adc	dx, 0
		push	dx
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr RefreshScnCodeBuf
		add	sp, 8
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr GetScnCodePtr
		add	sp, 4
		mov	bx, ax
		mov	es, dx
		mov	al, es:[bx]
		pop	bp
		retf
PeekScnCodeByte	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PeekScnCodeWord	proc far		; CODE XREF: GetScnCodeWord+Fp
					; seg002:0D01p	...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, 2
		adc	dx, 0
		push	dx
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr RefreshScnCodeBuf
		add	sp, 8
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr GetScnCodePtr
		add	sp, 4
		mov	bx, ax
		mov	es, dx
		mov	ax, es:[bx]
		pop	bp
		retf
PeekScnCodeWord	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

PeekScnCodeDWord proc far		; CODE XREF: GetScnCodeDWord+Fp

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, 4
		adc	dx, 0
		push	dx
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr RefreshScnCodeBuf
		add	sp, 8
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr GetScnCodePtr
		add	sp, 4
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		pop	bp
		retf
PeekScnCodeDWord endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetScnCodeByte	proc far		; CODE XREF: ScnEvalExpression+17p

var_1		= byte ptr -1
arg_0		= dword	ptr  6

		enter	2, 0
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	cs
		call	near ptr PeekScnCodeByte
		add	sp, 4
		mov	[bp+var_1], al
		les	bx, [bp+arg_0]
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	al, [bp+var_1]
		leave
		retf
GetScnCodeByte	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetScnCodeWord	proc far		; CODE XREF: ScnGetImmediate+12p
					; ScnGetVariable+12p ...

var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	2, 0
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	cs
		call	near ptr PeekScnCodeWord
		add	sp, 4
		mov	[bp+var_2], ax
		les	bx, [bp+arg_0]
		add	word ptr es:[bx], 2
		adc	word ptr es:[bx+2], 0
		mov	ax, [bp+var_2]
		leave
		retf
GetScnCodeWord	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetScnCodeDWord	proc far		; CODE XREF: GetMessage+12p
					; GetCodeJumpOfs+12p

var_4		= dword	ptr -4
arg_0		= dword	ptr  6

		enter	4, 0
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	cs
		call	near ptr PeekScnCodeDWord
		add	sp, 4
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+arg_0]
		add	word ptr es:[bx], 4
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retf
GetScnCodeDWord	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetMessage	proc far		; CODE XREF: sub_1AAE0+16p
					; scnExec70+15Ap ...

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	0Ch, 0
		add	word ptr [bp+arg_0], 1
		adc	word ptr [bp+arg_0+2], 0
		push	ss
		lea	ax, [bp+arg_0]
		push	ax
		push	cs
		call	near ptr GetScnCodeDWord
		add	sp, 4
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	cs
		call	near ptr GetMsgTblPtr
		add	sp, 4
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	dx, word ptr [bp+var_C+2]
		mov	ax, word ptr [bp+var_C]
		add	ax, 1
		adc	dx, 0
		push	dx
		push	ax
		push	cs
		call	near ptr GetMsgTblPtr
		add	sp, 4
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr RefreshMsgBuf
		add	sp, 8
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_1A6D1
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_1A6D1:				; CODE XREF: GetMessage+65j
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr GetScnMsgPtr
		add	sp, 4
		leave
		retf
GetMessage	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScnGetImmediate	proc far		; CODE XREF: ScnEvalExpression+6Cp
					; ScnGetParameter+5Cp ...

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	2, 0
		add	word ptr [bp+arg_0], 1
		adc	word ptr [bp+arg_0+2], 0
		push	ss
		lea	ax, [bp+arg_0]
		push	ax
		push	cs
		call	near ptr GetScnCodeWord
		add	sp, 4
		mov	[bp+var_2], ax
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_1A715
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_1A715:				; CODE XREF: ScnGetImmediate+21j
		mov	ax, [bp+var_2]
		leave
		retf
ScnGetImmediate	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScnGetVariable	proc far		; CODE XREF: ScnEvalExpression+4Ep
					; ScnGetParameter+4Ap

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	2, 0
		add	word ptr [bp+arg_0], 1
		adc	word ptr [bp+arg_0+2], 0
		push	ss
		lea	ax, [bp+arg_0]
		push	ax
		push	cs
		call	near ptr GetScnCodeWord
		add	sp, 4
		add	ax, ax		; index	into 2-byte words
		mov	es, word ptr scnVarMemory+2
		add	ax, word ptr scnVarMemory
		mov	bx, ax
		mov	ax, es:[bx]
		mov	[bp+var_2], ax
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_1A75E
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_1A75E:				; CODE XREF: ScnGetVariable+30j
		mov	ax, [bp+var_2]
		leave
		retf
ScnGetVariable	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetScnVarMemPtr	proc far		; CODE XREF: scnExec70+1Ep
					; scnExec70+36p ...

var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	4, 0
		add	word ptr [bp+arg_0], 1
		adc	word ptr [bp+arg_0+2], 0 ; skip	"parameter type" (assumed to be	12h)
		push	ss
		lea	ax, [bp+arg_0]
		push	ax
		push	cs
		call	near ptr GetScnCodeWord
		add	sp, 4
		add	ax, ax		; word-index ->	offset
		mov	dx, word ptr scnVarMemory+2
		add	ax, word ptr scnVarMemory
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_1A7A5
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_1A7A5:				; CODE XREF: GetScnVarMemPtr+2Ej
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retf
GetScnVarMemPtr	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScnEvalExpression proc far		; CODE XREF: ScnGetParameter+38p

var_48		= byte ptr -48h
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	48h, 0
		push	si
		push	di
		add	word ptr [bp+arg_0], 1
		adc	word ptr [bp+arg_0+2], 0
		mov	di, 0FFFFh

loc_1A7C0:				; CODE XREF: ScnEvalExpression:loc_1A96Ej
		push	ss
		lea	ax, [bp+arg_0]
		push	ax
		push	cs
		call	near ptr GetScnCodeByte
		add	sp, 4
		mov	ah, 0
		mov	[bp+var_2], ax
		mov	bx, [bp+var_2]
		sub	bx, 10h
		cmp	bx, 23h
		jbe	short loc_1A7DF
		jmp	loc_1A96E
; ---------------------------------------------------------------------------

loc_1A7DF:				; CODE XREF: ScnEvalExpression+2Bj
		add	bx, bx
		jmp	cs:off_1A9C7[bx]

loc_1A7E6:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9C7o
		jmp	loc_1A971
; ---------------------------------------------------------------------------

loc_1A7E9:				; CODE XREF: ScnEvalExpression+32j
					; ScnEvalExpression+123j
					; DATA XREF: ...
		sub	word ptr [bp+arg_0], 1
		sbb	word ptr [bp+arg_0+2], 0
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr ScnGetVariable
		add	sp, 8
		mov	si, ax
		jmp	short loc_1A823
; ---------------------------------------------------------------------------

loc_1A807:				; CODE XREF: ScnEvalExpression+32j
					; ScnEvalExpression+123j
					; DATA XREF: ...
		sub	word ptr [bp+arg_0], 1
		sbb	word ptr [bp+arg_0+2], 0
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr ScnGetImmediate
		add	sp, 8
		mov	si, ax

loc_1A823:				; CODE XREF: ScnEvalExpression+56j
		inc	di
		mov	ax, di
		cmp	ax, 20h
		jl	short loc_1A837
		push	ds
		push	offset aExprStackOverflow ; "Ž®‚Ì‰ðŽß—p‚ÌƒXƒ^ƒbƒN‚ªCƒI[ƒo[ƒtƒ[‚"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1A837:				; CODE XREF: ScnEvalExpression+7Aj
		mov	bx, di
		add	bx, bx
		lea	ax, [bp+var_48]
		add	bx, ax
		mov	ss:[bx], si
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		jmp	loc_1A96E
; ---------------------------------------------------------------------------

loc_1A852:				; CODE XREF: ScnEvalExpression+32j
					; ScnEvalExpression+123j
					; DATA XREF: ...
		or	di, di
		jge	short loc_1A862
		push	ds
		push	offset aExprStackUnderflow1 ; "Ž®‚Ì‰ðŽß—p‚ÌƒXƒ^ƒbƒN‚ªCƒAƒ“ƒ_[ƒtƒ[‚"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1A862:				; CODE XREF: ScnEvalExpression+A5j
		mov	bx, di
		add	bx, bx
		lea	ax, [bp+var_48]
		add	bx, ax
		mov	si, ss:[bx]
		mov	ax, [bp+var_2]
		cmp	ax, 24h
		jz	short loc_1A882
		cmp	ax, 25h
		jz	short loc_1A884
		cmp	ax, 2Ah
		jz	short loc_1A88A
		jmp	short loc_1A892
; ---------------------------------------------------------------------------

loc_1A882:				; CODE XREF: ScnEvalExpression+C5j
		jmp	short loc_1A892
; ---------------------------------------------------------------------------

loc_1A884:				; CODE XREF: ScnEvalExpression+CAj
		mov	ax, si
		neg	ax
		jmp	short loc_1A88E
; ---------------------------------------------------------------------------

loc_1A88A:				; CODE XREF: ScnEvalExpression+CFj
		mov	ax, si
		not	ax

loc_1A88E:				; CODE XREF: ScnEvalExpression+D9j
		mov	si, ax
		jmp	short $+2

loc_1A892:				; CODE XREF: ScnEvalExpression+D1j
					; ScnEvalExpression:loc_1A882j
		jmp	loc_1A960
; ---------------------------------------------------------------------------

loc_1A895:				; CODE XREF: ScnEvalExpression+32j
					; ScnEvalExpression+123j
					; DATA XREF: ...
		cmp	di, 1
		jge	short loc_1A8A6
		push	ds
		push	offset aExprStackUnderflow2 ; "Ž®‚Ì‰ðŽß—p‚ÌƒXƒ^ƒbƒN‚ªCƒAƒ“ƒ_[ƒtƒ[‚"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1A8A6:				; CODE XREF: ScnEvalExpression+E9j
		mov	bx, di
		add	bx, bx
		lea	ax, [bp+var_48]
		add	bx, ax
		mov	si, ss:[bx]
		dec	di
		mov	bx, di
		add	bx, bx
		lea	ax, [bp+var_48]
		add	bx, ax
		mov	ax, ss:[bx]
		mov	[bp+var_4], ax
		mov	bx, [bp+var_2]
		sub	bx, 26h
		cmp	bx, 0Dh
		jbe	short loc_1A8D0
		jmp	loc_1A960
; ---------------------------------------------------------------------------

loc_1A8D0:				; CODE XREF: ScnEvalExpression+11Cj
		add	bx, bx
		jmp	cs:off_1A9AB[bx]

loc_1A8D7:				; DATA XREF: seg002:off_1A9ABo
		mov	ax, [bp+var_4]
		add	ax, si
		jmp	short loc_1A8F3
; ---------------------------------------------------------------------------

loc_1A8DE:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		mov	ax, [bp+var_4]
		sub	ax, si
		jmp	short loc_1A8F3
; ---------------------------------------------------------------------------

loc_1A8E5:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		mov	ax, [bp+var_4]
		imul	si
		jmp	short loc_1A8F3
; ---------------------------------------------------------------------------

loc_1A8EC:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		mov	ax, [bp+var_4]
		xor	dx, dx
		div	si

loc_1A8F3:				; CODE XREF: ScnEvalExpression+12Dj
					; ScnEvalExpression+134j ...
		mov	si, ax
		jmp	short loc_1A960
; ---------------------------------------------------------------------------

loc_1A8F7:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		mov	ax, [bp+var_4]
		and	ax, si
		jmp	short loc_1A8F3
; ---------------------------------------------------------------------------

loc_1A8FE:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		mov	ax, [bp+var_4]
		or	ax, si
		jmp	short loc_1A8F3
; ---------------------------------------------------------------------------

loc_1A905:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		mov	ax, [bp+var_4]
		xor	ax, si
		jmp	short loc_1A8F3
; ---------------------------------------------------------------------------

loc_1A90C:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		cmp	[bp+var_4], si
		jnz	short loc_1A916
		mov	ax, 1
		jmp	short loc_1A918
; ---------------------------------------------------------------------------

loc_1A916:				; CODE XREF: ScnEvalExpression+160j
		xor	ax, ax

loc_1A918:				; CODE XREF: ScnEvalExpression+165j
		jmp	short loc_1A95E
; ---------------------------------------------------------------------------

loc_1A91A:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		cmp	[bp+var_4], si
		jz	short loc_1A924
		mov	ax, 1
		jmp	short loc_1A926
; ---------------------------------------------------------------------------

loc_1A924:				; CODE XREF: ScnEvalExpression+16Ej
		xor	ax, ax

loc_1A926:				; CODE XREF: ScnEvalExpression+173j
		jmp	short loc_1A95E
; ---------------------------------------------------------------------------

loc_1A928:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		cmp	[bp+var_4], si
		jbe	short loc_1A932
		mov	ax, 1
		jmp	short loc_1A934
; ---------------------------------------------------------------------------

loc_1A932:				; CODE XREF: ScnEvalExpression+17Cj
		xor	ax, ax

loc_1A934:				; CODE XREF: ScnEvalExpression+181j
		jmp	short loc_1A95E
; ---------------------------------------------------------------------------

loc_1A936:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		cmp	[bp+var_4], si
		jb	short loc_1A940
		mov	ax, 1
		jmp	short loc_1A942
; ---------------------------------------------------------------------------

loc_1A940:				; CODE XREF: ScnEvalExpression+18Aj
		xor	ax, ax

loc_1A942:				; CODE XREF: ScnEvalExpression+18Fj
		jmp	short loc_1A95E
; ---------------------------------------------------------------------------

loc_1A944:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		cmp	[bp+var_4], si
		jnb	short loc_1A94E
		mov	ax, 1
		jmp	short loc_1A950
; ---------------------------------------------------------------------------

loc_1A94E:				; CODE XREF: ScnEvalExpression+198j
		xor	ax, ax

loc_1A950:				; CODE XREF: ScnEvalExpression+19Dj
		jmp	short loc_1A95E
; ---------------------------------------------------------------------------

loc_1A952:				; CODE XREF: ScnEvalExpression+123j
					; DATA XREF: seg002:off_1A9ABo
		cmp	[bp+var_4], si
		ja	short loc_1A95C
		mov	ax, 1
		jmp	short loc_1A95E
; ---------------------------------------------------------------------------

loc_1A95C:				; CODE XREF: ScnEvalExpression+1A6j
		xor	ax, ax

loc_1A95E:				; CODE XREF: ScnEvalExpression:loc_1A918j
					; ScnEvalExpression:loc_1A926j	...
		jmp	short loc_1A8F3
; ---------------------------------------------------------------------------

loc_1A960:				; CODE XREF: ScnEvalExpression:loc_1A892j
					; ScnEvalExpression+11Ej ...
		mov	bx, di
		add	bx, bx
		lea	ax, [bp+var_48]
		add	bx, ax
		mov	ss:[bx], si
		jmp	short $+2

loc_1A96E:				; CODE XREF: ScnEvalExpression+2Dj
					; ScnEvalExpression+32j ...
		jmp	loc_1A7C0
; ---------------------------------------------------------------------------

loc_1A971:				; CODE XREF: ScnEvalExpression:loc_1A7E6j
		or	di, di
		jz	short loc_1A981
		push	ds
		push	offset aExprUnfinished ; "Ž®‚ªCŠ®‘S‚É•Â‚¶‚Ä‚¢‚Ü‚¹‚ñD\n"
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1A981:				; CODE XREF: ScnEvalExpression+1C4j
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_1A999
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_1A999:				; CODE XREF: ScnEvalExpression+1D8j
		mov	bx, di
		add	bx, bx
		lea	ax, [bp+var_48]
		add	bx, ax
		mov	ax, ss:[bx]
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
ScnEvalExpression endp

; ---------------------------------------------------------------------------
off_1A9AB	dw offset loc_1A8D7	; 0 ; DATA XREF: ScnEvalExpression+123r
		dw offset loc_1A8DE	; 1
		dw offset loc_1A8E5	; 2
		dw offset loc_1A8EC	; 3
		dw offset loc_1A960	; 4
		dw offset loc_1A8F7	; 5
		dw offset loc_1A8FE	; 6
		dw offset loc_1A905	; 7
		dw offset loc_1A90C	; 8
		dw offset loc_1A91A	; 9
		dw offset loc_1A928	; 0Ah
		dw offset loc_1A936	; 0Bh
		dw offset loc_1A944	; 0Ch
		dw offset loc_1A952	; 0Dh
off_1A9C7	dw offset loc_1A807	; 0 ; DATA XREF: ScnEvalExpression+32r
		dw offset loc_1A96E	; 1
		dw offset loc_1A7E9	; 2
		dw offset loc_1A96E	; 3
		dw offset loc_1A96E	; 4
		dw offset loc_1A96E	; 5
		dw offset loc_1A96E	; 6
		dw offset loc_1A96E	; 7
		dw offset loc_1A96E	; 8
		dw offset loc_1A96E	; 9
		dw offset loc_1A96E	; 0Ah
		dw offset loc_1A96E	; 0Bh
		dw offset loc_1A96E	; 0Ch
		dw offset loc_1A96E	; 0Dh
		dw offset loc_1A96E	; 0Eh
		dw offset loc_1A96E	; 0Fh
		dw offset loc_1A96E	; 10h
		dw offset loc_1A7E6	; 11h
		dw offset loc_1A96E	; 12h
		dw offset loc_1A96E	; 13h
		dw offset loc_1A852	; 14h
		dw offset loc_1A852	; 15h
		dw offset loc_1A895	; 16h
		dw offset loc_1A895	; 17h
		dw offset loc_1A895	; 18h
		dw offset loc_1A895	; 19h
		dw offset loc_1A852	; 1Ah
		dw offset loc_1A895	; 1Bh
		dw offset loc_1A895	; 1Ch
		dw offset loc_1A895	; 1Dh
		dw offset loc_1A895	; 1Eh
		dw offset loc_1A895	; 1Fh
		dw offset loc_1A895	; 20h
		dw offset loc_1A895	; 21h
		dw offset loc_1A895	; 22h
		dw offset loc_1A895	; 23h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ScnGetParameter	proc far		; CODE XREF: seg002:0D80p
					; scnExec70+242p ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	2, 0
		push	si
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr PeekScnCodeByte
		add	sp, 4
		mov	ah, 0
		mov	[bp+var_2], ax
		mov	ax, [bp+var_2]
		cmp	ax, 10h
		jz	short loc_1AA5E	; type 10h - immediate value
		cmp	ax, 12h
		jz	short loc_1AA4C	; type 12h - variable
		cmp	ax, 20h
		jz	short loc_1AA3A	; type 20h - expression
		jmp	short loc_1AA5E
; ---------------------------------------------------------------------------

loc_1AA3A:				; CODE XREF: ScnGetParameter+27j
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr ScnEvalExpression
		jmp	short loc_1AA6E
; ---------------------------------------------------------------------------

loc_1AA4C:				; CODE XREF: ScnGetParameter+22j
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr ScnGetVariable
		jmp	short loc_1AA6E
; ---------------------------------------------------------------------------

loc_1AA5E:				; CODE XREF: ScnGetParameter+1Dj
					; ScnGetParameter+29j
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr ScnGetImmediate

loc_1AA6E:				; CODE XREF: ScnGetParameter+3Bj
					; ScnGetParameter+4Dj
		add	sp, 8
		mov	si, ax
		jmp	short $+2
		mov	ax, si
		jmp	short $+2
		pop	si
		leave
		retf
ScnGetParameter	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetCodeJumpOfs	proc far		; CODE XREF: seg002:0CC4p seg002:0D2Fp ...

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		enter	8, 0
		add	word ptr [bp+arg_0], 1
		adc	word ptr [bp+arg_0+2], 0
		push	ss
		lea	ax, [bp+arg_0]
		push	ax
		push	cs
		call	near ptr GetScnCodeDWord
		add	sp, 4
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		cmp	word ptr [bp+var_8+2], 0FFFFh
		jnz	short loc_1AAB2
		cmp	word ptr [bp+var_8], 0FFFFh
		jnz	short loc_1AAB2
		mov	word ptr [bp+var_4+2], 0
		mov	word ptr [bp+var_4], 0
		jmp	short loc_1AABE
; ---------------------------------------------------------------------------

loc_1AAB2:				; CODE XREF: GetCodeJumpOfs+22j
					; GetCodeJumpOfs+28j
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_1AABE:				; CODE XREF: GetCodeJumpOfs+34j
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jz	short loc_1AAD6
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_1AAD6:				; CODE XREF: GetCodeJumpOfs+48j
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		leave
		retf
GetCodeJumpOfs	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1AAE0	proc far		; CODE XREF: seg002:1B52p seg002:2D25p ...

var_8		= dword	ptr -8
s		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h

		enter	8, 0
		push	si
		push	di
		mov	di, [bp+arg_C]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr GetMessage
		add	sp, 8
		mov	word ptr [bp+s+2], dx
		mov	word ptr [bp+s], ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		call	_strlen
		add	sp, 4
		inc	ax
		mov	si, ax
		cmp	ax, di
		jle	short loc_1AB19
		mov	si, di

loc_1AB19:				; CODE XREF: sub_1AAE0+35j
		mov	dx, word ptr [bp+arg_8+2]
		mov	ax, word ptr [bp+arg_8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_1AB41
; ---------------------------------------------------------------------------

loc_1AB27:				; CODE XREF: sub_1AAE0+63j
		les	bx, [bp+s]
		inc	word ptr [bp+s]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		les	bx, [bp+var_8]
		mov	es:[bx], al
		inc	word ptr [bp+var_8]
		dec	si

loc_1AB41:				; CODE XREF: sub_1AAE0+45j
		or	si, si
		jg	short loc_1AB27
		les	bx, [bp+arg_8]
		add	bx, di
		mov	byte ptr es:[bx-1], 0
		mov	dx, word ptr [bp+arg_8+2]
		mov	ax, word ptr [bp+arg_8]
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
sub_1AAE0	endp

; ---------------------------------------------------------------------------

scn80_dummy:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn81:					; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		cmp	word_29C31, 0
		jz	short loc_1AB7E
		cmp	word_2A438, 1
		jz	short loc_1AB7E
		cmp	word_2A438, 2
		jz	short loc_1AB7E
		mov	word_2A438, 1

loc_1AB7E:				; CODE XREF: seg002:0C98j seg002:0C9Fj ...
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn82_dummy:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn83_Jump:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetCodeJumpOfs
		add	sp, 8
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1ABA3	proc far		; CODE XREF: sub_1D327+17p
		push	bp
		mov	bp, sp
		mov	word ptr ds:2553h, 0FFFFh
		pop	bp
		retf
sub_1ABA3	endp

; ---------------------------------------------------------------------------

scn84_GoSub:				; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		inc	word ptr ds:2553h
		mov	ax, ds:2553h
		cmp	ax, 10h
		jl	short loc_1ABCA
		push	ds
		push	offset aGosubStackOverflow1 ; "GOSUB —p‚ÌƒXƒ^ƒbƒN‚ªCƒI[ƒo[ƒtƒ[‚µ‚"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1ABCA:				; CODE XREF: seg002:0CECj
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr PeekScnCodeWord
		add	sp, 4
		mov	[bp-2],	ax
		mov	ax, [bp-2]
		cwd
		add	ax, [bp+6]
		adc	dx, [bp+8]
		mov	bx, ds:2553h	; get stack index
		shl	bx, 2
		mov	[bx+2557h], dx	; store	return address
		mov	[bx+2555h], ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetCodeJumpOfs
		add	sp, 8
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax
		leave
		retf
; ---------------------------------------------------------------------------

scn85_Return:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		cmp	word ptr ds:2553h, 0
		jge	short loc_1AC24
		push	ds
		push	offset aGosubStackUnderflow ; "GOSUB —p‚ÌƒXƒ^ƒbƒN‚ªCƒAƒ“ƒ_[ƒtƒ[‚µ‚"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1AC24:				; CODE XREF: seg002:0D46j
		mov	bx, ds:2553h	; get stack index
		shl	bx, 2
		mov	dx, [bx+2557h]	; get return address
		mov	ax, [bx+2555h]
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax
		dec	word ptr ds:2553h
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn86_CondJmp:				; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		cmp	word ptr [bp-2], 0
		jnz	short locret_1AC78
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetCodeJumpOfs
		add	sp, 8
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax

locret_1AC78:				; CODE XREF: seg002:0D8Dj
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1AC7A	proc far		; CODE XREF: scnExec70+352p
					; scnExec70+4CEp ...

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= dword	ptr  0Ch
arg_A		= word ptr  10h

		enter	8, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		cmp	di, 4
		jl	short loc_1AC96
		les	bx, [bp+arg_6]
		mov	ax, es:[bx+34h]
		cwd
		sub	ax, dx
		sar	ax, 1
		jmp	short loc_1AC98
; ---------------------------------------------------------------------------

loc_1AC96:				; CODE XREF: sub_1AC7A+Cj
		xor	ax, ax

loc_1AC98:				; CODE XREF: sub_1AC7A+1Aj
		les	bx, [bp+arg_6]
		mov	es:[bx+42h], ax
		mov	ax, di
		mov	bx, 4
		cwd
		idiv	bx
		les	bx, [bp+arg_6]
		mov	es:[bx+44h], dx
		les	bx, [bp+arg_6]
		mov	dx, es:[bx+40h]
		mov	ax, es:[bx+3Eh]
		mov	[bp+var_4], dx
		mov	[bp+var_6], ax
		les	bx, [bp+arg_6]
		mov	ax, es:[bx+3Ch]
		mov	[bp+var_8], ax
		cmp	[bp+arg_A], 0
		jz	short loc_1ACE5
		les	bx, [bp+arg_6]
		mov	word ptr es:[bx+40h], ds
		mov	word ptr es:[bx+3Eh], 9BCh
		les	bx, [bp+arg_6]
		mov	word ptr es:[bx+3Ch], 0

loc_1ACE5:				; CODE XREF: sub_1AC7A+53j
		mov	ax, word ptr [bp+arg_2]
		or	ax, word ptr [bp+arg_2+2]
		jnz	short loc_1ACF0
		jmp	loc_1AD95
; ---------------------------------------------------------------------------

loc_1ACF0:				; CODE XREF: sub_1AC7A+71j
					; sub_1AC7A:loc_1AD92j
		les	bx, [bp+arg_2]
		inc	word ptr [bp+arg_2]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jnz	short loc_1AD0E
		jmp	loc_1AD95
; ---------------------------------------------------------------------------

loc_1AD0E:				; CODE XREF: sub_1AC7A+8Fj
		mov	al, byte ptr [bp+var_2]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_1AD60
		shl	[bp+var_2], 8
		les	bx, [bp+arg_2]
		inc	word ptr [bp+arg_2]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		and	ax, 0FFh
		add	[bp+var_2], ax
		les	bx, [bp+arg_6]
		push	es
		les	si, [bp+arg_6]
		mov	ax, es:[si+34h]
		dec	ax
		pop	es
		cmp	es:[bx+42h], ax
		jl	short loc_1AD4D
		jmp	short loc_1AD95
; ---------------------------------------------------------------------------

loc_1AD4D:				; CODE XREF: sub_1AC7A+CFj
					; sub_1AC7A:loc_1AD78j
		push	[bp+var_2]
		push	word ptr [bp+arg_6+2]
		push	word ptr [bp+arg_6]
		call	sub_228FB
		add	sp, 6
		jmp	short loc_1AD92
; ---------------------------------------------------------------------------

loc_1AD60:				; CODE XREF: sub_1AC7A+A0j
		cmp	[bp+var_2], 20h	; ' '
		jl	short loc_1AD7A
		les	bx, [bp+arg_6]
		mov	ax, es:[bx+42h]
		les	bx, [bp+arg_6]
		cmp	ax, es:[bx+34h]
		jl	short loc_1AD78
		jmp	short loc_1AD95
; ---------------------------------------------------------------------------

loc_1AD78:				; CODE XREF: sub_1AC7A+FAj
		jmp	short loc_1AD4D
; ---------------------------------------------------------------------------

loc_1AD7A:				; CODE XREF: sub_1AC7A+EAj
		cmp	[bp+var_2], 0Dh
		jnz	short loc_1AD90
		push	word ptr [bp+arg_6+2]
		push	word ptr [bp+arg_6]
		call	sub_22C75
		add	sp, 4
		jmp	short loc_1AD92
; ---------------------------------------------------------------------------

loc_1AD90:				; CODE XREF: sub_1AC7A+104j
		jmp	short $+2

loc_1AD92:				; CODE XREF: sub_1AC7A+E4j
					; sub_1AC7A+114j
		jmp	loc_1ACF0
; ---------------------------------------------------------------------------

loc_1AD95:				; CODE XREF: sub_1AC7A+73j
					; sub_1AC7A+91j ...
		les	bx, [bp+arg_6]
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_6]
		mov	es:[bx+40h], dx
		mov	es:[bx+3Eh], ax
		les	bx, [bp+arg_6]
		mov	ax, [bp+var_8]
		mov	es:[bx+3Ch], ax
		pop	di
		pop	si
		leave
		retf
sub_1AC7A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1ADB4	proc far		; CODE XREF: sub_1ADD7+9p seg002:3186p ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		cmp	bx, 1
		jl	short loc_1ADC4
		cmp	bx, 8
		jle	short loc_1ADC7

loc_1ADC4:				; CODE XREF: sub_1ADB4+9j
		mov	bx, 1

loc_1ADC7:				; CODE XREF: sub_1ADB4+Ej
		mov	al, bl
		add	al, '0'
		mov	byte ptr aRekiai_1_usr+7, al
		mov	dx, ds
		mov	ax, offset aRekiai_1_usr ; "rekiai_1.usr"
		pop	bp
		retf
sub_1ADB4	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1ADD7	proc far		; CODE XREF: scnExec70+16Ap
					; scnExec70+270p

time		= word ptr -16h
date		= word ptr -14h
ptr		= byte ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
path		= dword	ptr -8
stream		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	16h, 0
		push	si
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_1ADB4
		pop	cx
		mov	word ptr [bp+path+2], dx
		mov	word ptr [bp+path], ax
		push	ds
		push	offset aRb	; "rb"
		push	word ptr [bp+path+2]
		push	word ptr [bp+path] ; path
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_1AE09
		jmp	loc_1AF17
; ---------------------------------------------------------------------------

loc_1AE09:				; CODE XREF: sub_1ADD7+2Dj
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		push	1		; n
		push	1		; size
		push	ss
		lea	ax, [bp+ptr]
		push	ax		; ptr
		call	_fread
		add	sp, 0Ch
		or	ax, ax
		jnz	short loc_1AE27
		jmp	loc_1AF17
; ---------------------------------------------------------------------------

loc_1AE27:				; CODE XREF: sub_1ADD7+4Bj
		cmp	[bp+ptr], 0
		jnz	short loc_1AE30
		jmp	loc_1AF17
; ---------------------------------------------------------------------------

loc_1AE30:				; CODE XREF: sub_1ADD7+54j
		push	ss
		lea	ax, [bp+time]
		push	ax		; time
		push	ss
		lea	ax, [bp+date]
		push	ax		; date
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		mov	ah, 0
		push	ax		; fd
		call	__dos_getftime
		add	sp, 0Ah
		mov	ax, [bp+date]
		shr	ax, 5
		and	ax, 0Fh
		mov	si, ax
		mov	byte ptr aTimeDate, 82h	; "‚P‚Q^‚P‚Q  ‚P‚PF‚P‚P"
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	al, 4Fh	; 'O'
		mov	byte ptr aTimeDate+1, al
		mov	byte ptr aTimeDate+2, 82h
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	dl, 4Fh	; 'O'
		mov	byte ptr aTimeDate+3, dl
		mov	ax, [bp+date]
		and	ax, 1Fh
		mov	si, ax
		mov	byte ptr aTimeDate+6, 82h
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	al, 4Fh	; 'O'
		mov	byte ptr aTimeDate+7, al
		mov	byte ptr aTimeDate+8, 82h
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	dl, 4Fh	; 'O'
		mov	byte ptr aTimeDate+9, dl
		mov	ax, [bp+time]
		shr	ax, 0Bh
		and	ax, 1Fh
		mov	si, ax
		mov	byte ptr aTimeDate+0Ch,	82h
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	al, 4Fh	; 'O'
		mov	byte ptr aTimeDate+0Dh,	al
		mov	byte ptr aTimeDate+0Eh,	82h
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	dl, 4Fh	; 'O'
		mov	byte ptr aTimeDate+0Fh,	dl
		mov	ax, [bp+time]
		shr	ax, 5
		and	ax, 3Fh
		mov	si, ax
		mov	byte ptr aTimeDate+12h,	82h
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	al, 4Fh	; 'O'
		mov	byte ptr aTimeDate+13h,	al
		mov	byte ptr aTimeDate+14h,	82h
		mov	ax, si
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	dl, 4Fh	; 'O'
		mov	byte ptr aTimeDate+15h,	dl
		mov	word ptr [bp+var_C+2], ds
		mov	word ptr [bp+var_C], 9D1h
		jmp	short loc_1AF30
; ---------------------------------------------------------------------------

loc_1AF17:				; CODE XREF: sub_1ADD7+2Fj
					; sub_1ADD7+4Dj ...
		cmp	[bp+arg_2], 0F2h ; 'ò'
		jnz	short loc_1AF25
		mov	dx, ds
		mov	ax, 9E8h
		jmp	short loc_1AF2A
; ---------------------------------------------------------------------------

loc_1AF25:				; CODE XREF: sub_1ADD7+145j
		mov	dx, ds
		mov	ax, 9FFh

loc_1AF2A:				; CODE XREF: sub_1ADD7+14Cj
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax

loc_1AF30:				; CODE XREF: sub_1ADD7+13Ej
		mov	ax, word ptr [bp+stream]
		or	ax, word ptr [bp+stream+2]
		jz	short loc_1AF46
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4

loc_1AF46:				; CODE XREF: sub_1ADD7+15Fj
		mov	word ptr [bp+var_10+2],	ds
		mov	word ptr [bp+var_10], 0A16h
		jmp	short loc_1AF69
; ---------------------------------------------------------------------------

loc_1AF50:				; CODE XREF: sub_1ADD7+199j
		les	bx, [bp+var_C]
		inc	word ptr [bp+var_C]
		mov	al, es:[bx]
		push	ax
		call	EncodeTextByte
		pop	cx
		les	bx, [bp+var_10]
		mov	es:[bx], al
		inc	word ptr [bp+var_10]

loc_1AF69:				; CODE XREF: sub_1ADD7+177j
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1AF50
		mov	dx, ds
		mov	ax, 0A16h
		jmp	short $+2
		pop	si
		leave
		retf
sub_1ADD7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

scnExec70	proc far		; CODE XREF: seg002:1637p seg002:1652p ...

var_262		= byte ptr -262h
var_242		= byte ptr -242h
var_222		= byte ptr -222h
var_1E6		= byte ptr -1E6h
var_3A		= byte ptr -3Ah
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
src		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	262h, 0
		push	si
		push	di
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	[bp+var_E]
		push	[bp+var_10]
		push	cs
		call	near ptr GetScnVarMemPtr
		add	sp, 8
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	[bp+var_E]
		push	[bp+var_10]
		push	cs
		call	near ptr GetScnVarMemPtr
		add	sp, 8
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		xor	si, si
		jmp	short loc_1AFE6
; ---------------------------------------------------------------------------

loc_1AFC2:				; CODE XREF: scnExec70+6Dj
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	[bp+var_E]
		push	[bp+var_10]
		push	cs
		call	near ptr GetScnVarMemPtr
		add	sp, 8
		mov	bx, si
		shl	bx, 2
		lea	cx, [bp+var_3A]
		add	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		inc	si

loc_1AFE6:				; CODE XREF: scnExec70+44j
		cmp	si, 8
		jl	short loc_1AFC2
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	[bp+var_E]
		push	[bp+var_10]
		push	cs
		call	near ptr GetCodeJumpOfs
		add	sp, 8
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		xor	si, si
		jmp	short loc_1B042
; ---------------------------------------------------------------------------

loc_1B007:				; CODE XREF: scnExec70+C9j
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		push	[bp+var_E]
		push	[bp+var_10]
		push	cs
		call	near ptr GetCodeJumpOfs
		add	sp, 8
		mov	bx, si
		shl	bx, 2
		lea	cx, [bp+var_242]
		add	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	word ptr ss:[bx+2], 0
		mov	word ptr ss:[bx], 0
		inc	si

loc_1B042:				; CODE XREF: scnExec70+89j
		cmp	si, 8
		jl	short loc_1B007
		xor	si, si
		jmp	short loc_1B05B
; ---------------------------------------------------------------------------

loc_1B04B:				; CODE XREF: scnExec70+E2j
		mov	bx, si
		imul	bx, 3Dh
		lea	ax, [bp+var_222]
		add	bx, ax
		mov	byte ptr ss:[bx], 0
		inc	si

loc_1B05B:				; CODE XREF: scnExec70+CDj
		cmp	si, 8
		jl	short loc_1B04B
		xor	si, si
		mov	[bp+var_16], 0
		jmp	loc_1B24F
; ---------------------------------------------------------------------------

loc_1B06A:				; CODE XREF: scnExec70+2D8j
		cmp	si, 7
		jnz	short loc_1B072
		mov	[bp+var_16], si

loc_1B072:				; CODE XREF: scnExec70+F1j
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_242]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jnz	short loc_1B089
		jmp	loc_1B24E
; ---------------------------------------------------------------------------

loc_1B089:				; CODE XREF: scnExec70+108j
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_242]
		add	bx, ax
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		add	ax, 2
		adc	dx, 0
		push	dx
		push	ax
		push	cs
		call	near ptr PeekScnCodeByte
		add	sp, 4
		cmp	al, 71h
		jz	short loc_1B0B1	; jumping to command 71h?
		jmp	loc_1B176
; ---------------------------------------------------------------------------

loc_1B0B1:				; CODE XREF: scnExec70+130j
		cmp	[bp+arg_8], 0
		jnz	short loc_1B0DE
		push	0
		push	0
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_242]
		add	bx, ax
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		add	ax, 3
		adc	dx, 0
		push	dx
		push	ax
		push	cs
		call	near ptr GetMessage
		add	sp, 8
		jmp	short loc_1B0EC
; ---------------------------------------------------------------------------

loc_1B0DE:				; CODE XREF: scnExec70+139j
		push	[bp+arg_8]
		lea	ax, [si+1]
		push	ax
		push	cs
		call	near ptr sub_1ADD7
		add	sp, 4

loc_1B0EC:				; CODE XREF: scnExec70+160j
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_242]
		add	bx, ax
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_16]
		shl	bx, 2
		lea	cx, [bp+var_262]
		add	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		les	bx, [bp+src]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		cmp	al, 5Ch	; '\'
		jnz	short loc_1B142
		inc	word ptr [bp+src]
		mov	bx, [bp+var_16]
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	word ptr ss:[bx+2], 0
		mov	word ptr ss:[bx], 0

loc_1B142:				; CODE XREF: scnExec70+1AAj
		push	3Ch ; '<'       ; maxlen
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		mov	ax, [bp+var_16]
		imul	ax, 3Dh
		lea	dx, [bp+var_222]
		add	ax, dx
		push	ss
		push	ax		; dest
		call	_strncpy
		add	sp, 0Ah
		mov	bx, [bp+var_16]
		imul	bx, 3Dh
		lea	ax, [bp+var_1E6]
		add	bx, ax
		mov	byte ptr ss:[bx], 0
		inc	[bp+var_16]
		jmp	loc_1B24E
; ---------------------------------------------------------------------------

loc_1B176:				; CODE XREF: scnExec70+132j
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_242]
		add	bx, ax
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		add	ax, 2
		adc	dx, 0
		push	dx
		push	ax
		push	cs
		call	near ptr PeekScnCodeByte
		add	sp, 4
		cmp	al, 72h
		jz	short loc_1B19E	; jumping to command 72h?
		jmp	loc_1B24E
; ---------------------------------------------------------------------------

loc_1B19E:				; CODE XREF: scnExec70+21Dj
		push	ss
		lea	ax, [bp+var_10]
		push	ax
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_242]
		add	bx, ax
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		add	ax, 3
		adc	dx, 0
		push	dx
		push	ax
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		or	ax, ax
		jnz	short loc_1B1CB
		jmp	loc_1B24E
; ---------------------------------------------------------------------------

loc_1B1CB:				; CODE XREF: scnExec70+24Aj
		cmp	[bp+arg_8], 0
		jnz	short loc_1B1E4
		push	0
		push	0
		push	[bp+var_E]
		push	[bp+var_10]
		push	cs
		call	near ptr GetMessage
		add	sp, 8
		jmp	short loc_1B1F2
; ---------------------------------------------------------------------------

loc_1B1E4:				; CODE XREF: scnExec70+253j
		push	[bp+arg_8]
		lea	ax, [si+1]
		push	ax
		push	cs
		call	near ptr sub_1ADD7
		add	sp, 4

loc_1B1F2:				; CODE XREF: scnExec70+266j
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		push	60		; maxlen
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		mov	ax, [bp+var_16]
		imul	ax, 3Dh
		lea	dx, [bp+var_222]
		add	ax, dx
		push	ss
		push	ax		; dest
		call	_strncpy
		add	sp, 0Ah
		mov	bx, [bp+var_16]
		imul	bx, 3Dh
		lea	ax, [bp+var_1E6]
		add	bx, ax
		mov	byte ptr ss:[bx], 0
		mov	bx, si
		shl	bx, 2
		lea	ax, [bp+var_242]
		add	bx, ax
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_16]
		shl	bx, 2
		lea	cx, [bp+var_262]
		add	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		inc	[bp+var_16]

loc_1B24E:				; CODE XREF: scnExec70+10Aj
					; scnExec70+1F7j ...
		inc	si

loc_1B24F:				; CODE XREF: scnExec70+EBj
		cmp	si, 8
		jge	short loc_1B257
		jmp	loc_1B06A
; ---------------------------------------------------------------------------

loc_1B257:				; CODE XREF: scnExec70+2D6j
		les	bx, [bp+var_14]
		mov	di, es:[bx]
		or	di, di
		jge	short loc_1B263
		xor	di, di

loc_1B263:				; CODE XREF: scnExec70+2E3j
		cmp	di, 8
		jl	short loc_1B26B
		mov	di, 7

loc_1B26B:				; CODE XREF: scnExec70+2EAj
		push	ds
		push	2640h
		call	sub_22BF2
		add	sp, 4
		mov	bx, di
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jnz	short loc_1B2AB
		xor	di, di
		jmp	short loc_1B2A6
; ---------------------------------------------------------------------------

loc_1B28F:				; CODE XREF: scnExec70+32Dj
		mov	bx, di
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jz	short loc_1B2A5
		jmp	short loc_1B2AB
; ---------------------------------------------------------------------------

loc_1B2A5:				; CODE XREF: scnExec70+325j
		inc	di

loc_1B2A6:				; CODE XREF: scnExec70+311j
		cmp	di, 8
		jl	short loc_1B28F

loc_1B2AB:				; CODE XREF: scnExec70+30Dj
					; scnExec70+327j
		xor	si, si
		jmp	short loc_1B2D5
; ---------------------------------------------------------------------------

loc_1B2AF:				; CODE XREF: scnExec70+35Cj
		cmp	si, di
		jnz	short loc_1B2B8
		mov	ax, 1
		jmp	short loc_1B2BA
; ---------------------------------------------------------------------------

loc_1B2B8:				; CODE XREF: scnExec70+335j
		xor	ax, ax

loc_1B2BA:				; CODE XREF: scnExec70+33Aj
		push	ax
		push	ds
		push	2640h
		mov	ax, si
		imul	ax, 3Dh
		lea	dx, [bp+var_222]
		add	ax, dx
		push	ss
		push	ax
		push	si
		push	cs
		call	near ptr sub_1AC7A
		add	sp, 0Ch
		inc	si

loc_1B2D5:				; CODE XREF: scnExec70+331j
		cmp	si, 8
		jl	short loc_1B2AF
		call	sub_23BA4

loc_1B2DF:				; CODE XREF: scnExec70:loc_1B471j
		mov	bx, di
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jnz	short loc_1B313
		xor	di, di
		jmp	short loc_1B30E
; ---------------------------------------------------------------------------

loc_1B2F7:				; CODE XREF: scnExec70+395j
		mov	bx, di
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jz	short loc_1B30D
		jmp	short loc_1B313
; ---------------------------------------------------------------------------

loc_1B30D:				; CODE XREF: scnExec70+38Dj
		inc	di

loc_1B30E:				; CODE XREF: scnExec70+379j
		cmp	di, 8
		jl	short loc_1B2F7

loc_1B313:				; CODE XREF: scnExec70+375j
					; scnExec70+38Fj
		mov	[bp+var_18], di

loc_1B316:				; CODE XREF: scnExec70:loc_1B415j
		call	GetKeyCode
		mov	[bp+var_1A], ax
		mov	cx, 6		; switch 6 cases
		mov	bx, offset word_1B4DC

loc_1B324:				; CODE XREF: scnExec70+3B3j
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_1A]
		jz	short loc_1B334
		add	bx, 2
		loop	loc_1B324
		jmp	loc_1B415	; jumptable 0001B334 default case
; ---------------------------------------------------------------------------

loc_1B334:				; CODE XREF: scnExec70+3AEj
		jmp	word ptr cs:[bx+0Ch] ; switch jump

loc_1B338:				; DATA XREF: seg002:1618o
		jmp	loc_1B474	; jumptable 0001B334 case 13
; ---------------------------------------------------------------------------

loc_1B33B:				; CODE XREF: scnExec70:loc_1B334j
					; DATA XREF: seg002:1618o
		mov	ax, [bp+var_C]	; jumptable 0001B334 case 27
		or	ax, [bp+var_A]
		jz	short loc_1B346
		jmp	loc_1B4B5
; ---------------------------------------------------------------------------

loc_1B346:				; CODE XREF: scnExec70+3C5j
		jmp	loc_1B415	; jumptable 0001B334 default case
; ---------------------------------------------------------------------------

loc_1B349:				; CODE XREF: scnExec70:loc_1B334j
					; DATA XREF: seg002:1618o
		cmp	[bp+var_18], 4	; jumptable 0001B334 case 19
		jl	short loc_1B37E
		sub	[bp+var_18], 4
		xor	si, si
		jmp	short loc_1B379
; ---------------------------------------------------------------------------

loc_1B357:				; CODE XREF: scnExec70+400j
		mov	bx, [bp+var_18]
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jz	short loc_1B36E
		jmp	short loc_1B37E
; ---------------------------------------------------------------------------

loc_1B36E:				; CODE XREF: scnExec70+3EEj
		mov	ax, [bp+var_18]
		dec	ax
		and	ax, 3
		mov	[bp+var_18], ax
		inc	si

loc_1B379:				; CODE XREF: scnExec70+3D9j
		cmp	si, 4
		jl	short loc_1B357

loc_1B37E:				; CODE XREF: scnExec70+3D1j
					; scnExec70+3F0j
		jmp	loc_1B418
; ---------------------------------------------------------------------------

loc_1B381:				; CODE XREF: scnExec70:loc_1B334j
					; DATA XREF: seg002:1618o
		cmp	[bp+var_18], 4	; jumptable 0001B334 case 4
		jge	short loc_1B3B9
		add	[bp+var_18], 4
		xor	si, si
		jmp	short loc_1B3B4
; ---------------------------------------------------------------------------

loc_1B38F:				; CODE XREF: scnExec70+43Bj
		mov	bx, [bp+var_18]
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jz	short loc_1B3A6
		jmp	short loc_1B3B9
; ---------------------------------------------------------------------------

loc_1B3A6:				; CODE XREF: scnExec70+426j
		mov	ax, [bp+var_18]
		dec	ax
		and	ax, 3
		add	ax, 4
		mov	[bp+var_18], ax
		inc	si

loc_1B3B4:				; CODE XREF: scnExec70+411j
		cmp	si, 4
		jl	short loc_1B38F

loc_1B3B9:				; CODE XREF: scnExec70+409j
					; scnExec70+428j
		jmp	short loc_1B418
; ---------------------------------------------------------------------------

loc_1B3BB:				; CODE XREF: scnExec70:loc_1B334j
					; DATA XREF: seg002:1618o
		xor	si, si		; jumptable 0001B334 case 5
		jmp	short loc_1B3E1
; ---------------------------------------------------------------------------

loc_1B3BF:				; CODE XREF: scnExec70+468j
		mov	ax, [bp+var_18]
		dec	ax
		and	ax, 7
		mov	[bp+var_18], ax
		mov	bx, [bp+var_18]
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jz	short loc_1B3E0
		jmp	short loc_1B3E6
; ---------------------------------------------------------------------------

loc_1B3E0:				; CODE XREF: scnExec70+460j
		inc	si

loc_1B3E1:				; CODE XREF: scnExec70+441j
		cmp	si, 8
		jl	short loc_1B3BF

loc_1B3E6:				; CODE XREF: scnExec70+462j
		jmp	short loc_1B418
; ---------------------------------------------------------------------------

loc_1B3E8:				; CODE XREF: scnExec70:loc_1B334j
					; DATA XREF: seg002:1618o
		xor	si, si		; jumptable 0001B334 case 24
		jmp	short loc_1B40E
; ---------------------------------------------------------------------------

loc_1B3EC:				; CODE XREF: scnExec70+495j
		mov	ax, [bp+var_18]
		inc	ax
		and	ax, 7
		mov	[bp+var_18], ax
		mov	bx, [bp+var_18]
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jz	short loc_1B40D
		jmp	short loc_1B413
; ---------------------------------------------------------------------------

loc_1B40D:				; CODE XREF: scnExec70+48Dj
		inc	si

loc_1B40E:				; CODE XREF: scnExec70+46Ej
		cmp	si, 8
		jl	short loc_1B3EC

loc_1B413:				; CODE XREF: scnExec70+48Fj
		jmp	short loc_1B418
; ---------------------------------------------------------------------------

loc_1B415:				; CODE XREF: scnExec70+3B5j
					; scnExec70:loc_1B346j
		jmp	loc_1B316	; jumptable 0001B334 default case
; ---------------------------------------------------------------------------

loc_1B418:				; CODE XREF: scnExec70:loc_1B37Ej
					; scnExec70:loc_1B3B9j	...
		mov	bx, [bp+var_18]
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jnz	short loc_1B430
		mov	[bp+var_18], di

loc_1B430:				; CODE XREF: scnExec70+4AFj
		cmp	di, [bp+var_18]
		jz	short loc_1B471
		push	0
		push	ds
		push	2640h
		mov	ax, di
		imul	ax, 3Dh
		lea	dx, [bp+var_222]
		add	ax, dx
		push	ss
		push	ax
		push	di
		push	cs
		call	near ptr sub_1AC7A
		add	sp, 0Ch
		push	1
		push	ds
		push	2640h
		mov	ax, [bp+var_18]
		imul	ax, 3Dh
		lea	dx, [bp+var_222]
		add	ax, dx
		push	ss
		push	ax
		push	[bp+var_18]
		push	cs
		call	near ptr sub_1AC7A
		add	sp, 0Ch
		mov	di, [bp+var_18]

loc_1B471:				; CODE XREF: scnExec70+4B7j
		jmp	loc_1B2DF
; ---------------------------------------------------------------------------

loc_1B474:				; CODE XREF: scnExec70:loc_1B338j
		les	bx, [bp+var_14]
		mov	es:[bx], di
		push	ds
		push	2640h
		call	sub_22BF2
		add	sp, 4
		mov	bx, di
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	ax, ss:[bx]
		or	ax, ss:[bx+2]
		jz	short loc_1B4B3
		mov	bx, di
		shl	bx, 2
		lea	ax, [bp+var_262]
		add	bx, ax
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax

loc_1B4B3:				; CODE XREF: scnExec70+51Cj
		jmp	short loc_1B4D8
; ---------------------------------------------------------------------------

loc_1B4B5:				; CODE XREF: scnExec70+3C7j
		push	ds
		push	2640h
		call	sub_22BF2
		add	sp, 4
		mov	ax, [bp+var_C]
		or	ax, [bp+var_A]
		jz	short loc_1B4D6
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax

loc_1B4D6:				; CODE XREF: scnExec70+54Bj
		jmp	short $+2

loc_1B4D8:				; CODE XREF: scnExec70:loc_1B4B3j
		pop	di
		pop	si
		leave
		retf
scnExec70	endp

; ---------------------------------------------------------------------------
word_1B4DC	dw	4,     5,   0Dh,   13h ; DATA XREF: scnExec70+3A5o
		dw    18h,   1Bh	; value	table for switch statement
		dw offset loc_1B381	; jump table for switch	statement
		dw offset loc_1B3BB
		dw offset loc_1B338
		dw offset loc_1B349
		dw offset loc_1B3E8
		dw offset loc_1B33B
; ---------------------------------------------------------------------------

scn70F2:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	0F2h
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr scnExec70
		add	sp, 0Ah
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn70F3:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	0F3h
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr scnExec70
		add	sp, 0Ah
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn70:					; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	0
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr scnExec70
		add	sp, 0Ah
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn71_dummy:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn72_dummy:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn73_dummy:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn87:					; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetImmediate
		add	sp, 8
		or	ax, ax
		jz	short loc_1B574
		jmp	short loc_1B591
; ---------------------------------------------------------------------------

loc_1B574:				; CODE XREF: seg002:16A0j
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		call	sub_1DC31
		add	sp, 8
		push	0FFFFh
		push	cs
		call	near ptr sub_1A041
		pop	cx
		jmp	short $+2

loc_1B591:				; CODE XREF: seg002:16A2j
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn8A_GoSub:				; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		cmp	word_29C31, 0
		jz	short locret_1B5F1
		inc	word ptr ds:2553h
		mov	ax, ds:2553h
		cmp	ax, 10h
		jl	short loc_1B5B6
		push	ds
		push	offset aGosubStackOverflow2 ; "GOSUB —p‚ÌƒXƒ^ƒbƒN‚ªCƒI[ƒo[ƒtƒ[‚µ‚"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1B5B6:				; CODE XREF: seg002:16D8j
		les	bx, [bp+6]
		mov	ax, es:[bx]
		mov	[bp-2],	ax
		mov	ax, [bp-2]
		cwd
		add	ax, [bp+6]
		adc	dx, [bp+8]
		mov	bx, ds:2553h
		shl	bx, 2
		mov	[bx+2557h], dx
		mov	[bx+2555h], ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetCodeJumpOfs
		add	sp, 8
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax

locret_1B5F1:				; CODE XREF: seg002:16CCj
		leave
		retf
; ---------------------------------------------------------------------------

scn8C_SetVar001:			; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		les	bx, scnVarMemory
		mov	ax, [bp-2]
		mov	es:[bx+2], ax
		mov	scnResetFlag, 1
		leave
		retf
; ---------------------------------------------------------------------------

scn15_SetVar:				; DATA XREF: dseg:scnCodeTblo
		enter	6, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetScnVarMemPtr
		add	sp, 8
		mov	[bp-2],	dx	; save pointer into scnVarMemory
		mov	[bp-4],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-6],	ax
		les	bx, [bp-4]
		mov	ax, [bp-6]
		mov	es:[bx], ax	; scnVarMemory[idx] = ax
		leave
		retf
; ---------------------------------------------------------------------------

loc_1B65B:				; DATA XREF: dseg:scnCodeTblo
		enter	0Eh, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	di, ax
		mov	bx, [bp-2]
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-4],	ax
		mov	bx, [bp-2]
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-6],	ax
		cmp	di, 10h
		jge	short loc_1B6AE
		mov	ax, di
		shl	ax, 4
		or	di, ax

loc_1B6AE:				; CODE XREF: seg002:17D5j
		xor	si, si
		jmp	short loc_1B6E1
; ---------------------------------------------------------------------------

loc_1B6B2:				; CODE XREF: seg002:1814j
		test	di, 11h
		jnz	short loc_1B6C2
		mov	al, 0
		mov	[bp+si-0Ah], al
		mov	[bp+si-0Eh], al
		jmp	short loc_1B6DE
; ---------------------------------------------------------------------------

loc_1B6C2:				; CODE XREF: seg002:17E6j
		mov	ax, di
		and	ax, 11h
		cmp	ax, 11h
		jnz	short loc_1B6D6
		mov	al, 0FFh
		mov	[bp+si-0Ah], al
		mov	[bp+si-0Eh], al
		jmp	short loc_1B6DE
; ---------------------------------------------------------------------------

loc_1B6D6:				; CODE XREF: seg002:17FAj
		mov	byte ptr [bp+si-0Eh], 55h ; 'U'
		mov	byte ptr [bp+si-0Ah], 0AAh ; 'ª'

loc_1B6DE:				; CODE XREF: seg002:17F0j seg002:1804j
		sar	di, 1
		inc	si

loc_1B6E1:				; CODE XREF: seg002:17E0j
		cmp	si, 4
		jl	short loc_1B6B2
		push	word ptr [bp-2]
		push	ss
		lea	ax, [bp-0Eh]
		push	ax
		push	word ptr [bp-6]
		push	word ptr [bp-4]
		push	0
		push	0
		call	sub_202E3
		add	sp, 0Eh
		push	word ptr [bp-2]
		push	cs
		call	near ptr sub_1A041
		pop	cx
		pop	di
		pop	si
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_1B70C(int, char	*src, int)
sub_1B70C	proc far		; CODE XREF: seg002:1B7Ap seg002:322Ap ...

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
ptr		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
src		= dword	ptr  8
arg_6		= word ptr  0Ch

		enter	0Ch, 0
		push	si
		push	di
		mov	di, [bp+arg_6]
		mov	word ptr [bp+var_4+2], 0
		mov	word ptr [bp+var_4], 0
		les	bx, [bp+src]
		cmp	byte ptr es:[bx], 40h ;	'@'
		jz	short loc_1B72B
		jmp	loc_1B90C
; ---------------------------------------------------------------------------

loc_1B72B:				; CODE XREF: sub_1B70C+1Aj
		les	bx, [bp+src]
		mov	byte ptr es:[bx], 4Dh ;	'M'
		push	0
		push	0		; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen1
		add	sp, 8
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_1B768
		push	ds
		push	offset aVkbcmivVivsv_1 ; " ‚ªCŒ©‚Â‚©‚è‚Ü‚¹‚ñD\n"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ds
		push	offset aGraphicModule ;	"Graphic module	"
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1B768:				; CODE XREF: sub_1B70C+44j
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EBFB
		add	sp, 4
		mov	si, ax
		push	0
		push	si
		call	malloc_maybe
		add	sp, 4
		mov	word ptr [bp+ptr+2], dx
		mov	word ptr [bp+ptr], ax
		or	ax, dx
		jnz	short loc_1B7A3
		push	ds
		push	offset aVUVNuvVVVBd_0 ;	" ‚ð“Ç‚Ýž‚ß‚Ü‚¹‚ñD\n"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ds
		push	offset aGbgvgkxsslvBcg ; "ƒƒ‚ƒŠ•s‘«‚ÅCGraphic	module "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1B7A3:				; CODE XREF: sub_1B70C+7Fj
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	1		; n
		push	si		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EB2E
		add	sp, 4
		mov	dx, word ptr [bp+ptr+2]
		mov	ax, word ptr [bp+ptr]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	word_2B102, 2
		push	[bp+arg_0]
		push	0
		push	0
		or	di, di
		jz	short loc_1B7EC
		mov	dx, ds
		mov	ax, 260Ah
		jmp	short loc_1B7F0
; ---------------------------------------------------------------------------

loc_1B7EC:				; CODE XREF: sub_1B70C+D7j
		xor	dx, dx
		xor	ax, ax

loc_1B7F0:				; CODE XREF: sub_1B70C+DEj
		push	dx
		push	ax
		push	0
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		call	sub_233A0
		add	sp, 10h
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr]
		call	sub_1275D
		add	sp, 4
		les	bx, [bp+src]
		mov	byte ptr es:[bx], 40h ;	'@'
		push	0
		push	0		; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen1
		add	sp, 8
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_1B84C
		push	ds
		push	offset aVkbcmivVivsv_0 ; " ‚ªCŒ©‚Â‚©‚è‚Ü‚¹‚ñD\n"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ds
		push	offset aGraphicModul_0 ; "Graphic module "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1B84C:				; CODE XREF: sub_1B70C+128j
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EBFB
		add	sp, 4
		mov	si, ax
		push	0
		push	si
		call	malloc_maybe
		add	sp, 4
		mov	word ptr [bp+ptr+2], dx
		mov	word ptr [bp+ptr], ax
		or	ax, dx
		jnz	short loc_1B887
		push	ds
		push	offset aVUVNuvVVVBd_1 ;	" ‚ð“Ç‚Ýž‚ß‚Ü‚¹‚ñD\n"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ds
		push	offset aGbgvgkxsslvB_0 ; "ƒƒ‚ƒŠ•s‘«‚ÅCGraphic	module "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1B887:				; CODE XREF: sub_1B70C+163j
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	1		; n
		push	si		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EB2E
		add	sp, 4
		mov	dx, word ptr [bp+ptr+2]
		mov	ax, word ptr [bp+ptr]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	word_2B102, 1
		push	[bp+arg_0]
		push	0
		push	0
		or	di, di
		jz	short loc_1B8D0
		mov	dx, ds
		mov	ax, 260Ah
		jmp	short loc_1B8D4
; ---------------------------------------------------------------------------

loc_1B8D0:				; CODE XREF: sub_1B70C+1BBj
		xor	dx, dx
		xor	ax, ax

loc_1B8D4:				; CODE XREF: sub_1B70C+1C2j
		push	dx
		push	ax
		push	0
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		call	sub_233A0
		add	sp, 10h
		or	di, di
		jz	short loc_1B8F5
		push	ds
		push	260Ah
		call	sub_2029E
		add	sp, 4

loc_1B8F5:				; CODE XREF: sub_1B70C+1DBj
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr]
		call	sub_1275D
		add	sp, 4
		mov	word_2B102, 0
		jmp	loc_1B9F3
; ---------------------------------------------------------------------------

loc_1B90C:				; CODE XREF: sub_1B70C+1Cj
		push	0
		push	0		; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen1
		add	sp, 8
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_1B942
		push	ds
		push	offset aVkbcmivVivsvVV ; " ‚ªCŒ©‚Â‚©‚è‚Ü‚¹‚ñD\n"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ds
		push	offset aGraphicModul_1 ; "Graphic module "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1B942:				; CODE XREF: sub_1B70C+21Ej
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EBFB
		add	sp, 4
		mov	si, ax
		push	0
		push	si
		call	malloc_maybe
		add	sp, 4
		mov	word ptr [bp+ptr+2], dx
		mov	word ptr [bp+ptr], ax
		or	ax, dx
		jnz	short loc_1B97D
		push	ds
		push	offset aVUVNuvVVVBd ; "	‚ð“Ç‚Ýž‚ß‚Ü‚¹‚ñD\n"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ds
		push	offset aGbgvgkxsslvB_1 ; "ƒƒ‚ƒŠ•s‘«‚ÅCGraphic	module "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1B97D:				; CODE XREF: sub_1B70C+259j
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	1		; n
		push	si		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EB2E
		add	sp, 4
		mov	dx, word ptr [bp+ptr+2]
		mov	ax, word ptr [bp+ptr]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		push	[bp+arg_0]
		push	0
		push	0
		or	di, di
		jz	short loc_1B9C0
		mov	dx, ds
		mov	ax, 260Ah
		jmp	short loc_1B9C4
; ---------------------------------------------------------------------------

loc_1B9C0:				; CODE XREF: sub_1B70C+2ABj
		xor	dx, dx
		xor	ax, ax

loc_1B9C4:				; CODE XREF: sub_1B70C+2B2j
		push	dx
		push	ax
		push	0
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		call	sub_233A0
		add	sp, 10h
		or	di, di
		jz	short loc_1B9E5
		push	ds
		push	260Ah
		call	sub_2029E
		add	sp, 4

loc_1B9E5:				; CODE XREF: sub_1B70C+2CBj
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr]
		call	sub_1275D
		add	sp, 4

loc_1B9F3:				; CODE XREF: sub_1B70C+1FDj
		pop	di
		pop	si
		leave
		retf
sub_1B70C	endp

; ---------------------------------------------------------------------------

loc_1B9F7:				; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	si
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	si, ax
		push	0Dh
		push	ds
		push	253Ch
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr sub_1AAE0
		add	sp, 0Eh
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	si
		push	cs
		call	near ptr sub_19FA4
		add	sp, 6
		or	ax, ax
		jz	short loc_1BA5E
		push	1
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	si
		push	cs
		call	near ptr sub_1B70C
		add	sp, 8
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	si
		push	cs
		call	near ptr sub_1A08E
		add	sp, 6

loc_1BA5E:				; CODE XREF: seg002:1B6Ej
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

loc_1BA61:				; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	si, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	di, ax
		push	di
		push	si
		push	cs
		call	near ptr sub_19F27
		add	sp, 4
		or	ax, ax
		jz	short loc_1BAFD
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-2],	ax
		mov	bx, si
		add	bx, bx
		cmp	ax, [bx+2D32h]
		jle	short loc_1BABC
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-2],	ax

loc_1BABC:				; CODE XREF: seg002:1BDFj
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-4],	ax
		mov	bx, si
		add	bx, bx
		cmp	ax, [bx+2D52h]
		jle	short loc_1BADC
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-4],	ax

loc_1BADC:				; CODE XREF: seg002:1BFFj
		push	word ptr [bp-4]
		push	word ptr [bp-2]
		push	di
		push	0
		push	0
		push	si
		push	0
		push	0
		call	sub_2144C
		add	sp, 10h
		push	di
		push	si
		push	cs
		call	near ptr sub_1A1A7
		add	sp, 4

loc_1BAFD:				; CODE XREF: seg002:1BCAj
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

loc_1BB01:				; DATA XREF: dseg:scnCodeTblo
		enter	0Eh, 0
		push	si
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	si, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-6],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-8],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-0Ah], ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-0Ch], ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-0Eh], ax
		push	word ptr [bp-0Eh]
		push	word ptr [bp-0Ch]
		push	word ptr [bp-2]
		push	word ptr [bp-0Ah]
		push	word ptr [bp-8]
		push	si
		push	word ptr [bp-6]
		push	word ptr [bp-4]
		call	sub_2144C
		add	sp, 10h
		push	si
		push	cs
		call	near ptr sub_1A041
		pop	cx
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

loc_1BBD4:				; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	si, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	di, ax
		push	di
		push	si
		push	cs
		call	near ptr sub_19F27
		add	sp, 4
		or	ax, ax
		jz	short loc_1BC73
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-2],	ax
		mov	bx, si
		add	bx, bx
		cmp	ax, [bx+2D32h]
		jle	short loc_1BC2F
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-2],	ax

loc_1BC2F:				; CODE XREF: seg002:1D52j
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-4],	ax
		mov	bx, si
		add	bx, bx
		cmp	ax, [bx+2D52h]
		jle	short loc_1BC4F
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-4],	ax

loc_1BC4F:				; CODE XREF: seg002:1D72j
		push	word ptr [bp-4]
		push	word ptr [bp-2]
		push	di
		push	0
		push	0
		push	si
		push	0
		push	0
		call	sub_21691
		add	sp, 10h
		push	si
		push	cs
		call	near ptr sub_1A041
		pop	cx
		push	di
		push	cs
		call	near ptr sub_1A041
		pop	cx

loc_1BC73:				; CODE XREF: seg002:1D3Dj
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

loc_1BC77:				; DATA XREF: dseg:scnCodeTblo
		enter	10h, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	si, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	di, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-6],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-8],	ax
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-0Ch], ax
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-0Eh], ax
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		test	byte ptr es:[bx], 1
		jnz	short loc_1BD21
		jmp	loc_1BDD7
; ---------------------------------------------------------------------------

loc_1BD21:				; CODE XREF: seg002:1E4Cj
		call	sub_1FCAE
		call	sub_1F0F9
		mov	ax, di
		add	ax, ax
		mov	[bp-10h], ax
		mov	word ptr [bp-0Ah], 0
		jmp	loc_1BDCC
; ---------------------------------------------------------------------------

loc_1BD3A:				; CODE XREF: seg002:1F02j
		call	sub_1FD79
		cmp	word ptr [bp-0Ah], 0
		jnz	short loc_1BD73
		mov	ax, [bp-0Eh]
		sub	ax, di
		push	ax
		push	word ptr [bp-0Ch]
		push	si
		push	di
		push	0
		push	si
		push	0
		push	0
		call	sub_2144C
		add	sp, 10h
		push	di
		push	word ptr [bp-0Ch]
		push	word ptr [bp-4]
		push	word ptr [bp-0Ah]
		push	0
		push	si
		mov	ax, [bp-0Eh]
		sub	ax, di
		jmp	short loc_1BDA8
; ---------------------------------------------------------------------------

loc_1BD73:				; CODE XREF: seg002:1E73j
		mov	ax, [bp-0Eh]
		sub	ax, [bp-10h]
		push	ax
		push	word ptr [bp-0Ch]
		push	si
		push	word ptr [bp-10h]
		push	0
		push	si
		push	0
		push	0
		call	sub_2144C
		add	sp, 10h
		push	word ptr [bp-10h]
		push	word ptr [bp-0Ch]
		push	word ptr [bp-4]
		mov	ax, [bp-0Ah]
		sub	ax, di
		push	ax
		push	0
		push	si
		mov	ax, [bp-0Eh]
		sub	ax, [bp-10h]

loc_1BDA8:				; CODE XREF: seg002:1EA1j
		push	ax
		push	0
		call	sub_2144C
		add	sp, 10h
		call	sub_1EFDA
		call	sub_1FDA6
		push	word ptr [bp-8]
		call	sub_1F08D
		pop	cx
		dec	word ptr [bp-6]
		add	[bp-0Ah], di

loc_1BDCC:				; CODE XREF: seg002:1E67j
		cmp	word ptr [bp-6], 0
		jz	short loc_1BDD5
		jmp	loc_1BD3A
; ---------------------------------------------------------------------------

loc_1BDD5:				; CODE XREF: seg002:1F00j
		jmp	short loc_1BE2F
; ---------------------------------------------------------------------------

loc_1BDD7:				; CODE XREF: seg002:1E4Ej
		call	sub_1F0F9
		mov	word ptr [bp-0Ah], 0
		jmp	short loc_1BE29
; ---------------------------------------------------------------------------

loc_1BDE3:				; CODE XREF: seg002:1F5Dj
		mov	ax, [bp-0Eh]
		sub	ax, di
		push	ax
		push	word ptr [bp-0Ch]
		push	si
		push	di
		push	0
		push	si
		push	0
		push	0
		call	sub_2144C
		add	sp, 10h
		push	di
		push	word ptr [bp-0Ch]
		push	word ptr [bp-4]
		push	word ptr [bp-0Ah]
		push	0
		push	si
		mov	ax, [bp-0Eh]
		sub	ax, di
		push	ax
		push	0
		call	sub_2144C
		add	sp, 10h
		push	word ptr [bp-8]
		call	sub_1F08D
		pop	cx
		dec	word ptr [bp-6]
		add	[bp-0Ah], di

loc_1BE29:				; CODE XREF: seg002:1F11j
		cmp	word ptr [bp-6], 0
		jnz	short loc_1BDE3

loc_1BE2F:				; CODE XREF: seg002:loc_1BDD5j
		push	si
		push	cs
		call	near ptr sub_1A041
		pop	cx
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

loc_1BE39:				; CODE XREF: seg002:2520p
		enter	14h, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	di, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-6],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-8],	ax
		mov	bx, [bp-4]
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-12h], ax
		mov	bx, di
		add	bx, bx
		cmp	ax, [bx+2D32h]
		jle	short loc_1BEC8
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp-12h], ax

loc_1BEC8:				; CODE XREF: seg002:1FEBj
		mov	bx, [bp-4]
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-14h], ax
		mov	bx, di
		add	bx, bx
		cmp	ax, [bx+2D52h]
		jle	short loc_1BEE9
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp-14h], ax

loc_1BEE9:				; CODE XREF: seg002:200Cj
		cmp	word ptr [bp-2], 4
		jle	short loc_1BEF4
		mov	word ptr [bp-2], 0

loc_1BEF4:				; CODE XREF: seg002:201Dj
		push	word ptr [bp-4]
		push	di
		push	cs
		call	near ptr sub_19F27
		add	sp, 4
		or	ax, ax
		jnz	short loc_1BF06
		jmp	loc_1BFD5
; ---------------------------------------------------------------------------

loc_1BF06:				; CODE XREF: seg002:2031j
		mov	bx, [bp-2]
		cmp	bx, 4
		ja	short loc_1BF34
		add	bx, bx
		jmp	word ptr cs:byte_1BFE3[bx]
		xor	ax, ax
		mov	[bp-0Ch], ax
		mov	si, ax
		mov	ax, [bp-14h]
		and	ax, 0FFFEh
		dec	ax
		mov	[bp-0Eh], ax
		jmp	short loc_1BF34
; ---------------------------------------------------------------------------

loc_1BF28:				; CODE XREF: seg002:2040j
					; DATA XREF: seg002:2115o ...
		xor	si, si
		jmp	short loc_1BF34
; ---------------------------------------------------------------------------

loc_1BF2C:				; CODE XREF: seg002:2040j
					; DATA XREF: seg002:2117o ...
		mov	ax, [bp-14h]
		dec	ax
		mov	si, ax
		jmp	short $+2

loc_1BF34:				; CODE XREF: seg002:203Cj seg002:2056j ...
		call	sub_1F0F9
		mov	ax, [bp-6]
		mov	[bp-10h], ax
		mov	word ptr [bp-0Ah], 0
		jmp	short loc_1BFBF
; ---------------------------------------------------------------------------

loc_1BF46:				; CODE XREF: seg002:20F7j
		push	1
		push	word ptr [bp-12h]
		push	word ptr [bp-4]
		push	si
		push	0
		push	di
		push	si
		push	0
		call	sub_2144C
		add	sp, 10h
		mov	bx, [bp-2]
		cmp	bx, 4
		ja	short loc_1BFA8
		add	bx, bx
		jmp	cs:off_1BFD9[bx]

loc_1BF6C:				; DATA XREF: seg002:off_1BFD9o
		test	byte ptr [bp-0Ah], 1
		jnz	short loc_1BF7B
		add	word ptr [bp-0Ch], 2
		mov	si, [bp-0Eh]
		jmp	short loc_1BF82
; ---------------------------------------------------------------------------

loc_1BF7B:				; CODE XREF: seg002:20A0j
		sub	word ptr [bp-0Eh], 2
		mov	si, [bp-0Ch]

loc_1BF82:				; CODE XREF: seg002:20A9j
		jmp	short loc_1BFA8
; ---------------------------------------------------------------------------

loc_1BF84:				; CODE XREF: seg002:2097j
					; DATA XREF: seg002:210Bo
		inc	si
		jmp	short loc_1BFA8
; ---------------------------------------------------------------------------

loc_1BF87:				; CODE XREF: seg002:2097j
					; DATA XREF: seg002:210Do
		dec	si
		jmp	short loc_1BFA8
; ---------------------------------------------------------------------------

loc_1BF8A:				; CODE XREF: seg002:2097j
					; DATA XREF: seg002:210Fo
		add	si, 2
		mov	ax, si
		cmp	ax, [bp-14h]
		jl	short near ptr byte_1BF97
		mov	si, 1
; ---------------------------------------------------------------------------
byte_1BF97	db 0EBh			; CODE XREF: seg002:20C2j
; ---------------------------------------------------------------------------

loc_1BF98:				; CODE XREF: seg002:2040j
		jnb	loc_1C28A
		jge	short loc_1BFA6
		mov	ax, [bp-14h]
		add	ax, 0FFFEh
		mov	si, ax

loc_1BFA6:				; CODE XREF: seg002:20CCj
		jmp	short $+2

loc_1BFA8:				; CODE XREF: seg002:2093j
					; seg002:loc_1BF82j ...
		dec	word ptr [bp-10h]
		jg	short loc_1BFBC
		push	word ptr [bp-8]
		call	sub_1F08D
		pop	cx
		mov	ax, [bp-6]
		mov	[bp-10h], ax

loc_1BFBC:				; CODE XREF: seg002:20DBj
		inc	word ptr [bp-0Ah]

loc_1BFBF:				; CODE XREF: seg002:2074j
		mov	ax, [bp-0Ah]
		cmp	ax, [bp-14h]
		jge	short loc_1BFCA
		jmp	loc_1BF46
; ---------------------------------------------------------------------------

loc_1BFCA:				; CODE XREF: seg002:20F5j
		push	word ptr [bp-4]
		push	di
		push	cs
		call	near ptr sub_1A1A7
		add	sp, 4

loc_1BFD5:				; CODE XREF: seg002:2033j
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------
off_1BFD9	dw offset loc_1BF6C	; DATA XREF: seg002:2097r
		dw offset loc_1BF84
		dw offset loc_1BF87
		dw offset loc_1BF8A
		db 0C9h, 20h
byte_1BFE3	db 45h			; DATA XREF: seg002:2040r
		db 20h
		dw offset loc_1BF28
		dw offset loc_1BF2C
		dw offset loc_1BF28
		dw offset loc_1BF2C

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1BFED	proc far		; CODE XREF: sub_1C2E2+CEp
					; seg002:3242p	...

var_20		= word ptr -20h
var_1D		= byte ptr -1Dh
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	20h, 0
		push	si
		push	di
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp+var_C], ax
		mov	bx, [bp+arg_2]
		add	bx, bx
		cmp	ax, [bx+2D32h]
		jle	short loc_1C016
		mov	bx, [bp+arg_2]
		add	bx, bx
		mov	ax, [bx+2D32h]
		mov	[bp+var_C], ax

loc_1C016:				; CODE XREF: sub_1BFED+1Bj
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp+var_E], ax
		mov	bx, [bp+arg_2]
		add	bx, bx
		cmp	ax, [bx+2D52h]
		jle	short loc_1C039
		mov	bx, [bp+arg_2]
		add	bx, bx
		mov	ax, [bx+2D52h]
		mov	[bp+var_E], ax

loc_1C039:				; CODE XREF: sub_1BFED+3Ej
		cmp	[bp+arg_A], 4
		jle	short loc_1C044
		mov	[bp+arg_A], 0

loc_1C044:				; CODE XREF: sub_1BFED+50j
		mov	si, 1
		jmp	short loc_1C0A7
; ---------------------------------------------------------------------------

loc_1C049:				; CODE XREF: sub_1BFED+BDj
		mov	ax, [bp+arg_A]
		shl	ax, 8
		add	ax, 588h
		mov	word ptr [bp+var_1C+2],	ds
		mov	word ptr [bp+var_1C], ax
		mov	[bp+var_2], 0
		jmp	short loc_1C0A0
; ---------------------------------------------------------------------------

loc_1C05F:				; CODE XREF: sub_1BFED+B7j
		mov	[bp+var_1D], 0
		mov	[bp+var_4], 0
		jmp	short loc_1C088
; ---------------------------------------------------------------------------

loc_1C06A:				; CODE XREF: sub_1BFED+9Fj
		shl	[bp+var_1D], 1
		les	bx, [bp+var_1C]
		inc	word ptr [bp+var_1C]
		mov	al, es:[bx]
		mov	ah, 0
		cmp	ax, si
		jg	short loc_1C080
		mov	al, 1
		jmp	short loc_1C082
; ---------------------------------------------------------------------------

loc_1C080:				; CODE XREF: sub_1BFED+8Dj
		mov	al, 0

loc_1C082:				; CODE XREF: sub_1BFED+91j
		or	[bp+var_1D], al
		inc	[bp+var_4]

loc_1C088:				; CODE XREF: sub_1BFED+7Bj
		cmp	[bp+var_4], 8
		jl	short loc_1C06A
		mov	bx, si
		shl	bx, 5
		add	bx, [bp+var_2]
		mov	al, [bp+var_1D]
		mov	[bx+0A0Dh], al
		inc	[bp+var_2]

loc_1C0A0:				; CODE XREF: sub_1BFED+70j
		cmp	[bp+var_2], 20h	; ' '
		jl	short loc_1C05F
		inc	si

loc_1C0A7:				; CODE XREF: sub_1BFED+5Aj
		cmp	si, 10h
		jle	short loc_1C049
		mov	ax, [bp+var_E]
		add	ax, 0Fh
		mov	bx, 10h
		cwd
		idiv	bx
		mov	[bp+var_12], ax
		mov	ax, [bp+var_C]
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_10], ax
		push	10h
		push	ds
		push	offset word_2A4AD
		call	sub_21A21
		add	sp, 6
		mov	ax, [bp+arg_6]
		mov	[bp+var_A], ax
		call	sub_1F0F9
		mov	[bp+var_18], 1
		xor	si, si
		jmp	loc_1C2B1
; ---------------------------------------------------------------------------

loc_1C0E9:				; CODE XREF: sub_1BFED+2CAj
		mov	[bp+var_18], 0
		xor	di, di
		jmp	loc_1C2A8
; ---------------------------------------------------------------------------

loc_1C0F3:				; CODE XREF: sub_1BFED+2C0j
		mov	ax, di
		shl	ax, 4
		mov	dx, [bp+var_E]
		sub	dx, ax
		mov	[bp+var_8], dx
		cmp	[bp+var_8], 10h
		jle	short loc_1C10B
		mov	[bp+var_8], 10h

loc_1C10B:				; CODE XREF: sub_1BFED+117j
		mov	bx, [bp+arg_0]
		and	bx, 7
		cmp	bx, 7
		ja	short loc_1C18E
		add	bx, bx
		jmp	cs:off_1C2D2[bx]

loc_1C11D:				; DATA XREF: seg002:240Ao
		mov	ax, si
		sub	ax, di
		mov	[bp+var_16], ax
		jmp	short loc_1C193
; ---------------------------------------------------------------------------

loc_1C126:				; CODE XREF: sub_1BFED+12Bj
					; DATA XREF: seg002:240Co
		mov	ax, [bp+var_12]
		dec	ax
		sub	ax, di
		mov	dx, si
		sub	dx, ax
		mov	[bp+var_16], dx
		jmp	short loc_1C193
; ---------------------------------------------------------------------------

loc_1C135:				; CODE XREF: sub_1BFED+12Bj
					; DATA XREF: seg002:240Eo
		mov	ax, [bp+var_12]
		cwd
		sub	ax, dx
		sar	ax, 1
		cmp	ax, di
		jle	short loc_1C155
		mov	ax, [bp+var_12]
		cwd
		sub	ax, dx
		sar	ax, 1
		dec	ax
		sub	ax, di
		mov	dx, si
		sub	dx, ax
		mov	[bp+var_16], dx
		jmp	short loc_1C168
; ---------------------------------------------------------------------------

loc_1C155:				; CODE XREF: sub_1BFED+152j
		mov	ax, [bp+var_12]
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	dx, di
		sub	dx, ax
		mov	ax, si
		sub	ax, dx
		mov	[bp+var_16], ax

loc_1C168:				; CODE XREF: sub_1BFED+166j
		jmp	short loc_1C193
; ---------------------------------------------------------------------------

loc_1C16A:				; CODE XREF: sub_1BFED+12Bj
					; DATA XREF: seg002:2410o
		mov	ax, [bp+var_12]
		cwd
		sub	ax, dx
		sar	ax, 1
		cmp	ax, di
		jle	short loc_1C17F
		mov	ax, si
		sub	ax, di
		mov	[bp+var_16], ax
		jmp	short loc_1C18C
; ---------------------------------------------------------------------------

loc_1C17F:				; CODE XREF: sub_1BFED+187j
		mov	ax, [bp+var_12]
		dec	ax
		sub	ax, di
		mov	dx, si
		sub	dx, ax
		mov	[bp+var_16], dx

loc_1C18C:				; CODE XREF: sub_1BFED+190j
		jmp	short loc_1C193
; ---------------------------------------------------------------------------

loc_1C18E:				; CODE XREF: sub_1BFED+127j
					; sub_1BFED+12Bj
					; DATA XREF: ...
		mov	[bp+var_16], si
		jmp	short $+2

loc_1C193:				; CODE XREF: sub_1BFED+137j
					; sub_1BFED+146j ...
		mov	[bp+var_6], 0
		jmp	loc_1C29C
; ---------------------------------------------------------------------------

loc_1C19B:				; CODE XREF: sub_1BFED+2B7j
		mov	ax, [bp+arg_0]
		and	ax, 38h
		mov	[bp+var_20], ax
		mov	cx, 5		; switch 5 cases
		mov	bx, offset word_1C2BE

loc_1C1AA:				; CODE XREF: sub_1BFED+1C8j
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_20]
		jz	short loc_1C1BA
		add	bx, 2
		loop	loc_1C1AA
		jmp	loc_1C23D	; jumptable 0001C1BA default case
; ---------------------------------------------------------------------------

loc_1C1BA:				; CODE XREF: sub_1BFED+1C3j
		jmp	word ptr cs:[bx+0Ah] ; switch jump

loc_1C1BE:				; DATA XREF: seg002:23F8o
		mov	ax, [bp+var_16]	; jumptable 0001C1BA case 32
		sub	ax, [bp+var_6]

loc_1C1C4:				; CODE XREF: sub_1BFED+253j
		mov	[bp+var_14], ax
		jmp	short loc_1C242
; ---------------------------------------------------------------------------

loc_1C1C9:				; CODE XREF: sub_1BFED:loc_1C1BAj
					; DATA XREF: seg002:23F8o
		mov	ax, [bp+var_10]	; jumptable 0001C1BA case 40
		dec	ax
		sub	ax, [bp+var_6]
		mov	dx, [bp+var_16]
		sub	dx, ax
		mov	[bp+var_14], dx
		jmp	short loc_1C242
; ---------------------------------------------------------------------------

loc_1C1DA:				; CODE XREF: sub_1BFED:loc_1C1BAj
					; DATA XREF: seg002:23F8o
		mov	ax, [bp+var_10]	; jumptable 0001C1BA case 48
		cwd
		sub	ax, dx
		sar	ax, 1
		cmp	ax, [bp+var_6]
		jle	short loc_1C1FD
		mov	ax, [bp+var_10]
		cwd
		sub	ax, dx
		sar	ax, 1
		dec	ax
		sub	ax, [bp+var_6]
		mov	dx, [bp+var_16]
		sub	dx, ax
		mov	[bp+var_14], dx
		jmp	short loc_1C212
; ---------------------------------------------------------------------------

loc_1C1FD:				; CODE XREF: sub_1BFED+1F8j
		mov	ax, [bp+var_10]
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	dx, [bp+var_6]
		sub	dx, ax
		mov	ax, [bp+var_16]
		sub	ax, dx
		mov	[bp+var_14], ax

loc_1C212:				; CODE XREF: sub_1BFED+20Ej
		jmp	short loc_1C242
; ---------------------------------------------------------------------------

loc_1C214:				; CODE XREF: sub_1BFED:loc_1C1BAj
					; DATA XREF: seg002:23F8o
		mov	ax, [bp+var_10]	; jumptable 0001C1BA case 56
		cwd
		sub	ax, dx
		sar	ax, 1
		cmp	ax, [bp+var_6]
		jle	short loc_1C22C
		mov	ax, [bp+var_16]
		sub	ax, [bp+var_6]
		mov	[bp+var_14], ax
		jmp	short loc_1C23B
; ---------------------------------------------------------------------------

loc_1C22C:				; CODE XREF: sub_1BFED+232j
		mov	ax, [bp+var_10]
		dec	ax
		sub	ax, [bp+var_6]
		mov	dx, [bp+var_16]
		sub	dx, ax
		mov	[bp+var_14], dx

loc_1C23B:				; CODE XREF: sub_1BFED+23Dj
		jmp	short loc_1C242
; ---------------------------------------------------------------------------

loc_1C23D:				; CODE XREF: sub_1BFED+1CAj
					; sub_1BFED:loc_1C1BAj
					; DATA XREF: ...
		mov	ax, [bp+var_16]	; jumptable 0001C1BA default case
		jmp	short loc_1C1C4
; ---------------------------------------------------------------------------

loc_1C242:				; CODE XREF: sub_1BFED+1DAj
					; sub_1BFED+1EBj ...
		cmp	[bp+var_14], 10h
		jge	short loc_1C24D
		mov	[bp+var_18], 1

loc_1C24D:				; CODE XREF: sub_1BFED+259j
		cmp	[bp+var_14], 0
		jl	short loc_1C285
		cmp	[bp+var_14], 10h
		jge	short loc_1C285
		push	[bp+var_8]
		push	[bp+var_14]
		push	[bp+arg_4]
		mov	ax, di
		shl	ax, 4
		push	ax
		mov	ax, [bp+var_6]
		add	ax, ax
		push	ax
		push	[bp+arg_2]
		mov	ax, di
		shl	ax, 4
		push	ax
		mov	ax, [bp+var_6]
		add	ax, ax
		push	ax
		call	sub_21A44
		add	sp, 10h

loc_1C285:				; CODE XREF: sub_1BFED+264j
					; sub_1BFED+26Aj
		dec	[bp+var_A]
		jg	short loc_1C299

loc_1C28A:				; CODE XREF: seg002:loc_1BF98j
		push	[bp+arg_8]
		call	sub_1F08D
		pop	cx
		mov	ax, [bp+arg_6]
		mov	[bp+var_A], ax

loc_1C299:				; CODE XREF: sub_1BFED+29Bj
		inc	[bp+var_6]

loc_1C29C:				; CODE XREF: sub_1BFED+1ABj
		mov	ax, [bp+var_6]
		cmp	ax, [bp+var_10]
		jge	short loc_1C2A7
		jmp	loc_1C19B
; ---------------------------------------------------------------------------

loc_1C2A7:				; CODE XREF: sub_1BFED+2B5j
		inc	di

loc_1C2A8:				; CODE XREF: sub_1BFED+103j
		cmp	di, [bp+var_12]
		jge	short loc_1C2B0
		jmp	loc_1C0F3
; ---------------------------------------------------------------------------

loc_1C2B0:				; CODE XREF: sub_1BFED+2BEj
		inc	si

loc_1C2B1:				; CODE XREF: sub_1BFED+F9j
		cmp	[bp+var_18], 0
		jz	short loc_1C2BA
		jmp	loc_1C0E9
; ---------------------------------------------------------------------------

loc_1C2BA:				; CODE XREF: sub_1BFED+2C8j
		pop	di
		pop	si
		leave
		retf
sub_1BFED	endp

; ---------------------------------------------------------------------------
word_1C2BE	dw	0,   20h,   28h,   30h ; DATA XREF: sub_1BFED+1BAo
		dw    38h		; value	table for switch statement
		dw offset loc_1C23D	; jump table for switch	statement
		dw offset loc_1C1BE
		dw offset loc_1C1C9
		dw offset loc_1C1DA
		dw offset loc_1C214
off_1C2D2	dw offset loc_1C18E	; DATA XREF: sub_1BFED+12Br
		dw offset loc_1C18E
		dw offset loc_1C18E
		dw offset loc_1C18E
		dw offset loc_1C11D
		dw offset loc_1C126
		dw offset loc_1C135
		dw offset loc_1C16A

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1C2E2	proc far		; CODE XREF: seg002:2532p

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	0Ch, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp+var_2], ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	si, ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	di, ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp+var_4], ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp+var_6], ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp+var_8], ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp+var_A], ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp+var_C], ax
		push	di
		push	si
		push	cs
		call	near ptr sub_19F27
		add	sp, 4
		or	ax, ax
		jz	short loc_1C3BF
		push	[bp+var_C]
		push	[bp+var_A]
		push	[bp+var_8]
		push	[bp+var_6]
		push	[bp+var_4]
		push	di
		push	si
		push	[bp+var_2]
		push	cs
		call	near ptr sub_1BFED
		add	sp, 10h
		push	di
		push	si
		push	cs
		call	near ptr sub_1A1A7
		add	sp, 4

loc_1C3BF:				; CODE XREF: sub_1C2E2+B7j
		pop	di
		pop	si
		leave
		retf
sub_1C2E2	endp

; ---------------------------------------------------------------------------

loc_1C3C3:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetImmediate
		add	sp, 8
		or	ax, ax
		jz	short loc_1C3E3
		cmp	ax, 1
		jz	short loc_1C3F5
		jmp	short loc_1C40A
; ---------------------------------------------------------------------------

loc_1C3E3:				; CODE XREF: seg002:250Aj
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	loc_1BE39
		jmp	short loc_1C405
; ---------------------------------------------------------------------------

loc_1C3F5:				; CODE XREF: seg002:250Fj
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_1C2E2

loc_1C405:				; CODE XREF: seg002:2523j
		add	sp, 8
		jmp	short $+2

loc_1C40A:				; CODE XREF: seg002:2511j
		pop	bp
		retf
; ---------------------------------------------------------------------------

scnB090_text:				; DATA XREF: dseg:scnCodeTblo
		enter	8, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	di, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	si, ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetMessage
		add	sp, 8
		mov	[bp-6],	dx
		mov	[bp-8],	ax

loc_1C467:				; CODE XREF: seg002:loc_1C50Bj
		les	bx, [bp-8]
		inc	word ptr [bp-8]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-4],	ax
		cmp	word ptr [bp-4], 0
		jnz	short loc_1C485
		jmp	loc_1C50E
; ---------------------------------------------------------------------------

loc_1C485:				; CODE XREF: seg002:25B0j
		mov	al, [bp-4]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_1C4F9
		shl	word ptr [bp-4], 8
		les	bx, [bp-8]
		inc	word ptr [bp-8]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		and	ax, 0FFh
		add	[bp-4],	ax

loc_1C4AF:				; CODE XREF: seg002:262Fj
		call	sub_1F081
		push	word ptr ds:267Ah
		push	word ptr ds:2680h
		push	word ptr ds:267Eh
		push	word ptr ds:267Ch
		push	di
		push	word ptr [bp-4]
		push	word ptr [bp-2]
		push	si
		call	sub_20E1F
		add	sp, 10h
		cmp	word_2A6AD, 0
		jnz	short loc_1C4E4
		call	sub_23BD3
		test	al, 13h
		jz	short loc_1C4EA

loc_1C4E4:				; CODE XREF: seg002:2609j
		push	word ptr ds:263Ch
		jmp	short loc_1C4EE
; ---------------------------------------------------------------------------

loc_1C4EA:				; CODE XREF: seg002:2612j
		push	word ptr ds:263Ah

loc_1C4EE:				; CODE XREF: seg002:2618j
		call	sub_1F017
		pop	cx
		add	si, 2
		jmp	short loc_1C50B
; ---------------------------------------------------------------------------

loc_1C4F9:				; CODE XREF: seg002:25C1j
		cmp	word ptr [bp-4], 20h ; ' '
		jb	short loc_1C501
		jmp	short loc_1C4AF
; ---------------------------------------------------------------------------

loc_1C501:				; CODE XREF: seg002:262Dj
		cmp	word ptr [bp-4], 0Dh
		jnz	short loc_1C509
		jmp	short loc_1C50B
; ---------------------------------------------------------------------------

loc_1C509:				; CODE XREF: seg002:2635j
		jmp	short $+2

loc_1C50B:				; CODE XREF: seg002:2627j seg002:2637j
		jmp	loc_1C467
; ---------------------------------------------------------------------------

loc_1C50E:				; CODE XREF: seg002:25B2j
		push	di
		push	cs
		call	near ptr sub_1A041
		pop	cx
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

loc_1C518:				; DATA XREF: dseg:scnCodeTblo
		enter	0Ch, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-6],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-8],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-0Ah], ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-0Ch], ax
		push	word ptr [bp-0Ch]
		push	word ptr [bp-0Ah]
		push	word ptr [bp-8]
		push	word ptr [bp-6]
		push	word ptr [bp-4]
		push	word ptr [bp-2]
		call	sub_1FC23
		add	sp, 0Ch
		leave
		retf
; ---------------------------------------------------------------------------

scn90_text:				; DATA XREF: dseg:scnCodeTblo
		enter	22h, 0
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr PeekScnCodeByte
		add	sp, 4
		mov	ah, 0
		mov	[bp-14h], ax
		mov	ax, [bp-14h]
		cmp	ax, 11h
		jz	short loc_1C5D6	; parameter type 11 - dword
		jmp	short loc_1C5ED
; ---------------------------------------------------------------------------

loc_1C5D6:				; CODE XREF: seg002:2702j
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetMessage
		add	sp, 8
		mov	[bp-2],	dx
		jmp	short loc_1C668
; ---------------------------------------------------------------------------

loc_1C5ED:				; CODE XREF: seg002:2704j
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		push	ax
		push	ds
		push	offset aU	; "%u"
		push	ss
		lea	ax, [bp-12h]
		push	ax
		call	_sprintf
		add	sp, 0Ah
		lea	ax, [bp-12h]
		mov	word ptr [bp-6], ss
		mov	[bp-8],	ax
		lea	ax, [bp-22h]
		mov	word ptr [bp-0Ah], ss
		mov	[bp-0Ch], ax
		jmp	short loc_1C652
; ---------------------------------------------------------------------------

loc_1C625:				; CODE XREF: seg002:2789j
		push	82h
		call	EncodeTextByte
		pop	cx
		les	bx, [bp-0Ch]
		mov	es:[bx], al
		inc	word ptr [bp-0Ch]
		les	bx, [bp-8]
		inc	word ptr [bp-8]
		mov	al, es:[bx]
		add	al, 1Fh
		push	ax
		call	EncodeTextByte
		pop	cx
		les	bx, [bp-0Ch]
		mov	es:[bx], al
		inc	word ptr [bp-0Ch]

loc_1C652:				; CODE XREF: seg002:2753j
		les	bx, [bp-8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1C625
		les	bx, [bp-0Ch]
		mov	byte ptr es:[bx], 0
		lea	ax, [bp-22h]
		mov	word ptr [bp-2], ss

loc_1C668:				; CODE XREF: seg002:271Bj
		mov	[bp-4],	ax

loc_1C66B:				; CODE XREF: seg002:loc_1C750j
		les	bx, [bp-4]
		inc	word ptr [bp-4]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-16h], ax
		cmp	word ptr [bp-16h], 0
		jnz	short loc_1C689
		jmp	locret_1C753
; ---------------------------------------------------------------------------

loc_1C689:				; CODE XREF: seg002:27B4j
		mov	al, [bp-16h]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_1C6F6
		shl	word ptr [bp-16h], 8
		les	bx, [bp-4]
		inc	word ptr [bp-4]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		and	ax, 0FFh
		add	[bp-16h], ax
		mov	ax, ds:2674h
		dec	ax
		cmp	ax, ds:2682h
		jg	short loc_1C6C0
		jmp	locret_1C753
; ---------------------------------------------------------------------------

loc_1C6C0:				; CODE XREF: seg002:27EBj
					; seg002:loc_1C738j
		call	sub_1F081
		push	word ptr [bp-16h]
		push	ds
		push	2640h
		call	sub_228FB
		add	sp, 6
		cmp	word_2A6AD, 0
		jnz	short loc_1C6E4
		call	sub_23BD3
		test	al, 13h
		jz	short loc_1C6EA

loc_1C6E4:				; CODE XREF: seg002:2809j
		push	word ptr ds:263Ch
		jmp	short loc_1C6EE
; ---------------------------------------------------------------------------

loc_1C6EA:				; CODE XREF: seg002:2812j
		push	word ptr ds:263Ah

loc_1C6EE:				; CODE XREF: seg002:2818j
		call	sub_1F017
		pop	cx
		jmp	short loc_1C750
; ---------------------------------------------------------------------------

loc_1C6F6:				; CODE XREF: seg002:27C5j
		cmp	word ptr [bp-16h], '\'
		jnz	short loc_1C727
		les	bx, [bp-4]
		inc	word ptr [bp-4]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-16h], ax
		push	word ptr [bp-16h]
		call	_toupper
		pop	cx
		cmp	ax, 'N'
		jz	short loc_1C721
		jmp	short loc_1C723
; ---------------------------------------------------------------------------

loc_1C721:				; CODE XREF: seg002:284Dj
		jmp	short loc_1C740
; ---------------------------------------------------------------------------

loc_1C723:				; CODE XREF: seg002:284Fj
		jmp	short loc_1C750
; ---------------------------------------------------------------------------
		jmp	short loc_1C750
; ---------------------------------------------------------------------------

loc_1C727:				; CODE XREF: seg002:282Aj
		cmp	word ptr [bp-16h], ' '
		jb	short loc_1C73A
		mov	ax, ds:2682h
		cmp	ax, ds:2674h
		jl	short loc_1C738
		jmp	short locret_1C753
; ---------------------------------------------------------------------------

loc_1C738:				; CODE XREF: seg002:2864j
		jmp	short loc_1C6C0
; ---------------------------------------------------------------------------

loc_1C73A:				; CODE XREF: seg002:285Bj
		cmp	word ptr [bp-16h], 0Dh
		jnz	short loc_1C74E

loc_1C740:				; CODE XREF: seg002:loc_1C721j
		push	ds
		push	2640h
		call	sub_22C75
		add	sp, 4
		jmp	short loc_1C750
; ---------------------------------------------------------------------------

loc_1C74E:				; CODE XREF: seg002:286Ej
		jmp	short $+2

loc_1C750:				; CODE XREF: seg002:2824j
					; seg002:loc_1C723j ...
		jmp	loc_1C66B
; ---------------------------------------------------------------------------

locret_1C753:				; CODE XREF: seg002:27B6j seg002:27EDj ...
		leave
		retf
; ---------------------------------------------------------------------------

loc_1C755:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	ds
		push	2640h
		call	sub_22BF2
		add	sp, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1C766:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		mov	ax, ds:2676h
		dec	ax
		mov	ds:2684h, ax
		mov	ax, ds:2674h
		add	ax, 0FFFEh
		mov	ds:2682h, ax
		push	0
		push	word ptr ds:263Eh
		push	1Eh
		push	ds
		push	2640h
		call	sub_22E75
		add	sp, 0Ah
		push	ds
		push	2640h
		call	sub_22BF2
		add	sp, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1C79B:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	ds
		push	2640h
		call	sub_22C75
		add	sp, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------

scn94_text:				; DATA XREF: dseg:scnCodeTblo
		enter	0Eh, 0
		push	si
		push	di
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		mov	ax, es:[bx]
		and	ax, 1
		mov	di, ax
		cmp	word_29C31, 0
		jnz	short loc_1C7CD
		jmp	loc_1CAFC
; ---------------------------------------------------------------------------

loc_1C7CD:				; CODE XREF: seg002:28F8j
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr PeekScnCodeByte
		add	sp, 4
		mov	ah, 0
		mov	[bp-0Ch], ax
		mov	ax, [bp-0Ch]
		cmp	ax, 11h
		jz	short loc_1C7E9
		jmp	short loc_1C800
; ---------------------------------------------------------------------------

loc_1C7E9:				; CODE XREF: seg002:2915j
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetMessage
		add	sp, 8
		mov	[bp-2],	dx
		jmp	short loc_1C854
; ---------------------------------------------------------------------------

loc_1C800:				; CODE XREF: seg002:2917j
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		push	ax
		push	ds
		push	offset aU_0	; "%u"
		push	ss
		lea	ax, [bp-0Ah]
		push	ax
		call	_sprintf
		add	sp, 0Ah
		lea	ax, [bp-0Ah]
		mov	word ptr [bp-2], ss
		mov	[bp-4],	ax
		jmp	short loc_1C845
; ---------------------------------------------------------------------------

loc_1C82F:				; CODE XREF: seg002:297Cj
		les	bx, [bp-4]
		mov	al, es:[bx]
		push	ax
		call	EncodeTextByte
		pop	cx
		les	bx, [bp-4]
		mov	es:[bx], al
		inc	word ptr [bp-4]

loc_1C845:				; CODE XREF: seg002:295Dj
		les	bx, [bp-4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1C82F
		lea	ax, [bp-0Ah]
		mov	word ptr [bp-2], ss

loc_1C854:				; CODE XREF: seg002:292Ej
		mov	[bp-4],	ax

loc_1C857:				; CODE XREF: seg002:loc_1CAF9j
		les	bx, [bp-4]
		inc	word ptr [bp-4]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-0Eh], ax
		cmp	word ptr [bp-0Eh], 0
		jnz	short loc_1C875
		jmp	loc_1CAFC
; ---------------------------------------------------------------------------

loc_1C875:				; CODE XREF: seg002:29A0j
		mov	al, [bp-0Eh]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jnz	short loc_1C886
		jmp	loc_1C976
; ---------------------------------------------------------------------------

loc_1C886:				; CODE XREF: seg002:29B1j
		or	di, di
		jz	short loc_1C8B1
		inc	word_2B754
		jge	short loc_1C8A2
		les	bx, dword_2B760
		inc	word ptr dword_2B760
		mov	al, [bp-0Eh]
		mov	es:[bx], al
		mov	ah, 0
		jmp	short loc_1C8B1
; ---------------------------------------------------------------------------

loc_1C8A2:				; CODE XREF: seg002:29BEj
		push	ds
		push	offset word_2B754
		push	word ptr [bp-0Eh]
		call	__fputc
		add	sp, 6

loc_1C8B1:				; CODE XREF: seg002:29B8j seg002:29D0j
		mov	ax, word ptr stream
		or	ax, word ptr stream+2
		jz	short loc_1C8F2
		les	bx, stream
		inc	word ptr es:[bx]
		jge	short loc_1C8DF
		les	bx, stream
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	al, [bp-0Eh]
		mov	es, dx
		mov	es:[si], al
		mov	ah, 0
		jmp	short loc_1C8F2
; ---------------------------------------------------------------------------

loc_1C8DF:				; CODE XREF: seg002:29F1j
		push	word ptr stream+2
		push	word ptr stream
		push	word ptr [bp-0Eh]
		call	__fputc
		add	sp, 6

loc_1C8F2:				; CODE XREF: seg002:29E8j seg002:2A0Dj
		les	bx, [bp-4]
		inc	word ptr [bp-4]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-0Eh], ax
		or	di, di
		jz	short loc_1C932
		inc	word_2B754
		jge	short loc_1C923
		les	bx, dword_2B760
		inc	word ptr dword_2B760
		mov	al, [bp-0Eh]
		mov	es:[bx], al
		mov	ah, 0
		jmp	short loc_1C932
; ---------------------------------------------------------------------------

loc_1C923:				; CODE XREF: seg002:2A3Fj
		push	ds
		push	offset word_2B754
		push	word ptr [bp-0Eh]
		call	__fputc
		add	sp, 6

loc_1C932:				; CODE XREF: seg002:2A39j seg002:2A51j
		mov	ax, word ptr stream
		or	ax, word ptr stream+2
		jz	short loc_1C973
		les	bx, stream
		inc	word ptr es:[bx]
		jge	short loc_1C960
		les	bx, stream
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	al, [bp-0Eh]
		mov	es, dx
		mov	es:[si], al
		mov	ah, 0
		jmp	short loc_1C973
; ---------------------------------------------------------------------------

loc_1C960:				; CODE XREF: seg002:2A72j
		push	word ptr stream+2
		push	word ptr stream
		push	word ptr [bp-0Eh]
		call	__fputc
		add	sp, 6

loc_1C973:				; CODE XREF: seg002:2A69j seg002:2A8Ej
		jmp	loc_1CAF9
; ---------------------------------------------------------------------------

loc_1C976:				; CODE XREF: seg002:29B3j
		cmp	word ptr [bp-0Eh], 5Ch ; '\'
		jz	short loc_1C97F
		jmp	loc_1CA13
; ---------------------------------------------------------------------------

loc_1C97F:				; CODE XREF: seg002:2AAAj
		les	bx, [bp-4]
		inc	word ptr [bp-4]
		mov	al, es:[bx]
		push	ax
		call	DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-0Eh], ax
		push	word ptr [bp-0Eh]
		call	_toupper
		pop	cx
		cmp	ax, 4Eh	; 'N'
		jz	short loc_1C9A4
		jmp	short loc_1CA0E
; ---------------------------------------------------------------------------

loc_1C9A4:				; CODE XREF: seg002:2AD0j
		or	di, di
		jz	short loc_1C9CD
		inc	word_2B754
		jge	short loc_1C9BF
		les	bx, dword_2B760
		inc	word ptr dword_2B760
		mov	al, 0Ah
		mov	es:[bx], al
		mov	ah, 0
		jmp	short loc_1C9CD
; ---------------------------------------------------------------------------

loc_1C9BF:				; CODE XREF: seg002:2ADCj
		push	ds
		push	offset word_2B754
		push	0Ah
		call	__fputc
		add	sp, 6

loc_1C9CD:				; CODE XREF: seg002:2AD6j seg002:2AEDj
		mov	ax, word ptr stream
		or	ax, word ptr stream+2
		jz	short loc_1CA0C
		les	bx, stream
		inc	word ptr es:[bx]
		jge	short loc_1C9FA
		les	bx, stream
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	al, 0Ah
		mov	es, dx
		mov	es:[si], al
		mov	ah, 0
		jmp	short loc_1CA0C
; ---------------------------------------------------------------------------

loc_1C9FA:				; CODE XREF: seg002:2B0Dj
		push	word ptr stream+2
		push	word ptr stream
		push	0Ah
		call	__fputc
		add	sp, 6

loc_1CA0C:				; CODE XREF: seg002:2B04j seg002:2B28j
		jmp	short loc_1CA10
; ---------------------------------------------------------------------------

loc_1CA0E:				; CODE XREF: seg002:2AD2j
		jmp	short $+2

loc_1CA10:				; CODE XREF: seg002:loc_1CA0Cj
		jmp	loc_1CAF9
; ---------------------------------------------------------------------------

loc_1CA13:				; CODE XREF: seg002:2AACj
		cmp	word ptr [bp-0Eh], 20h ; ' '
		jb	short loc_1CA87
		or	di, di
		jz	short loc_1CA44
		inc	word_2B754
		jge	short loc_1CA35
		les	bx, dword_2B760
		inc	word ptr dword_2B760
		mov	al, [bp-0Eh]
		mov	es:[bx], al
		mov	ah, 0
		jmp	short loc_1CA44
; ---------------------------------------------------------------------------

loc_1CA35:				; CODE XREF: seg002:2B51j
		push	ds
		push	offset word_2B754
		push	word ptr [bp-0Eh]
		call	__fputc
		add	sp, 6

loc_1CA44:				; CODE XREF: seg002:2B4Bj seg002:2B63j
		mov	ax, word ptr stream
		or	ax, word ptr stream+2
		jz	short loc_1CA85
		les	bx, stream
		inc	word ptr es:[bx]
		jge	short loc_1CA72
		les	bx, stream
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	al, [bp-0Eh]
		mov	es, dx
		mov	es:[si], al
		mov	ah, 0
		jmp	short loc_1CA85
; ---------------------------------------------------------------------------

loc_1CA72:				; CODE XREF: seg002:2B84j
		push	word ptr stream+2
		push	word ptr stream
		push	word ptr [bp-0Eh]
		call	__fputc
		add	sp, 6

loc_1CA85:				; CODE XREF: seg002:2B7Bj seg002:2BA0j
		jmp	short loc_1CAF9
; ---------------------------------------------------------------------------

loc_1CA87:				; CODE XREF: seg002:2B47j
		cmp	word ptr [bp-0Eh], 0Dh
		jnz	short loc_1CAF7
		or	di, di
		jz	short loc_1CAB6
		inc	word_2B754
		jge	short loc_1CAA8
		les	bx, dword_2B760
		inc	word ptr dword_2B760
		mov	al, 0Ah
		mov	es:[bx], al
		mov	ah, 0
		jmp	short loc_1CAB6
; ---------------------------------------------------------------------------

loc_1CAA8:				; CODE XREF: seg002:2BC5j
		push	ds
		push	offset word_2B754
		push	0Ah
		call	__fputc
		add	sp, 6

loc_1CAB6:				; CODE XREF: seg002:2BBFj seg002:2BD6j
		mov	ax, word ptr stream
		or	ax, word ptr stream+2
		jz	short loc_1CAF5
		les	bx, stream
		inc	word ptr es:[bx]
		jge	short loc_1CAE3
		les	bx, stream
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	al, 0Ah
		mov	es, dx
		mov	es:[si], al
		mov	ah, 0
		jmp	short loc_1CAF5
; ---------------------------------------------------------------------------

loc_1CAE3:				; CODE XREF: seg002:2BF6j
		push	word ptr stream+2
		push	word ptr stream
		push	0Ah
		call	__fputc
		add	sp, 6

loc_1CAF5:				; CODE XREF: seg002:2BEDj seg002:2C11j
		jmp	short loc_1CAF9
; ---------------------------------------------------------------------------

loc_1CAF7:				; CODE XREF: seg002:2BBBj
		jmp	short $+2

loc_1CAF9:				; CODE XREF: seg002:loc_1C973j
					; seg002:loc_1CA10j ...
		jmp	loc_1C857
; ---------------------------------------------------------------------------

loc_1CAFC:				; CODE XREF: seg002:28FAj seg002:29A2j
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CB00:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		mov	word ptr ds:263Eh, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1CB0B:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		mov	word ptr ds:263Eh, 0
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1CB16:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	0
		push	word ptr ds:263Eh
		push	1Eh
		push	ds
		push	2640h
		call	sub_22E75
		add	sp, 0Ah
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1CB2F:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		call	sub_23BA4
		pop	bp
		retf
; ---------------------------------------------------------------------------

scnD0F7_SetVarOnKey:			; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr GetScnVarMemPtr
		add	sp, 8
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		les	bx, [bp-4]
		mov	word ptr es:[bx], 0
		call	CheckKeyPress
		or	ax, ax
		jz	short locret_1CB71
		call	GetKeyCode
		les	bx, [bp-4]
		mov	es:[bx], ax

locret_1CB71:				; CODE XREF: seg002:2C94j
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CB73:				; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		mov	ax, [bp-2]
		mov	ds:267Ah, ax
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CB94:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	word_2A6AD, ax
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1CBAE:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	ds:263Ah, ax
		mov	ax, ds:263Ah
		sub	ax, 2
		mov	ds:263Ch, ax
		cmp	word ptr ds:263Ch, 2710h
		jbe	short loc_1CBDD
		mov	word ptr ds:263Ch, 0

loc_1CBDD:				; CODE XREF: seg002:2D05j
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1CBDF:				; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	0Dh
		push	ds
		push	253Ch
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr sub_1AAE0
		add	sp, 0Eh
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		call	sub_24C74
		add	sp, 4
		or	ax, ax
		jz	short loc_1CC29
		push	ds
		push	offset aVkuVNuvVVVVVVB ; "‚ª“Ç‚Ýž‚ß‚Ü‚¹‚ñ‚Å‚µ‚½D\n"
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	ds
		push	offset aLGfbG	; "‹Èƒf[ƒ^ : "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1CC29:				; CODE XREF: seg002:2D41j
		push	0Ch
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	ds
		push	2686h
		call	_strncpy
		add	sp, 0Ah
		mov	byte ptr ds:2692h, 0
		mov	word ptr ds:2693h, 0
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CC4A:				; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	word ptr [bp-4]
		push	word ptr [bp-2]
		call	sub_24823
		add	sp, 4
		mov	word ptr ds:2693h, 1
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CC8E:				; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	word ptr [bp-4]
		push	word ptr [bp-2]
		call	sub_248F0
		add	sp, 4
		mov	word ptr ds:2693h, 0
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CCD2:				; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	word ptr [bp-2]
		call	sub_249F3
		pop	cx
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CCF6:				; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	word ptr [bp-2]
		call	sub_24A00
		pop	cx
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CD1A:				; DATA XREF: dseg:scnCodeTblo
		enter	4, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	word ptr [bp-4]
		push	word ptr [bp-2]
		call	sub_24E03
		add	sp, 4
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CD58:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		test	byte ptr es:[bx], 1
		jz	short loc_1CD79
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		or	word ptr es:[bx+0Ch], 200h

loc_1CD79:				; CODE XREF: seg002:2E98j
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1CD7B:				; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		test	byte ptr es:[bx], 1
		jz	short loc_1CD9C
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		and	word ptr es:[bx+0Ch], 0FDFFh

loc_1CD9C:				; CODE XREF: seg002:2EBBj
		pop	bp
		retf
; ---------------------------------------------------------------------------

scnD2:					; DATA XREF: dseg:scnCodeTblo
		enter	2, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	word ptr [bp-2]
		call	sub_1EFC4
		pop	cx
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetParity	proc far		; CODE XREF: WriteSystemSave+55p
					; WriteSystemSave+72p ...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	cl, [bp+arg_0]
		xor	dx, dx
		xor	bx, bx
		jmp	short loc_1CDDA
; ---------------------------------------------------------------------------

loc_1CDCE:				; CODE XREF: GetParity+1Bj
		mov	al, cl
		mov	ah, 0
		and	ax, 1
		add	bx, ax
		shr	cl, 1
		inc	dx

loc_1CDDA:				; CODE XREF: GetParity+Aj
		cmp	dx, 8
		jl	short loc_1CDCE
		mov	ax, bx
		and	ax, 1
		pop	bp
		retf
GetParity	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

WriteSystemSave	proc far		; CODE XREF: ReadSystemSave+33p
					; seg002:33E9p	...

ptr		= dword	ptr -8
stream		= dword	ptr -4

		enter	8, 0
		push	si
		push	0
		push	400h
		call	malloc_maybe
		add	sp, 4
		mov	word ptr [bp+ptr+2], dx
		mov	word ptr [bp+ptr], ax
		or	ax, dx
		jnz	short loc_1CE10
		push	ds
		push	offset aSysFileRdErrMem	; "ƒƒ‚ƒŠ•s‘«‚ÅƒVƒXƒeƒ€ƒf[ƒ^ƒtƒ@ƒCƒ‹ ‚ÉƒA"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1CE10:				; CODE XREF: WriteSystemSave+1Aj
		xor	si, si
		jmp	short loc_1CE22
; ---------------------------------------------------------------------------

loc_1CE14:				; CODE XREF: WriteSystemSave+3Ej
		call	_rand
		les	bx, [bp+ptr]
		add	bx, si
		mov	es:[bx], al
		inc	si

loc_1CE22:				; CODE XREF: WriteSystemSave+2Aj
		cmp	si, 400h
		jl	short loc_1CE14
		les	bx, scnVarMemory
		cmp	word ptr es:[bx+6], 0
		jnz	short loc_1CE50
		les	bx, [bp+ptr]
		mov	al, es:[bx+87h]
		push	ax
		push	cs
		call	near ptr GetParity
		pop	cx
		or	ax, ax
		jz	short loc_1CE4E
		les	bx, [bp+ptr]
		xor	byte ptr es:[bx+87h], 1

loc_1CE4E:				; CODE XREF: WriteSystemSave+5Bj
		jmp	short loc_1CE6B
; ---------------------------------------------------------------------------

loc_1CE50:				; CODE XREF: WriteSystemSave+49j
		les	bx, [bp+ptr]
		mov	al, es:[bx+87h]
		push	ax
		push	cs
		call	near ptr GetParity
		pop	cx
		or	ax, ax
		jnz	short loc_1CE6B
		les	bx, [bp+ptr]
		xor	byte ptr es:[bx+87h], 1

loc_1CE6B:				; CODE XREF: WriteSystemSave:loc_1CE4Ej
					; WriteSystemSave+78j
		les	bx, scnVarMemory
		cmp	word ptr es:[bx+8], 0
		jnz	short loc_1CE93
		les	bx, [bp+ptr]
		mov	al, es:[bx+39Ch]
		push	ax
		push	cs
		call	near ptr GetParity
		pop	cx
		or	ax, ax
		jz	short loc_1CE91
		les	bx, [bp+ptr]
		xor	byte ptr es:[bx+39Ch], 1

loc_1CE91:				; CODE XREF: WriteSystemSave+9Ej
		jmp	short loc_1CEAE
; ---------------------------------------------------------------------------

loc_1CE93:				; CODE XREF: WriteSystemSave+8Cj
		les	bx, [bp+ptr]
		mov	al, es:[bx+39Ch]
		push	ax
		push	cs
		call	near ptr GetParity
		pop	cx
		or	ax, ax
		jnz	short loc_1CEAE
		les	bx, [bp+ptr]
		xor	byte ptr es:[bx+39Ch], 1

loc_1CEAE:				; CODE XREF: WriteSystemSave:loc_1CE91j
					; WriteSystemSave+BBj
		push	ds
		push	offset aWb	; "wb"
		push	ds
		push	offset aRekiai_0_usr ; "rekiai_0.usr"
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_1CEDC
		push	ds
		push	offset aCantBeOpened1 ;	" ‚ªCƒI[ƒvƒ“‚Å‚«‚Ü‚¹‚ñD\n"
		push	ds
		push	offset aRekiai_0_usr_0 ; "rekiai_0.usr"
		push	ds
		push	offset aSystemDataFile ; "ƒVƒXƒeƒ€ƒf[ƒ^ƒtƒ@ƒCƒ‹ "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1CEDC:				; CODE XREF: WriteSystemSave+DEj
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		push	1		; n
		push	400h		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	_fwrite
		add	sp, 0Ch
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr]
		call	sub_1275D
		add	sp, 4
		pop	si
		leave
		retf
WriteSystemSave	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ReadSystemSave	proc far		; CODE XREF: InitVarMemory+2Cp

ptr		= dword	ptr -8
stream		= dword	ptr -4

		enter	8, 0
		push	ds
		push	offset aRb_1	; "rb"
		push	ds
		push	offset aRekiai_0_usr_1 ; "rekiai_0.usr"
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_1CF4C
		les	bx, scnVarMemory
		mov	word ptr es:[bx+6], 0
		les	bx, scnVarMemory
		mov	word ptr es:[bx+8], 0
		push	cs
		call	near ptr WriteSystemSave
		leave
		retf
; ---------------------------------------------------------------------------

loc_1CF4C:				; CODE XREF: ReadSystemSave+1Cj
		push	0
		push	400h
		call	malloc_maybe
		add	sp, 4
		mov	word ptr [bp+ptr+2], dx
		mov	word ptr [bp+ptr], ax
		or	ax, dx
		jnz	short loc_1CF6F
		push	ds
		push	offset aSysFile_MemErr ; "ƒƒ‚ƒŠ•s‘«‚ÅƒVƒXƒeƒ€ƒf[ƒ^ƒtƒ@ƒCƒ‹ ‚ð“Ç"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1CF6F:				; CODE XREF: ReadSystemSave+4Dj
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		push	1		; n
		push	400h		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	_fread
		add	sp, 0Ch
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4
		les	bx, [bp+ptr]
		mov	al, es:[bx+87h]
		push	ax
		push	cs
		call	near ptr GetParity
		pop	cx
		les	bx, scnVarMemory
		mov	es:[bx+6], ax
		les	bx, [bp+ptr]
		mov	al, es:[bx+39Ch]
		push	ax
		push	cs
		call	near ptr GetParity
		pop	cx
		les	bx, scnVarMemory
		mov	es:[bx+8], ax
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr]
		call	sub_1275D
		add	sp, 4
		leave
		retf
ReadSystemSave	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1CFD2	proc far		; CODE XREF: RunSCE+1ABp

var_2		= word ptr -2

		enter	2, 0
		les	bx, scnVarMemory
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		mov	ax, ds:26A5h
		add	ax, ax
		push	ax		; n
		push	0		; c
		push	word ptr scnVarMemory+2
		push	word ptr scnVarMemory ;	s
		call	_memset
		add	sp, 8
		les	bx, scnVarMemory
		mov	ax, [bp+var_2]
		mov	es:[bx+2], ax
		leave
		retf
sub_1CFD2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

InitVarMemory	proc far		; CODE XREF: seg002:31FDp RunSCE+1AFp
		push	bp
		mov	bp, sp
		les	bx, scnVarMemory
		mov	ax, word_29C31
		mov	es:[bx], ax
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		test	byte ptr es:[bx], 1
		jz	short loc_1D027
		mov	ax, 1
		jmp	short loc_1D029
; ---------------------------------------------------------------------------

loc_1D027:				; CODE XREF: InitVarMemory+1Aj
		xor	ax, ax

loc_1D029:				; CODE XREF: InitVarMemory+1Fj
		les	bx, scnVarMemory
		mov	es:[bx+4], ax
		push	cs
		call	near ptr ReadSystemSave
		pop	bp
		retf
InitVarMemory	endp

; ---------------------------------------------------------------------------

scnF2_ReadUserSave:			; DATA XREF: dseg:scnCodeTblo
		enter	12h, 0
		push	si
		push	di
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-4],	ax
		push	word ptr [bp-4]
		push	cs
		call	near ptr sub_1ADB4
		pop	cx
		mov	[bp-8],	dx
		mov	[bp-0Ah], ax
		push	ds
		push	offset aRb_6	; "rb"
		push	word ptr [bp-8]
		push	word ptr [bp-0Ah]
		call	_fopen
		add	sp, 8
		mov	[bp-10h], dx
		mov	[bp-12h], ax
		or	ax, dx
		jnz	short loc_1D07F
		jmp	loc_1D1E6
; ---------------------------------------------------------------------------

loc_1D07F:				; CODE XREF: seg002:31AAj
		push	word ptr [bp-10h]
		push	word ptr [bp-12h]
		push	1
		push	14Ch
		push	ds
		push	2549h
		call	_fread
		add	sp, 0Ch
		push	word ptr [bp-10h]
		push	word ptr [bp-12h]
		push	1
		mov	ax, ds:26A5h
		add	ax, ax
		push	ax
		push	word ptr scnVarMemory+2
		push	word ptr scnVarMemory
		call	_fread
		add	sp, 0Ch
		push	word ptr [bp-10h]
		push	word ptr [bp-12h]
		call	_fclose
		add	sp, 4
		cmp	word ptr ds:2549h, 0
		jnz	short loc_1D0CC
		jmp	loc_1D1E6
; ---------------------------------------------------------------------------

loc_1D0CC:				; CODE XREF: seg002:31F7j
		push	cs
		call	near ptr InitVarMemory
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr PeekScnCodeWord
		add	sp, 4
		mov	[bp-6],	ax
		mov	ax, [bp-6]
		cwd
		add	ax, [bp+6]
		adc	dx, [bp+8]
		mov	word ptr scnJumpDestPos+2, dx
		mov	word ptr scnJumpDestPos, ax
		push	0
		push	ds
		push	offset aBacewaka_psa ; "bacewaka.psa"
		push	4
		push	cs
		call	near ptr sub_1B70C
		add	sp, 8
		push	1
		push	1
		push	2
		push	1
		push	800h
		push	4
		push	0
		push	3
		push	cs
		call	near ptr sub_1BFED
		add	sp, 10h
		push	ds
		push	260Ah
		call	sub_2029E
		add	sp, 4
		mov	word ptr [bp-2], 0
		xor	si, si
		jmp	short loc_1D1A1
; ---------------------------------------------------------------------------

loc_1D12D:				; CODE XREF: seg002:32D4j
		xor	di, di
		jmp	short loc_1D178
; ---------------------------------------------------------------------------

loc_1D131:				; CODE XREF: seg002:32ABj
		push	di
		push	si
		push	cs
		call	near ptr sub_19EDC
		add	sp, 4
		mov	[bp-0Ch], dx
		mov	[bp-0Eh], ax
		mov	ax, [bp-0Eh]
		or	ax, [bp-0Ch]
		jz	short loc_1D177
		les	bx, [bp-0Eh]
		cmp	byte ptr es:[bx], 0
		jz	short loc_1D177
		push	0
		push	word ptr [bp-0Ch]
		push	word ptr [bp-0Eh]
		cmp	si, 1
		jnz	short loc_1D163
		mov	ax, 5
		jmp	short loc_1D165
; ---------------------------------------------------------------------------

loc_1D163:				; CODE XREF: seg002:328Cj
		mov	ax, si

loc_1D165:				; CODE XREF: seg002:3291j
		push	ax
		push	cs
		call	near ptr sub_1B70C
		add	sp, 8
		cmp	si, 1
		jnz	short loc_1D177
		mov	word ptr [bp-2], 1

loc_1D177:				; CODE XREF: seg002:3276j seg002:327Fj ...
		inc	di

loc_1D178:				; CODE XREF: seg002:325Fj
		cmp	di, 3
		jl	short loc_1D131
		cmp	si, 1
		jnz	short loc_1D1A0
		cmp	word ptr [bp-2], 0
		jz	short loc_1D1A0
		push	0
		push	0
		push	1
		push	7
		push	800h
		push	5
		push	1
		push	6
		push	cs
		call	near ptr sub_1BFED
		add	sp, 10h

loc_1D1A0:				; CODE XREF: seg002:32B0j seg002:32B6j
		inc	si

loc_1D1A1:				; CODE XREF: seg002:325Bj
		cmp	si, 8
		jl	short loc_1D12D
		cmp	byte ptr ds:2686h, 0
		jz	short loc_1D1D1
		push	ds
		push	2686h
		call	sub_24C74
		add	sp, 4
		or	ax, ax
		jz	short loc_1D1D1
		push	ds
		push	offset aCantBeLoaded ; "‚ª“Ç‚Ýž‚ß‚Ü‚¹‚ñ‚Å‚µ‚½D\n"
		push	ds
		push	2686h
		push	ds
		push	offset aSongData ; "‹Èƒf[ƒ^ : "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1D1D1:				; CODE XREF: seg002:32DBj seg002:32EBj
		cmp	word ptr ds:2693h, 0
		jz	short loc_1D1E4
		push	0
		push	0
		call	sub_24823
		add	sp, 4

loc_1D1E4:				; CODE XREF: seg002:3306j
		jmp	short loc_1D1F8
; ---------------------------------------------------------------------------

loc_1D1E6:				; CODE XREF: seg002:31ACj seg002:31F9j
		les	bx, scnVarMemory
		mov	word ptr es:[bx+2], 3
		mov	scnResetFlag, 1
		jmp	short $+2

loc_1D1F8:				; CODE XREF: seg002:loc_1D1E4j
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------

scnF3_WriteUserSave:			; DATA XREF: dseg:scnCodeTblo
		enter	0Ah, 0
		push	ss
		lea	ax, [bp+0Ah]
		push	ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr ScnGetParameter
		add	sp, 8
		mov	[bp-2],	ax
		push	word ptr [bp-2]
		push	cs
		call	near ptr sub_1ADB4
		pop	cx
		mov	[bp-4],	dx
		mov	[bp-6],	ax
		push	ds
		push	offset aWb_0	; "wb"
		push	word ptr [bp-4]
		push	word ptr [bp-6]
		call	_fopen
		add	sp, 8
		mov	[bp-8],	dx
		mov	[bp-0Ah], ax
		or	ax, dx
		jnz	short loc_1D255
		push	ds
		push	offset aCantBeOpened2 ;	" ‚ªCƒI[ƒvƒ“‚Å‚«‚Ü‚¹‚ñD\n"
		push	word ptr [bp-4]
		push	word ptr [bp-6]
		push	ds
		push	offset aUserDataFile ; "ƒ†[ƒU[ƒf[ƒ^ƒtƒ@ƒCƒ‹ "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1D255:				; CODE XREF: seg002:336Dj
		mov	word ptr ds:2549h, 1
		push	word ptr [bp-8]
		push	word ptr [bp-0Ah]
		push	1
		push	14Ch
		push	ds
		push	2549h
		call	_fwrite
		add	sp, 0Ch
		push	word ptr [bp-8]
		push	word ptr [bp-0Ah]
		push	1
		mov	ax, ds:26A5h
		add	ax, ax
		push	ax
		push	word ptr scnVarMemory+2
		push	word ptr scnVarMemory
		call	_fwrite
		add	sp, 0Ch
		push	word ptr [bp-8]
		push	word ptr [bp-0Ah]
		call	_fclose
		add	sp, 4
		leave
		retf
; ---------------------------------------------------------------------------

scnF9_WriteSysSave:			; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		les	bx, scnVarMemory
		cmp	word ptr es:[bx+6], 0
		jnz	short loc_1D2BC
		les	bx, scnVarMemory
		mov	word ptr es:[bx+6], 1
		push	cs
		call	near ptr WriteSystemSave

loc_1D2BC:				; CODE XREF: seg002:33DCj
		pop	bp
		retf
; ---------------------------------------------------------------------------

scnFA_WriteSysSave:			; DATA XREF: dseg:scnCodeTblo
		push	bp
		mov	bp, sp
		les	bx, scnVarMemory
		cmp	word ptr es:[bx+8], 0
		jnz	short loc_1D2DA
		les	bx, scnVarMemory
		mov	word ptr es:[bx+8], 1
		push	cs
		call	near ptr WriteSystemSave

loc_1D2DA:				; CODE XREF: seg002:33FAj
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1D2DC	proc far		; CODE XREF: RunSCE+271p RunSCE+2BAp ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		or	si, si
		jge	short loc_1D2F1
		mov	ax, word_2A43A
		neg	ax
		sbb	ax, ax
		inc	ax
		mov	si, ax

loc_1D2F1:				; CODE XREF: sub_1D2DC+9j
		cmp	word_2A43A, si
		jz	short loc_1D324
		mov	word_2A43A, si
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		test	byte ptr es:[bx], 1
		jz	short loc_1D324
		or	si, si
		jnz	short loc_1D31A
		call	sub_1F71B
		call	sub_1F447
		jmp	short loc_1D324
; ---------------------------------------------------------------------------

loc_1D31A:				; CODE XREF: sub_1D2DC+30j
		call	sub_1F6C2
		call	sub_1F4EB

loc_1D324:				; CODE XREF: sub_1D2DC+19j
					; sub_1D2DC+2Cj ...
		pop	si
		pop	bp
		retf
sub_1D2DC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1D327	proc far		; CODE XREF: RunSCE+1A7p

var_30		= byte ptr -30h

		enter	30h, 0
		push	si
		lea	ax, [bp+var_30]
		push	ss
		push	ax
		push	ds
		push	offset SomePalData
		mov	cx, 30h
		call	SCOPY@
		push	cs
		call	near ptr sub_1ABA3
		xor	si, si
		jmp	short loc_1D364
; ---------------------------------------------------------------------------

loc_1D345:				; CODE XREF: sub_1D327+40j
		mov	ax, si
		imul	ax, 3
		add	ax, 260Ah
		push	ds
		push	ax
		mov	ax, si
		imul	ax, 3
		lea	dx, [bp+var_30]
		add	ax, dx
		push	ss
		push	ax
		mov	cx, 3
		call	SCOPY@
		inc	si

loc_1D364:				; CODE XREF: sub_1D327+1Cj
		cmp	si, 10h
		jl	short loc_1D345
		push	ds
		push	260Ah
		call	sub_2029E
		add	sp, 4
		push	ds
		push	2640h
		push	ds
		push	offset word_2A88F
		mov	cx, 46h	; 'F'
		call	SCOPY@
		push	ds
		push	2640h
		call	sub_22555
		add	sp, 4
		push	ds
		push	2640h
		call	sub_225C5
		add	sp, 4
		push	0FFFFh
		push	cs
		call	near ptr sub_1A041
		pop	cx
		mov	word ptr ds:2549h, 0
		xor	ax, ax
		mov	ds:263Ch, ax
		mov	ds:263Ah, ax
		mov	word ptr ds:263Eh, 0
		mov	byte ptr ds:2686h, 0
		mov	word ptr ds:2693h, 0
		pop	si
		leave
		retf
sub_1D327	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far RunSCE(char	*src)
RunSCE		proc far		; CODE XREF: _main+175P

buffer		= byte ptr -16h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
cmdID		= byte ptr -1
src		= dword	ptr  6

		enter	16h, 0
		push	si
		push	di
		push	0
		push	0		; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen1
		add	sp, 8
		mov	ds:26B7h, dx
		mov	ds:26B5h, ax
		or	ax, dx
		jnz	short loc_1D3FF
		push	ds
		push	offset aCantBeOpened3 ;	" ‚ªCƒI[ƒvƒ“‚Å‚«‚Ü‚¹‚ñD\n"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ds
		push	offset aModule	; "ƒ‚ƒWƒ…[ƒ‹ "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch

loc_1D3FF:				; CODE XREF: RunSCE+21j
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h ; __int32
		push	1		; n
		push	20h ; ' '       ; size
		push	ds
		push	2695h		; ptr
		call	fread1
		add	sp, 0Ch
		mov	word ptr scnCodeOfs+2, 0
		mov	word ptr scnCodeOfs, 20h
		mov	dx, ds:269Bh
		mov	ax, ds:2699h
		add	ax, 20h
		adc	dx, 0
		mov	word ptr scnMsgTblOfs+2, dx
		mov	word ptr scnMsgTblOfs, ax
		mov	dx, ds:269Bh
		mov	ax, ds:2699h
		add	ax, ds:269Dh
		adc	dx, ds:269Fh
		add	ax, 20h
		adc	dx, 0
		mov	word ptr scnMsgDataOfs+2, dx
		mov	word ptr scnMsgDataOfs,	ax
		push	0
		push	800h
		call	malloc_maybe
		add	sp, 4
		mov	word ptr scnCodeBuf+2, dx
		mov	word ptr scnCodeBuf, ax
		or	ax, dx
		jnz	short loc_1D477
		push	ds
		push	offset aScnMemErr_Code ; "ƒVƒiƒŠƒI(code)“Ç‚Ýž‚Ý—p‚Ìƒoƒbƒtƒ@‚ªŠm•"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1D477:				; CODE XREF: RunSCE+A3j
		mov	ax, ds:269Dh
		or	ax, ds:269Fh
		jnz	short loc_1D48C
		mov	word ptr ds:269Fh, 0
		mov	word ptr ds:269Dh, 4

loc_1D48C:				; CODE XREF: RunSCE+B8j
		push	0
		push	800h
		call	malloc_maybe
		add	sp, 4
		mov	word ptr scnMsgTblBuf+2, dx
		mov	word ptr scnMsgTblBuf, ax
		or	ax, dx
		jnz	short loc_1D4B0
		push	ds
		push	offset aScnMemErr_MTbl ; "ƒVƒiƒŠƒI(msgtable)“Ç‚Ýž‚Ý—p‚Ìƒoƒbƒtƒ@‚"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1D4B0:				; CODE XREF: RunSCE+DCj
		mov	ax, ds:26A1h
		or	ax, ds:26A3h
		jnz	short loc_1D4C5
		mov	word ptr ds:26A3h, 0
		mov	word ptr ds:26A1h, 1

loc_1D4C5:				; CODE XREF: RunSCE+F1j
		push	0
		push	800h
		call	malloc_maybe
		add	sp, 4
		mov	word ptr scnMsgDataBuf+2, dx
		mov	word ptr scnMsgDataBuf,	ax
		or	ax, dx
		jnz	short loc_1D4E9
		push	ds
		push	offset aScnMemErr_Msg ;	"ƒVƒiƒŠƒI(msg)“Ç‚Ýž‚Ý—p‚Ìƒoƒbƒtƒ@‚ªŠm•Û"...
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1D4E9:				; CODE XREF: RunSCE+115j
		mov	ax, ds:26A5h
		or	ax, ds:26A7h
		jnz	short loc_1D4FE
		mov	word ptr ds:26A7h, 0
		mov	word ptr ds:26A5h, 1

loc_1D4FE:				; CODE XREF: RunSCE+12Aj
		push	0
		push	2		; unitsz
		push	word ptr ds:26A7h
		push	word ptr ds:26A5h ; nunits
		call	_farcalloc
		add	sp, 8
		mov	word ptr scnVarMemory+2, dx
		mov	word ptr scnVarMemory, ax
		or	ax, dx
		jnz	short loc_1D529
		push	ds
		push	offset aMemErr_Vars ; "•Ï”—p‚Ìƒoƒbƒtƒ@‚ªŠm•Û‚Å‚«‚Ü‚¹‚ñ\n"
		call	PrintErrExit1
; ---------------------------------------------------------------------------
		add	sp, 4

loc_1D529:				; CODE XREF: RunSCE+155j
		push	0
		push	0
		push	cs
		call	near ptr LoadScn_Code
		add	sp, 4
		push	0
		push	0
		push	cs
		call	near ptr LoadScn_MTbl
		add	sp, 4
		push	0
		push	0
		push	cs
		call	near ptr LoadScn_Msgs
		add	sp, 4
		mov	ax, word_29C31
		mov	[bp+var_6], ax
		mov	[bp+var_8], 0
		cmp	word_29C39, 0
		jz	short loc_1D562
		mov	word_2A438, 1

loc_1D562:				; CODE XREF: RunSCE+194j
		les	bx, scnVarMemory
		mov	word ptr es:[bx+2], 0

scnMainLoop1:				; CODE XREF: RunSCE+3E1j
		push	cs
		call	near ptr sub_1D327
		push	cs
		call	near ptr sub_1CFD2
		push	cs
		call	near ptr InitVarMemory
		mov	word ptr ds:254Dh, 0
		mov	word ptr ds:254Bh, 0

scnMainLoop2:				; CODE XREF: RunSCE+3F7j
		call	sub_24E62
		mov	dx, ds:254Dh
		mov	ax, ds:254Bh
		mov	ds:2551h, dx
		mov	ds:254Fh, ax
		push	ds
		push	254Bh
		push	cs
		call	near ptr GetScnCodeWord	; read command size
		add	sp, 4
		mov	[bp+var_4], ax
		push	word ptr ds:254Dh
		push	word ptr ds:254Bh
		push	cs
		call	near ptr PeekScnCodeByte ; read	command	ID
		add	sp, 4
		mov	[bp+cmdID], al
		cmp	[bp+cmdID], 0
		jz	short snc82_End
		cmp	[bp+cmdID], 82h
		jnz	short loc_1D5C6

snc82_End:				; CODE XREF: RunSCE+1F5j
		jmp	scnExecEnd
; ---------------------------------------------------------------------------

loc_1D5C6:				; CODE XREF: RunSCE+1FBj
		cmp	[bp+cmdID], 8Ah
		jnz	short loc_1D5D1

scn8Aprep:
		mov	[bp+var_6], 0

loc_1D5D1:				; CODE XREF: RunSCE+204j
		cmp	[bp+var_6], 0
		jnz	short loc_1D5E0
		cmp	[bp+var_8], 0
		jnz	short loc_1D5E0
		jmp	loc_1D68D
; ---------------------------------------------------------------------------

loc_1D5E0:				; CODE XREF: RunSCE+20Fj RunSCE+215j
		cmp	word_2A438, 0
		jnz	short loc_1D62D

loc_1D5E7:				; CODE XREF: RunSCE:loc_1D62Bj
		call	_kbhit
		or	ax, ax
		jnz	short loc_1D5F3
		jmp	loc_1D68D
; ---------------------------------------------------------------------------

loc_1D5F3:				; CODE XREF: RunSCE+228j
		call	getch
		push	ax		; ch
		call	_toupper
		pop	cx
		mov	si, ax
		cmp	si, 'G'
		jnz	short loc_1D609
		jmp	loc_1D68D
; ---------------------------------------------------------------------------

loc_1D609:				; CODE XREF: RunSCE+23Ej
		cmp	si, 'S'
		jnz	short loc_1D616
		mov	word_2A438, 1
		jmp	short loc_1D62D
; ---------------------------------------------------------------------------

loc_1D616:				; CODE XREF: RunSCE+246j
		cmp	si, 'F'
		jnz	short loc_1D623
		mov	word_2A438, 2
		jmp	short loc_1D62D
; ---------------------------------------------------------------------------

loc_1D623:				; CODE XREF: RunSCE+253j
		cmp	si, 3
		jnz	short loc_1D62B
		jmp	scnExecEnd
; ---------------------------------------------------------------------------

loc_1D62B:				; CODE XREF: RunSCE+260j
		jmp	short loc_1D5E7
; ---------------------------------------------------------------------------

loc_1D62D:				; CODE XREF: RunSCE+21Fj RunSCE+24Ej ...
		cmp	word_2A438, 2
		jnz	short loc_1D63B
		push	1
		push	cs
		call	near ptr sub_1D2DC
		pop	cx

loc_1D63B:				; CODE XREF: RunSCE+26Cj
					; RunSCE:loc_1D684j
		call	getch
		push	ax		; ch
		call	_toupper
		pop	cx
		mov	si, ax
		cmp	si, 'G'
		jnz	short loc_1D656
		mov	word_2A438, 0
		jmp	short loc_1D686
; ---------------------------------------------------------------------------

loc_1D656:				; CODE XREF: RunSCE+286j
		cmp	si, 'S'
		jnz	short loc_1D663
		mov	word_2A438, 1
		jmp	short loc_1D686
; ---------------------------------------------------------------------------

loc_1D663:				; CODE XREF: RunSCE+293j
		cmp	si, 'F'
		jnz	short loc_1D670
		mov	word_2A438, 2
		jmp	short loc_1D686
; ---------------------------------------------------------------------------

loc_1D670:				; CODE XREF: RunSCE+2A0j
		cmp	si, 3
		jnz	short loc_1D678
		jmp	scnExecEnd
; ---------------------------------------------------------------------------

loc_1D678:				; CODE XREF: RunSCE+2ADj
		cmp	si, 'T'
		jnz	short loc_1D684
		push	0FFFFh
		push	cs
		call	near ptr sub_1D2DC
		pop	cx

loc_1D684:				; CODE XREF: RunSCE+2B5j
		jmp	short loc_1D63B
; ---------------------------------------------------------------------------

loc_1D686:				; CODE XREF: RunSCE+28Ej RunSCE+29Bj ...
		push	0
		push	cs
		call	near ptr sub_1D2DC
		pop	cx

loc_1D68D:				; CODE XREF: RunSCE+217j RunSCE+22Aj ...
		cmp	[bp+cmdID], 8Bh
		jnz	short loc_1D6A0

scn8Bprep:
		mov	[bp+var_8], 1
		mov	ax, word_29C31
		mov	[bp+var_6], ax
		jmp	short codeScanStart
; ---------------------------------------------------------------------------

loc_1D6A0:				; CODE XREF: RunSCE+2CBj
		mov	[bp+var_8], 0

codeScanStart:				; CODE XREF: RunSCE+2D8j
		mov	word ptr [bp+var_C+2], ds
		mov	word ptr [bp+var_C], offset scnCodeTbl
		jmp	short loc_1D6EC
; ---------------------------------------------------------------------------

codeScanLoop1:				; CODE XREF: RunSCE+32Dj
		xor	di, di
		jmp	short loc_1D6E1
; ---------------------------------------------------------------------------

codeScanLoop2:				; CODE XREF: RunSCE+31Ej
		les	bx, [bp+var_C]
		add	bx, di
		cmp	byte ptr es:[bx], 0FFh
		jnz	short loc_1D6C0
		jmp	short codeScanEnd
; ---------------------------------------------------------------------------

loc_1D6C0:				; CODE XREF: RunSCE+2F6j
		mov	ax, di
		cwd
		add	ax, ds:254Bh
		adc	dx, ds:254Dh
		push	dx
		push	ax
		push	cs
		call	near ptr PeekScnCodeByte
		add	sp, 4
		les	bx, [bp+var_C]
		add	bx, di
		cmp	al, es:[bx]
		jz	short loc_1D6E0
		jmp	short loc_1D6E8
; ---------------------------------------------------------------------------

loc_1D6E0:				; CODE XREF: RunSCE+316j
		inc	di

loc_1D6E1:				; CODE XREF: RunSCE+2EBj
		cmp	di, 4
		jl	short codeScanLoop2
		jmp	short codeScanEnd
; ---------------------------------------------------------------------------

loc_1D6E8:				; CODE XREF: RunSCE+318j
		add	word ptr [bp+var_C], 8

loc_1D6EC:				; CODE XREF: RunSCE+2E7j
		les	bx, [bp+var_C]
		cmp	byte ptr es:[bx], 0FFh
		jnz	short codeScanLoop1
		push	word ptr ds:2551h
		push	word ptr ds:254Fh
		push	ds
		push	offset a08lx	; "%08lX"
		push	ss
		lea	ax, [bp+buffer]
		push	ax		; buffer
		call	_sprintf
		add	sp, 0Ch
		push	ds
		push	offset aCantInterpret ;	" ‚©‚ç‚ª‰ðŽß‚Å‚«‚Ü‚¹‚ñD\n"
		push	ss
		lea	ax, [bp+buffer]
		push	ax
		push	ds
		push	offset aCodeAreaAddr ; "ƒR[ƒh—Ìˆæ‚ÌƒAƒhƒŒƒX "
		call	PrintErrExit2
; ---------------------------------------------------------------------------
		add	sp, 0Ch
		jmp	loc_1D7AA
; ---------------------------------------------------------------------------

codeScanEnd:				; CODE XREF: RunSCE+2F8j RunSCE+320j
		mov	ax, di
		cwd
		add	ds:254Bh, ax
		adc	ds:254Dh, dx
		mov	word ptr scnJumpDestPos+2, 0FFFFh
		mov	word ptr scnJumpDestPos, 0FFFFh
		mov	scnReqExit, 0
		mov	scnResetFlag, 0
		push	word ptr ds:254Dh
		push	word ptr ds:254Bh
		push	word ptr ds:2551h
		push	word ptr ds:254Fh
		les	bx, [bp+var_C]
		call	dword ptr es:[bx+4]
		add	sp, 8
		cmp	word ptr scnJumpDestPos+2, 0FFFFh
		jnz	short loc_1D771
		cmp	word ptr scnJumpDestPos, 0FFFFh
		jz	short loc_1D797

loc_1D771:				; CODE XREF: RunSCE+3A2j
		mov	dx, word ptr scnJumpDestPos+2
		mov	ax, word ptr scnJumpDestPos
		mov	ds:2551h, dx
		mov	ds:254Fh, ax
		mov	ds:254Dh, dx
		mov	ds:254Bh, ax
		mov	[bp+var_4], 0
		mov	word ptr scnJumpDestPos+2, 0FFFFh
		mov	word ptr scnJumpDestPos, 0FFFFh

loc_1D797:				; CODE XREF: RunSCE+3A9j
		cmp	scnReqExit, 0
		jz	short loc_1D7A0
		jmp	short scnExecEnd
; ---------------------------------------------------------------------------

loc_1D7A0:				; CODE XREF: RunSCE+3D6j
		cmp	scnResetFlag, 0
		jz	short loc_1D7AA
		jmp	scnMainLoop1
; ---------------------------------------------------------------------------

loc_1D7AA:				; CODE XREF: RunSCE+35Dj RunSCE+3DFj
		mov	ax, [bp+var_4]
		cwd
		add	ax, ds:254Fh
		adc	dx, ds:2551h
		mov	ds:254Dh, dx
		mov	ds:254Bh, ax
		jmp	scnMainLoop2
; ---------------------------------------------------------------------------

scnExecEnd:				; CODE XREF: RunSCE:snc82_Endj
					; RunSCE+262j ...
		call	sub_249C6
		or	ax, ax
		jz	short loc_1D7D5
		push	0
		push	0
		call	sub_248F0
		add	sp, 4

loc_1D7D5:				; CODE XREF: RunSCE+401j
		push	ds
		push	2640h
		call	sub_22670
		add	sp, 4
		push	ds
		push	2640h
		call	sub_225AD
		add	sp, 4
		push	word ptr ds:26B7h
		push	word ptr ds:26B5h
		call	sub_1EB2E
		add	sp, 4
		xor	ax, ax

loc_1D7FF:
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
RunSCE		endp

seg002		ends

; ===========================================================================

; Segment type:	Pure code
seg003		segment	byte public 'CODE' use16
		assume cs:seg003
		;org 5
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_1D805(double, double, int, int,	int, int, int, int, int, int, int, int,	int, int, int)
sub_1D805	proc far		; CODE XREF: sub_1DC31+330p
					; sub_1DC31+3C0p

var_E		= qword	ptr -0Eh
var_2		= word ptr -2
arg_0		= qword	ptr  6
arg_8		= qword	ptr  0Eh
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh
arg_1A		= word ptr  20h
arg_1C		= word ptr  22h
arg_1E		= word ptr  24h
arg_20		= word ptr  26h
arg_22		= word ptr  28h
arg_24		= word ptr  2Ah
arg_26		= word ptr  2Ch
arg_28		= word ptr  2Eh

		enter	2, 0
		push	si
		push	di
		mov	di, [bp+arg_1C]
		mov	si, [bp+arg_1E]
		mov	ax, [bp+arg_24]
		mov	word_2B108, ax
		mov	ax, [bp+arg_10]
		mov	word_2B10A, ax
		mov	ax, [bp+arg_12]
		mov	word_2B10C, ax
		mov	ax, [bp+arg_18]
		mov	word_2B10E, ax
		xor	ax, ax
		mov	word_2B112, ax
		mov	word_2B110, ax
		mov	bx, word_2B10A
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	word_2B114, ax
		mov	bx, word_2B10A
		shl	bx, 4
		mov	ax, word_2B10C
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+13A0h]	; int
		mov	ax, [bx+139Eh]
		add	ax, [bp+arg_14]	; int
		push	dx
		push	ax
		mov	ax, [bp+arg_16]
		imul	word_2B114
		pop	dx
		add	dx, ax
		pop	ax
		mov	word ptr dword_2B104+2,	ax
		mov	word ptr dword_2B104, dx
		fld	M_PI		; (emulator call)
		fmul	[bp+arg_0]	; (emulator call)
		fdiv	flt_2ADBE	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_E]	; (emulator call)
		wait			; (emulator call)
		call	sub_110AC
		add	sp, 8
		fmul	[bp+arg_8]	; (emulator call)
		fmul	flt_2ADC2	; (emulator call)
		fadd	flt_2ADC6	; (emulator call)
		call	sub_110FC
		mov	word_2B11A, ax
		fld	M_PI		; (emulator call)
		fmul	[bp+arg_0]	; (emulator call)
		fdiv	flt_2ADBE	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_E]	; (emulator call)
		wait			; (emulator call)
		call	sub_10FAE
		add	sp, 8
		fchs			; (emulator call)
		fmul	[bp+arg_8]	; (emulator call)
		fmul	flt_2ADCA	; (emulator call)
		fadd	flt_2ADC6	; (emulator call)
		call	sub_110FC
		mov	word_2B11C, ax
		fld	M_PI		; (emulator call)
		fmul	[bp+arg_0]	; (emulator call)
		fdiv	flt_2ADBE	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_E]	; (emulator call)
		wait			; (emulator call)
		call	sub_10FAE
		add	sp, 8
		fmul	[bp+arg_8]	; (emulator call)
		fmul	flt_2ADC2	; (emulator call)
		fadd	flt_2ADC6	; (emulator call)
		call	sub_110FC
		mov	word_2B11E, ax
		fld	M_PI		; (emulator call)
		fmul	[bp+arg_0]	; (emulator call)
		fdiv	flt_2ADBE	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_E]	; (emulator call)
		wait			; (emulator call)
		call	sub_110AC
		add	sp, 8
		fmul	[bp+arg_8]	; (emulator call)
		fmul	flt_2ADCA	; (emulator call)
		fadd	flt_2ADC6	; (emulator call)
		call	sub_110FC
		mov	word_2B120, ax
		mov	ax, [bp+arg_26]
		shl	ax, 7
		push	ax
		mov	ax, word_2B11A
		imul	[bp+arg_20]
		pop	dx
		sub	dx, ax
		mov	ax, word_2B11E
		push	dx
		imul	[bp+arg_22]
		pop	dx
		sub	dx, ax
		mov	word_2B116, dx
		mov	ax, [bp+arg_28]
		shl	ax, 8
		push	ax
		mov	ax, word_2B11C
		imul	[bp+arg_20]
		pop	dx
		sub	dx, ax
		mov	ax, word_2B120
		push	dx
		imul	[bp+arg_22]
		pop	dx
		sub	dx, ax
		mov	word_2B118, dx
		or	di, di
		jle	short loc_1D99E
		mov	ax, word_2B11E
		imul	di
		add	word_2B116, ax
		mov	ax, word_2B120
		imul	di
		add	word_2B118, ax
		mov	ax, word_2B114
		imul	di
		add	word ptr dword_2B104, ax

loc_1D99E:				; CODE XREF: sub_1D805+17Cj
		call	sub_236EB
		mov	[bp+var_2], 0
		jmp	short loc_1D9D8
; ---------------------------------------------------------------------------

loc_1D9AA:				; CODE XREF: sub_1D805+1D9j
		call	sub_23743
		cmp	si, 1
		jle	short loc_1D9D5
		lea	ax, [si-1]
		imul	word_2B11E
		add	word_2B116, ax
		lea	ax, [si-1]
		imul	word_2B120
		add	word_2B118, ax
		lea	ax, [si-1]
		imul	word_2B114
		add	word ptr dword_2B104, ax

loc_1D9D5:				; CODE XREF: sub_1D805+1ADj
		add	[bp+var_2], si

loc_1D9D8:				; CODE XREF: sub_1D805+1A3j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_1A]
		jl	short loc_1D9AA
		call	sub_237B7
		pop	di
		pop	si
		leave
		retf
sub_1D805	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1D9E9	proc far		; CODE XREF: sub_1DC31+639p
					; sub_1DC31+66Cp

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_10]
		mov	si, [bp+arg_12]
		mov	ax, [bp+arg_14]
		mov	word_2B108, ax
		mov	ax, [bp+arg_0]
		mov	word_2B10A, ax
		mov	ax, [bp+arg_2]
		mov	word_2B10C, ax
		mov	ax, [bp+arg_8]
		mov	word_2B10E, ax
		mov	ax, [bp+arg_C]
		mov	word_2B110, ax
		mov	ax, [bp+arg_E]
		mov	word_2B112, ax
		mov	bx, word_2B10A
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	word_2B114, ax
		mov	bx, word_2B10A
		shl	bx, 4
		mov	ax, word_2B10C
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		add	ax, [bp+arg_4]
		push	dx
		push	ax
		mov	ax, [bp+arg_6]
		imul	word_2B114
		pop	dx
		add	dx, ax
		pop	ax
		mov	word ptr dword_2B104+2,	ax
		mov	word ptr dword_2B104, dx
		mov	ax, [bp+arg_8]
		mov	[bp+var_4], ax
		fild	[bp+var_4]	; (emulator call)
		fdivr	flt_2ADCE	; (emulator call)
		fmul	flt_2ADC2	; (emulator call)
		fadd	flt_2ADC6	; (emulator call)
		call	sub_110FC
		mov	word_2B11A, ax
		mov	word_2B11C, 0
		mov	word_2B11E, 0
		mov	ax, [bp+arg_A]
		mov	[bp+var_4], ax
		fild	[bp+var_4]	; (emulator call)
		fdivr	flt_2ADC2	; (emulator call)
		fmul	flt_2ADCA	; (emulator call)
		fadd	flt_2ADC6	; (emulator call)
		call	sub_110FC
		mov	word_2B120, ax
		mov	word_2B116, 0
		mov	word_2B118, 0
		or	di, di
		jle	short loc_1DACD
		mov	ax, word_2B11E
		imul	di
		add	word_2B116, ax
		mov	ax, word_2B120
		imul	di
		add	word_2B118, ax
		mov	ax, word_2B114
		imul	di
		add	word ptr dword_2B104, ax

loc_1DACD:				; CODE XREF: sub_1D9E9+C7j
		call	sub_236EB
		mov	[bp+var_2], 0
		jmp	short loc_1DB07
; ---------------------------------------------------------------------------

loc_1DAD9:				; CODE XREF: sub_1D9E9+124j
		call	sub_23743
		cmp	si, 1
		jle	short loc_1DB04
		lea	ax, [si-1]
		imul	word_2B11E
		add	word_2B116, ax
		lea	ax, [si-1]
		imul	word_2B120
		add	word_2B118, ax
		lea	ax, [si-1]
		imul	word_2B114
		add	word ptr dword_2B104, ax

loc_1DB04:				; CODE XREF: sub_1D9E9+F8j
		add	[bp+var_2], si

loc_1DB07:				; CODE XREF: sub_1D9E9+EEj
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_A]
		jl	short loc_1DAD9
		call	sub_237B7
		pop	di
		pop	si
		leave
		retf
sub_1D9E9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1DB18	proc far		; CODE XREF: sub_1DC31+1B8p
					; sub_1DC31+1E1p ...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	6, 0
		push	si
		mov	si, [bp+arg_0]
		mov	ax, si
		mov	bx, 600h
		xor	dx, dx
		div	bx
		mov	si, dx
		mov	ax, [bp+arg_2]
		sub	ax, [bp+arg_4]
		mov	dx, si
		and	dx, 0FFh
		imul	dx
		mov	bx, 0FFh
		xor	dx, dx
		div	bx
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_2]
		sub	ax, [bp+var_2]
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_4]
		add	[bp+var_2], ax
		mov	ax, si
		and	ax, 0F00h
		mov	[bp+var_6], ax
		mov	cx, 6		; switch 6 cases
		mov	bx, offset word_1DC19

loc_1DB60:				; CODE XREF: sub_1DB18+53j
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_6]
		jz	short loc_1DB70
		add	bx, 2
		loop	loc_1DB60
		jmp	loc_1DBF7	; jumptable 0001DB70 default case
; ---------------------------------------------------------------------------

loc_1DB70:				; CODE XREF: sub_1DB18+4Ej
		jmp	word ptr cs:[bx+0Ch] ; switch jump

loc_1DB74:				; DATA XREF: seg003:0425o
		les	bx, [bp+arg_6]	; jumptable 0001DB70 case 0
		mov	al, byte ptr [bp+arg_2]
		mov	es:[bx+1], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx+2], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+arg_4]
		jmp	loc_1DC11
; ---------------------------------------------------------------------------

loc_1DB91:				; CODE XREF: sub_1DB18:loc_1DB70j
					; DATA XREF: seg003:0425o
		les	bx, [bp+arg_6]	; jumptable 0001DB70 case 256
		mov	al, byte ptr [bp+var_4]
		mov	es:[bx+1], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+arg_2]
		mov	es:[bx+2], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+arg_4]
		jmp	short loc_1DC11
; ---------------------------------------------------------------------------

loc_1DBAD:				; CODE XREF: sub_1DB18:loc_1DB70j
					; DATA XREF: seg003:0425o
		les	bx, [bp+arg_6]	; jumptable 0001DB70 case 512
		mov	al, byte ptr [bp+arg_4]
		mov	es:[bx+1], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+arg_2]
		mov	es:[bx+2], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+var_2]
		jmp	short loc_1DC11
; ---------------------------------------------------------------------------

loc_1DBC9:				; CODE XREF: sub_1DB18:loc_1DB70j
					; DATA XREF: seg003:0425o
		les	bx, [bp+arg_6]	; jumptable 0001DB70 case 768
		mov	al, byte ptr [bp+arg_4]
		mov	es:[bx+1], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+var_4]
		jmp	short loc_1DBEB
; ---------------------------------------------------------------------------

loc_1DBDB:				; CODE XREF: sub_1DB18:loc_1DB70j
					; DATA XREF: seg003:0425o
		les	bx, [bp+arg_6]	; jumptable 0001DB70 case 1024
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx+1], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+arg_4]

loc_1DBEB:				; CODE XREF: sub_1DB18+C1j
		mov	es:[bx+2], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+arg_2]
		jmp	short loc_1DC11
; ---------------------------------------------------------------------------

loc_1DBF7:				; CODE XREF: sub_1DB18+55j
					; sub_1DB18:loc_1DB70j
					; DATA XREF: ...
		les	bx, [bp+arg_6]	; jumptable 0001DB70 default case
		mov	al, byte ptr [bp+arg_2]
		mov	es:[bx+1], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+arg_4]
		mov	es:[bx+2], al
		les	bx, [bp+arg_6]
		mov	al, byte ptr [bp+var_4]

loc_1DC11:				; CODE XREF: sub_1DB18+76j
					; sub_1DB18+93j ...
		mov	es:[bx], al
		jmp	short $+2
		pop	si
		leave
		retf
sub_1DB18	endp

; ---------------------------------------------------------------------------
word_1DC19	dw	0,  100h,  200h,  300h ; DATA XREF: sub_1DB18+45o
		dw   400h,  500h	; value	table for switch statement
		dw offset loc_1DB74	; jump table for switch	statement
		dw offset loc_1DB91
		dw offset loc_1DBAD
		dw offset loc_1DBC9
		dw offset loc_1DBDB
		dw offset loc_1DBF7

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1DC31	proc far		; CODE XREF: seg002:16B0P

var_B8		= qword	ptr -0B8h
var_B0		= qword	ptr -0B0h
var_8A		= byte ptr -8Ah
var_89		= byte ptr -89h
var_88		= byte ptr -88h
var_5A		= byte ptr -5Ah
var_59		= byte ptr -59h
var_58		= byte ptr -58h
var_57		= byte ptr -57h
var_56		= byte ptr -56h
var_55		= byte ptr -55h
var_54		= byte ptr -54h
var_51		= byte ptr -51h
var_4B		= byte ptr -4Bh
var_4A		= byte ptr -4Ah
var_49		= byte ptr -49h
var_45		= byte ptr -45h
var_44		= byte ptr -44h
var_43		= byte ptr -43h
var_42		= byte ptr -42h
var_41		= byte ptr -41h
var_40		= byte ptr -40h
var_3C		= byte ptr -3Ch
var_3B		= byte ptr -3Bh
var_3A		= byte ptr -3Ah
var_2A		= dword	ptr -2Ah
size		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= word ptr -20h
ptr		= dword	ptr -1Eh
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= qword	ptr -14h
segx		= word ptr -0Ch
var_A		= dword	ptr -0Ah
var_6		= word ptr -6
src		= dword	ptr -4
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	8Ah, 0
		push	si
		push	di
		mov	ax, word_2ADB2
		mov	word ptr [bp+var_2A], ax
		fild	word ptr [bp+var_2A] ; (emulator call)
		fstp	[bp+var_14]	; (emulator call)
		wait			; (emulator call)
		mov	ax, word_2ADB4
		mov	word_2ADB2, ax
		fld	[bp+var_14]	; (emulator call)
		call	sub_110FC
		mov	word_2ADB4, ax
		push	0Dh
		push	ds
		push	253Ch
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	sub_1AAE0
		add	sp, 0Eh
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		push	ss
		lea	ax, [bp+arg_4]
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	ScnGetParameter
		add	sp, 8
		mov	[bp+var_6], ax
		push	ss
		lea	ax, [bp+segx]
		push	ax		; segp
		push	1000h		; size
		call	__dos_allocmem
		add	sp, 6
		or	ax, ax
		jz	short loc_1DCAA
		mov	[bp+segx], 0
		jmp	loc_1E3A8
; ---------------------------------------------------------------------------

loc_1DCAA:				; CODE XREF: sub_1DC31+6Fj
		mov	ax, [bp+segx]
		mov	word ptr [bp+ptr+2], ax
		mov	word ptr [bp+ptr], 0
		push	0
		push	0		; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen1
		add	sp, 8
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		or	ax, dx
		jnz	short loc_1DCD4
		jmp	loc_1E3A8
; ---------------------------------------------------------------------------

loc_1DCD4:				; CODE XREF: sub_1DC31+9Ej
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_1EBFB
		add	sp, 4
		mov	[bp+var_24], dx
		mov	[bp+size], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A] ; __int32
		push	1		; n
		push	[bp+size]	; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_1EB2E
		add	sp, 4
		mov	dx, word ptr [bp+ptr+2]
		mov	ax, word ptr [bp+ptr]
		mov	[bp+var_20], dx
		mov	[bp+var_22], ax
		push	4
		push	0
		push	0
		push	0
		push	0
		push	0
		push	ss
		lea	ax, [bp+var_22]
		push	ax
		call	sub_233A0
		add	sp, 10h
		or	ax, ax
		jz	short loc_1DD3B
		jmp	loc_1E3A8
; ---------------------------------------------------------------------------

loc_1DD3B:				; CODE XREF: sub_1DC31+105j
		push	80h ; '€'
		push	40h ; '@'
		push	6
		push	8
		push	0
		push	4
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr]
		call	sub_23689
		add	sp, 10h
		xor	si, si
		jmp	short loc_1DD84
; ---------------------------------------------------------------------------

loc_1DD5A:				; CODE XREF: sub_1DC31+156j
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_5A]
		add	bx, ax
		mov	al, 0
		mov	ss:[bx], al
		mov	bx, si
		imul	bx, 3
		lea	dx, [bp+var_58]
		add	bx, dx
		mov	ss:[bx], al
		mov	bx, si
		imul	bx, 3
		lea	dx, [bp+var_59]
		add	bx, dx
		mov	ss:[bx], al
		inc	si

loc_1DD84:				; CODE XREF: sub_1DC31+127j
		cmp	si, 10h
		jl	short loc_1DD5A
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		mov	word ptr es:[bx+10h], 0
		fldz			; (emulator call)
		fst	[bp+var_14]	; (emulator call)
		wait			; (emulator call)
		call	sub_110FC
		mov	[bp+var_18], ax
		fld	flt_2ADD2	; (emulator call)
		fsub	[bp+var_14]	; (emulator call)
		call	sub_110FC
		mov	[bp+var_1A], ax
		push	ss
		lea	ax, [bp+var_57]
		push	ax
		fld	[bp+var_14]	; (emulator call)
		fdiv	flt_2ADD6	; (emulator call)
		call	sub_110FC
		push	ax
		mov	ax, [bp+var_1A]
		mov	bx, 4
		cwd
		idiv	bx
		mov	dx, 0FFh
		sub	dx, ax
		push	dx
		mov	ax, [bp+var_1A]
		imul	word_2ADB2
		add	ax, 200h
		push	ax
		push	cs
		call	near ptr sub_1DB18
		add	sp, 0Ah
		push	ss
		lea	ax, [bp+var_54]
		push	ax
		fld	[bp+var_14]	; (emulator call)
		fdiv	flt_2ADD6	; (emulator call)
		call	sub_110FC
		push	ax
		push	0FFh
		mov	ax, [bp+var_1A]
		imul	word_2ADB4
		add	ax, 200h
		push	ax
		push	cs
		call	near ptr sub_1DB18
		add	sp, 0Ah
		push	ss
		lea	ax, [bp+var_5A]
		push	ax
		call	sub_2029E
		add	sp, 4

loc_1DE25:				; CODE XREF: sub_1DC31:loc_1E092j
		call	Get28E4
		mov	bx, ax
		mov	es, dx
		mov	ax, es:[bx+10h]
		mov	word ptr [bp+var_2A], ax
		mov	word ptr [bp+var_2A+2],	0
		fild	[bp+var_2A]	; (emulator call)
		fstp	[bp+var_14]	; (emulator call)
		wait			; (emulator call)
		mov	ax, [bp+var_18]
		mov	word ptr [bp+var_2A], ax
		fild	word ptr [bp+var_2A] ; (emulator call)
		fcomp	[bp+var_14]	; (emulator call)
		fnstsw	word ptr [bp+var_2A] ; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_2A]
		sahf
		jbe	short loc_1DE6E
		mov	ax, [bp+var_18]
		mov	word ptr [bp+var_2A], ax
		fild	word ptr [bp+var_2A] ; (emulator call)
		fstp	[bp+var_14]	; (emulator call)
		wait			; (emulator call)

loc_1DE6E:				; CODE XREF: sub_1DC31+22Bj
		fld	[bp+var_14]	; (emulator call)
		fcomp	flt_2ADDA	; (emulator call)
		fnstsw	word ptr [bp+var_2A] ; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_2A]
		sahf
		jbe	short loc_1DE9C
		fld	[bp+var_14]	; (emulator call)
		fsub	flt_2ADDA	; (emulator call)
		fmul	flt_2ADDE	; (emulator call)
		fadd	flt_2ADDA	; (emulator call)
		fstp	[bp+var_14]	; (emulator call)
		wait			; (emulator call)

loc_1DE9C:				; CODE XREF: sub_1DC31+250j
		fld	[bp+var_14]	; (emulator call)
		fcomp	flt_2ADE2	; (emulator call)
		fnstsw	word ptr [bp+var_2A] ; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_2A]
		sahf
		jbe	short loc_1DECA
		fld	[bp+var_14]	; (emulator call)
		fsub	flt_2ADE2	; (emulator call)
		fmul	flt_2ADDE	; (emulator call)
		fadd	flt_2ADE2	; (emulator call)
		fstp	[bp+var_14]	; (emulator call)
		wait			; (emulator call)

loc_1DECA:				; CODE XREF: sub_1DC31+27Ej
		fld	[bp+var_14]	; (emulator call)
		fcomp	flt_2ADE6	; (emulator call)
		fnstsw	word ptr [bp+var_2A] ; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_2A]
		sahf
		jbe	short loc_1DEF8
		fld	[bp+var_14]	; (emulator call)
		fsub	flt_2ADE6	; (emulator call)
		fmul	flt_2ADDE	; (emulator call)
		fadd	flt_2ADE6	; (emulator call)
		fstp	[bp+var_14]	; (emulator call)
		wait			; (emulator call)

loc_1DEF8:				; CODE XREF: sub_1DC31+2ACj
		fld	[bp+var_14]	; (emulator call)
		fcomp	flt_2ADD2	; (emulator call)
		fnstsw	word ptr [bp+var_2A] ; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_2A]
		sahf
		jbe	short loc_1DF18
		fld	flt_2ADD2	; (emulator call)
		fstp	[bp+var_14]	; (emulator call)
		wait			; (emulator call)

loc_1DF18:				; CODE XREF: sub_1DC31+2DAj
		push	40h ; '@'       ; int
		push	100h		; int
		push	[bp+segx]	; int
		push	40h ; '@'       ; int
		push	100h		; int
		push	2		; int
		push	0		; int
		push	80h ; '€'       ; int
		push	40h ; '@'       ; int
		push	88h ; 'ˆ'       ; int
		push	8		; int
		push	0		; int
		push	0		; int
		fld	flt_2ADD2	; (emulator call)
		fsub	[bp+var_14]	; (emulator call)
		fadd	flt_2ADEA	; (emulator call)
		fdiv	flt_2ADEA	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_B0]	; (emulator call)
		fld	[bp+var_14]	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_B8]	; (emulator call)
		wait			; (emulator call)
		push	cs
		call	near ptr sub_1D805
		add	sp, 2Ah
		fld	[bp+var_14]	; (emulator call)
		fcomp	flt_2ADBE	; (emulator call)
		fnstsw	word ptr [bp+var_2A] ; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_2A]
		sahf
		ja	short loc_1DFB3
		push	40h ; '@'
		push	120h
		push	[bp+segx]
		push	40h ; '@'
		push	120h
		push	2
		push	1
		push	80h ; '€'
		push	40h ; '@'
		push	88h ; 'ˆ'
		push	8
		push	1
		push	0
		fld	[bp+var_14]	; (emulator call)
		fdiv	flt_2ADBE	; (emulator call)
		sub	sp, 8
		fstp	[bp+var_B0]	; (emulator call)
		fld	flt_2ADBE	; (emulator call)
		jmp	short loc_1DFE6
; ---------------------------------------------------------------------------

loc_1DFB3:				; CODE XREF: sub_1DC31+349j
		push	40h ; '@'       ; int
		push	120h		; int
		push	[bp+segx]	; int
		push	40h ; '@'       ; int
		push	120h		; int
		push	2		; int
		push	1		; int
		push	80h ; '€'       ; int
		push	40h ; '@'       ; int
		push	88h ; 'ˆ'       ; int
		push	8		; int
		push	1		; int
		push	0		; int
		fld1			; (emulator call)
		sub	sp, 8
		fstp	[bp+var_B0]	; (emulator call)
		fld	flt_2ADD2	; (emulator call)
		fsub	[bp+var_14]	; (emulator call)

loc_1DFE6:				; CODE XREF: sub_1DC31+380j
		sub	sp, 8
		fstp	[bp+var_B8]	; (emulator call)
		wait			; (emulator call)
		push	cs
		call	near ptr sub_1D805
		add	sp, 2Ah
		fld	flt_2ADD2	; (emulator call)
		fsub	[bp+var_14]	; (emulator call)
		call	sub_110FC
		mov	[bp+var_1A], ax
		push	ss
		lea	ax, [bp+var_57]
		push	ax
		fld	[bp+var_14]	; (emulator call)
		fdiv	flt_2ADD6	; (emulator call)
		call	sub_110FC
		push	ax
		mov	ax, [bp+var_1A]
		mov	bx, 4
		cwd
		idiv	bx
		mov	dx, 0FFh
		sub	dx, ax
		push	dx
		mov	ax, [bp+var_1A]
		imul	word_2ADB2
		add	ax, 200h
		push	ax
		push	cs
		call	near ptr sub_1DB18
		add	sp, 0Ah
		push	ss
		lea	ax, [bp+var_54]
		push	ax
		fld	[bp+var_14]	; (emulator call)
		fdiv	flt_2ADD6	; (emulator call)
		call	sub_110FC
		push	ax
		push	0FFh
		mov	ax, [bp+var_1A]
		imul	word_2ADB4
		add	ax, 200h
		push	ax
		push	cs
		call	near ptr sub_1DB18
		add	sp, 0Ah
		push	ss
		lea	ax, [bp+var_5A]
		push	ax
		call	sub_2029E
		add	sp, 4
		call	sub_1EFDA
		inc	[bp+var_18]
		fld	[bp+var_14]	; (emulator call)
		fcomp	flt_2ADD2	; (emulator call)
		fnstsw	word ptr [bp+var_2A] ; (emulator call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_2A]
		sahf
		jb	short loc_1E092
		jmp	short loc_1E095
; ---------------------------------------------------------------------------

loc_1E092:				; CODE XREF: sub_1DC31+45Dj
		jmp	loc_1DE25
; ---------------------------------------------------------------------------

loc_1E095:				; CODE XREF: sub_1DC31+45Fj
		lea	ax, [bp+var_51]
		push	ss
		push	ax
		lea	ax, [bp+var_57]
		push	ss
		push	ax
		mov	cx, 3
		call	SCOPY@
		mov	al, [bp+var_56]
		mov	ah, 0
		imul	ax, 3
		mov	bx, 4
		cwd
		idiv	bx
		mov	[bp+var_4A], al
		mov	al, [bp+var_55]
		mov	ah, 0
		imul	ax, 3
		mov	bx, 4
		cwd
		idiv	bx
		mov	[bp+var_49], al
		mov	al, [bp+var_57]
		mov	ah, 0
		imul	ax, 3
		mov	bx, 4
		cwd
		idiv	bx
		mov	[bp+var_4B], al
		mov	al, [bp+var_56]
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_44], al
		mov	al, [bp+var_55]
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_43], al
		mov	al, [bp+var_57]
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_45], al
		push	ss
		lea	ax, [bp+var_5A]
		push	ax
		call	sub_2029E
		add	sp, 4
		push	80h ; '€'
		push	40h ; '@'
		push	4
		push	6
		push	8
		push	0
		push	88h ; 'ˆ'
		push	8
		call	sub_2144C
		add	sp, 10h
		mov	si, 1
		jmp	loc_1E1B4
; ---------------------------------------------------------------------------

loc_1E12E:				; CODE XREF: sub_1DC31+588j
		push	si
		push	140h
		push	4
		push	0C9h ; 'É'
		push	14h
		push	0
		mov	ax, 14Ch
		sub	ax, si
		push	ax
		push	14h
		call	sub_2144C
		add	sp, 10h
		mov	ax, si
		imul	ax, 0CCh
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		mov	[bp+var_41], al
		mov	ax, si
		imul	ax, 33h
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		mov	[bp+var_40], al
		mov	ax, si
		imul	ax, 44h
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		mov	[bp+var_42], al
		mov	ax, si
		imul	ax, 0AAh
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		mov	[bp+var_3B], al
		mov	ax, si
		imul	ax, 33h
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		mov	[bp+var_3A], al
		mov	ax, si
		imul	ax, 55h
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		mov	[bp+var_3C], al
		push	ss
		lea	ax, [bp+var_5A]
		push	ax
		call	sub_2029E
		add	sp, 4
		call	sub_1EFDA
		inc	si

loc_1E1B4:				; CODE XREF: sub_1DC31+4FAj
		cmp	si, 20h	; ' '
		jg	short loc_1E1BC
		jmp	loc_1E12E
; ---------------------------------------------------------------------------

loc_1E1BC:				; CODE XREF: sub_1DC31+586j
		push	[bp+var_6]
		call	sub_1EFC4
		pop	cx
		mov	si, 2
		jmp	short loc_1E1F6
; ---------------------------------------------------------------------------

loc_1E1CA:				; CODE XREF: sub_1DC31+5C8j
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_5A]
		add	bx, ax
		mov	al, 0
		mov	ss:[bx], al
		mov	bx, si
		imul	bx, 3
		lea	dx, [bp+var_58]
		add	bx, dx
		mov	ss:[bx], al
		mov	bx, si
		imul	bx, 3
		lea	dx, [bp+var_59]
		add	bx, dx
		mov	ss:[bx], al
		add	si, 2

loc_1E1F6:				; CODE XREF: sub_1DC31+597j
		cmp	si, 8
		jl	short loc_1E1CA
		mov	si, 3
		jmp	short loc_1E21C
; ---------------------------------------------------------------------------

loc_1E200:				; CODE XREF: sub_1DC31+5EEj
		mov	ax, si
		imul	ax, 3
		lea	dx, [bp+var_5A]
		add	ax, dx
		push	ss
		push	ax
		lea	ax, [bp+var_57]
		push	ss
		push	ax
		mov	cx, 3
		call	SCOPY@
		add	si, 2

loc_1E21C:				; CODE XREF: sub_1DC31+5CDj
		cmp	si, 8
		jl	short loc_1E200
		push	ss
		lea	ax, [bp+var_5A]
		push	ax
		call	sub_2029E
		add	sp, 4
		call	sub_1F0F9
		xor	si, si
		mov	di, 40h	; '@'
		jmp	loc_1E34D
; ---------------------------------------------------------------------------

loc_1E23B:				; CODE XREF: sub_1DC31+720j
		or	di, di
		jge	short loc_1E241
		xor	di, di

loc_1E241:				; CODE XREF: sub_1DC31+60Cj
		push	[bp+segx]
		push	2
		push	0
		push	2
		push	1
		mov	ax, si
		imul	ax, 0Ch
		add	ax, 80h	; '€'
		push	ax
		push	di
		mov	ax, si
		imul	ax, 6
		mov	dx, 88h	; 'ˆ'
		sub	dx, ax
		push	dx
		lea	ax, [si+7]
		push	ax
		push	0
		push	0
		push	cs
		call	near ptr sub_1D9E9
		add	sp, 16h
		push	[bp+segx]
		push	2
		push	1
		push	1
		push	2
		mov	ax, si
		imul	ax, 0Ch
		add	ax, 80h	; '€'
		push	ax
		push	di
		mov	ax, si
		imul	ax, 6
		mov	dx, 88h	; 'ˆ'
		sub	dx, ax
		push	dx
		mov	ax, si
		add	ax, ax
		add	ax, 6
		push	ax
		push	0
		push	0
		push	cs
		call	near ptr sub_1D9E9
		add	sp, 16h
		mov	[bp+var_16], 0
		jmp	short loc_1E322
; ---------------------------------------------------------------------------

loc_1E2AA:				; CODE XREF: sub_1DC31+6F5j
		mov	bx, [bp+var_16]
		imul	bx, 3
		lea	ax, [bp+var_5A]
		add	bx, ax
		mov	al, ss:[bx]
		mov	ah, 0
		imul	di
		mov	bx, 40h	; '@'
		cwd
		idiv	bx
		mov	bx, [bp+var_16]
		imul	bx, 3
		lea	dx, [bp+var_8A]
		add	bx, dx
		mov	ss:[bx], al
		mov	bx, [bp+var_16]
		imul	bx, 3
		lea	ax, [bp+var_59]
		add	bx, ax
		mov	al, ss:[bx]
		mov	ah, 0
		imul	di
		mov	bx, 40h	; '@'
		cwd
		idiv	bx
		mov	bx, [bp+var_16]
		imul	bx, 3
		lea	dx, [bp+var_89]
		add	bx, dx
		mov	ss:[bx], al
		mov	bx, [bp+var_16]
		imul	bx, 3
		lea	ax, [bp+var_58]
		add	bx, ax
		mov	al, ss:[bx]
		mov	ah, 0
		imul	di
		mov	bx, 40h	; '@'
		cwd
		idiv	bx
		mov	bx, [bp+var_16]
		imul	bx, 3
		lea	dx, [bp+var_88]
		add	bx, dx
		mov	ss:[bx], al
		inc	[bp+var_16]

loc_1E322:				; CODE XREF: sub_1DC31+677j
		cmp	[bp+var_16], 10h
		jl	short loc_1E2AA
		push	ss
		lea	ax, [bp+var_8A]
		push	ax

loc_1E32E:
		call	sub_2029E
		add	sp, 4
		call	sub_1EFDA
		push	1
		call	sub_1F08D
		pop	cx
		or	di, di
		jg	short loc_1E349
		jmp	short loc_1E354
; ---------------------------------------------------------------------------

loc_1E349:				; CODE XREF: sub_1DC31+714j
		inc	si
		sub	di, 3

loc_1E34D:				; CODE XREF: sub_1DC31+607j
		or	di, di
		jle	short loc_1E354
		jmp	loc_1E23B
; ---------------------------------------------------------------------------

loc_1E354:				; CODE XREF: sub_1DC31+716j
					; sub_1DC31+71Ej
		push	0		; int
		push	0
		push	0		; __int32
		mov	ax, si
		imul	ax, 0Ch
		add	ax, 80h	; '€'
		push	ax		; int
		push	3		; n
		mov	ax, si
		imul	ax, 6
		mov	dx, 88h	; 'ˆ'
		sub	dx, ax
		push	dx		; int
		lea	ax, [si+6]
		push	ax		; int
		call	sub_202E3
		add	sp, 0Eh
		push	0		; int
		push	0
		push	0		; __int32
		mov	ax, si
		imul	ax, 0Ch
		add	ax, 80h	; '€'
		push	ax		; int
		push	3		; n
		mov	ax, si
		imul	ax, 6
		mov	dx, 88h	; 'ˆ'
		sub	dx, ax
		push	dx		; int
		mov	ax, si
		add	ax, ax
		add	ax, 5
		push	ax		; int
		call	sub_202E3
		add	sp, 0Eh

loc_1E3A8:				; CODE XREF: sub_1DC31+76j
					; sub_1DC31+A0j ...
		push	[bp+segx]	; segx

loc_1E3AB:
		call	__dos_freemem

loc_1E3B0:
		pop	cx
		pop	di
		pop	si
		leave
		retf
sub_1DC31	endp

seg003		ends

; ===========================================================================

; Segment type:	Pure code
seg004		segment	byte public 'CODE' use16
		assume cs:seg004
		;org 5
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far fopen3(char	*src, char *mode, char *s)
fopen3		proc far		; CODE XREF: LoadDATFile2+2FP
					; fopen2+8AP

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
src		= dword	ptr  6
mode		= dword	ptr  0Ah
s		= dword	ptr  0Eh

		enter	14h, 0
		push	si
		push	di
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0
		xor	di, di
		xor	ax, ax
		xor	dx, dx
		mov	[bp+var_A], ax
		mov	[bp+var_C], dx
		mov	word ptr [bp+var_8+2], ax
		mov	word ptr [bp+var_8], dx
		mov	byte ptr ds:26BAh, 0
		push	50h ; 'P'       ; int
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ds
		push	26BAh		; s
		call	sub_152A2
		add	sp, 0Ah
		push	word ptr [bp+mode+2]
		push	word ptr [bp+mode] ; mode
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; path
		call	_fopen
		add	sp, 8
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_1E41B
		jmp	loc_1E56C
; ---------------------------------------------------------------------------

loc_1E41B:				; CODE XREF: fopen3+61j
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jnz	short loc_1E430
		mov	dx, word_2ADF0
		mov	ax, word_2ADEE
		mov	word ptr [bp+s+2], dx
		mov	word ptr [bp+s], ax

loc_1E430:				; CODE XREF: fopen3+6Cj
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jnz	short loc_1E43B
		jmp	loc_1E561
; ---------------------------------------------------------------------------

loc_1E43B:				; CODE XREF: fopen3+81j
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		call	_strdup
		add	sp, 4
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		or	ax, dx
		jnz	short loc_1E45C
		jmp	loc_1E561
; ---------------------------------------------------------------------------

loc_1E45C:				; CODE XREF: fopen3+A2j
		jmp	loc_1E557
; ---------------------------------------------------------------------------

loc_1E45F:				; CODE XREF: fopen3+1A9j
		push	ds
		push	offset unk_2ADF2
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		call	sub_198E2
		add	sp, 8
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_1E488
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1E48B

loc_1E488:				; CODE XREF: fopen3+C8j
		jmp	loc_1E561
; ---------------------------------------------------------------------------

loc_1E48B:				; CODE XREF: fopen3+D1j
		mov	byte ptr ds:26BAh, 0
		push	50h ; 'P'       ; int
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8] ; src
		push	ds
		push	26BAh		; s
		call	sub_152A2
		add	sp, 0Ah
		push	ds
		push	26BAh		; s
		call	_strlen
		add	sp, 4
		mov	si, ax
		mov	ax, ds
		mov	dx, 26BAh
		mov	word ptr [bp+var_14+2],	ax
		mov	word ptr [bp+var_14], dx
		mov	word ptr [bp+var_10+2],	ax
		mov	word ptr [bp+var_10], dx

loc_1E4C3:				; CODE XREF: fopen3+138j
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		les	bx, [bp+var_14]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_1E4E3
		inc	word ptr [bp+var_14]

loc_1E4E3:				; CODE XREF: fopen3+129j
		inc	word ptr [bp+var_14]
		les	bx, [bp+var_14]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1E4C3
		les	bx, [bp+var_10]
		cmp	byte ptr es:[bx], 5Ch ;	'\'
		jz	short loc_1E512
		cmp	si, 50h	; 'P'
		jge	short loc_1E512
		inc	word ptr [bp+var_10]

loc_1E500:
		les	bx, [bp+var_10]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp+var_10]
		les	bx, [bp+var_10]
		mov	byte ptr es:[bx], 0
		inc	si

loc_1E512:				; CODE XREF: fopen3+141j fopen3+146j
		cmp	si, 50h	; 'P'
		jge	short loc_1E52F
		mov	ax, 50h	; 'P'
		sub	ax, si
		push	ax		; int
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ds
		push	26BAh		; s
		call	sub_152A2
		add	sp, 0Ah

loc_1E52F:				; CODE XREF: fopen3+160j
		push	word ptr [bp+mode+2]
		push	word ptr [bp+mode] ; mode
		push	ds
		push	26BAh		; path
		call	_fopen
		add	sp, 8
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_1E54D
		jmp	short loc_1E56C
; ---------------------------------------------------------------------------

loc_1E54D:				; CODE XREF: fopen3+194j
		mov	word ptr [bp+var_8+2], 0
		mov	word ptr [bp+var_8], 0

loc_1E557:				; CODE XREF: fopen3:loc_1E45Cj
		cmp	word_29AFE, 2
		jnz	short loc_1E561
		jmp	loc_1E45F
; ---------------------------------------------------------------------------

loc_1E561:				; CODE XREF: fopen3+83j fopen3+A4j ...
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		inc	di

loc_1E56C:				; CODE XREF: fopen3+63j fopen3+196j
		mov	ax, [bp+var_C]
		or	ax, [bp+var_A]
		jz	short loc_1E582
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_1275D

loc_1E57F:
		add	sp, 4

loc_1E582:				; CODE XREF: fopen3+1BDj
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
fopen3		endp

seg004		ends

; ===========================================================================

; Segment type:	Pure code
seg005		segment	byte public 'CODE' use16
		assume cs:seg005
		;org 0Eh
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1E58E	proc far		; CODE XREF: sub_1E5EB+31p

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		cmp	word_2AE06, 0
		jnz	short loc_1E59D
		mov	ax, 41h	; 'A'
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1E59D:				; CODE XREF: sub_1E58E+8j
		mov	dx, word_2AE04
		mov	ax, offset
		cmp	dx, [bp+arg_2]
		jnz	short loc_1E5B2
		cmp	ax, [bp+arg_0]
		jnz	short loc_1E5B2
		xor	ax, ax
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1E5B2:				; CODE XREF: sub_1E58E+19j
					; sub_1E58E+1Ej
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word_2AE04, dx
		mov	offset,	ax
		mov	ax, word ptr dword_2ADFE
		or	ax, word ptr dword_2ADFE+2
		jnz	short loc_1E5CD
		mov	ax, 43h	; 'C'
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1E5CD:				; CODE XREF: sub_1E58E+38j
		push	0		; whence
		push	word_2AE04
		push	offset		; offset
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		call	_fseek
		add	sp, 0Ah
		pop	bp
		retf
sub_1E58E	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1E5EB	proc far		; CODE XREF: fread2+7Cp

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		cmp	word_2AE06, 0
		jnz	short loc_1E5FA
		mov	ax, 41h	; 'A'
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1E5FA:				; CODE XREF: sub_1E5EB+8j
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 1
		jz	short loc_1E608
		mov	ax, 43h	; 'C'
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1E608:				; CODE XREF: sub_1E5EB+16j
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_4]
		adc	dx, [bp+arg_6]
		push	dx
		push	ax
		push	cs
		call	near ptr sub_1E58E
		add	sp, 4
		pop	bp
		retf
sub_1E5EB	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far fread2(void	*ptr, int, __int32)
fread2		proc far		; CODE XREF: fread1+3Bp seg005:08ACp ...

var_8		= word ptr -8
var_6		= word ptr -6
n		= word ptr -4
var_2		= word ptr -2
ptr		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	8, 0
		push	si
		cmp	word_2AE06, 0
		jnz	short loc_1E638
		mov	si, 41h	; 'A'
		jmp	loc_1E704
; ---------------------------------------------------------------------------

loc_1E638:				; CODE XREF: fread2+Aj
		les	bx, [bp+arg_6]
		cmp	word ptr es:[bx], 1
		jz	short loc_1E647
		mov	si, 43h	; 'C'
		jmp	loc_1E704
; ---------------------------------------------------------------------------

loc_1E647:				; CODE XREF: fread2+19j
		mov	ax, [bp+arg_4]
		mov	[bp+var_2], 0
		mov	[bp+n],	ax
		les	bx, [bp+arg_6]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_6]
		sub	ax, es:[bx+0Eh]
		sbb	dx, es:[bx+10h]
		cmp	dx, [bp+var_2]
		jg	short loc_1E690
		jl	short loc_1E674
		cmp	ax, [bp+n]
		jnb	short loc_1E690

loc_1E674:				; CODE XREF: fread2+47j
		les	bx, [bp+arg_6]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_6]
		sub	ax, es:[bx+0Eh]
		sbb	dx, es:[bx+10h]
		mov	[bp+var_2], dx
		mov	[bp+n],	ax

loc_1E690:				; CODE XREF: fread2+45j fread2+4Cj
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+10h]
		push	word ptr es:[bx+0Eh]
		push	word ptr [bp+arg_6+2]
		push	word ptr [bp+arg_6]
		push	cs
		call	near ptr sub_1E5EB
		add	sp, 8
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		push	[bp+n]		; n
		push	1		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	_fread
		add	sp, 0Ch
		mov	[bp+var_6], 0
		mov	[bp+var_8], ax
		les	bx, dword_2ADFE
		mov	ax, es:[bx+2]
		and	ax, 10h
		les	bx, [bp+arg_6]
		mov	es:[bx+4], ax
		les	bx, [bp+arg_6]
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		add	es:[bx+0Eh], ax
		adc	es:[bx+10h], dx
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		add	offset,	ax
		adc	word_2AE04, dx
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		jmp	short loc_1E711
; ---------------------------------------------------------------------------

loc_1E704:				; CODE XREF: fread2+Fj	fread2+1Ej
		les	bx, [bp+arg_6]
		mov	es:[bx+4], si
		xor	dx, dx
		xor	ax, ax
		jmp	short $+2

loc_1E711:				; CODE XREF: fread2+DCj
		pop	si
		leave
		retf
fread2		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far LoadDATFile2(char *src, char *s, int)
LoadDATFile2	proc far		; CODE XREF: seg005:034Ep
					; LoadDATFile1+12p

var_8		= dword	ptr -8
var_3		= byte ptr -3
var_2		= word ptr -2
src		= dword	ptr  6
s		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		enter	8, 0
		push	si
		push	di
		cmp	word_2AE06, 0
		jz	short loc_1E727
		mov	di, 42h	; 'B'
		jmp	loc_1E87E
; ---------------------------------------------------------------------------

loc_1E727:				; CODE XREF: LoadDATFile2+Bj
		mov	word_2AE06, 1
		cmp	[bp+arg_8], 0
		jz	short loc_1E74D
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		push	ds
		push	offset aRb_5	; "rb"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen3
		add	sp, 0Ch
		jmp	short loc_1E75F
; ---------------------------------------------------------------------------

loc_1E74D:				; CODE XREF: LoadDATFile2+1Dj
		push	ds
		push	offset aRb_2	; "rb"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; path
		call	_fopen
		add	sp, 8

loc_1E75F:				; CODE XREF: LoadDATFile2+37j
		mov	word ptr dword_2ADFE+2,	dx
		mov	word ptr dword_2ADFE, ax
		mov	ax, word ptr dword_2ADFE
		or	ax, word ptr dword_2ADFE+2
		jnz	short loc_1E775
		mov	di, 46h	; 'F'
		jmp	loc_1E87E
; ---------------------------------------------------------------------------

loc_1E775:				; CODE XREF: LoadDATFile2+59j
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		push	1		; n
		push	20h ; ' '       ; size
		push	ds
		push	270Ch		; ptr
		call	_fread
		add	sp, 0Ch
		cmp	ax, 1
		jz	short loc_1E798
		mov	di, 47h	; 'G'
		jmp	loc_1E87E
; ---------------------------------------------------------------------------

loc_1E798:				; CODE XREF: LoadDATFile2+7Cj
		cmp	byte ptr ds:270Ch, 9Eh ; 'ž'
		jnz	short loc_1E7A6
		cmp	byte ptr ds:270Dh, 99h ; '™'
		jz	short loc_1E7AC

loc_1E7A6:				; CODE XREF: LoadDATFile2+89j
		mov	di, 43h	; 'C'
		jmp	loc_1E87E
; ---------------------------------------------------------------------------

loc_1E7AC:				; CODE XREF: LoadDATFile2+90j
		mov	ax, ds:2714h
		shl	ax, 5
		push	ax
		call	sub_12890
		pop	cx
		mov	word ptr ptr+2,	dx
		mov	word ptr ptr, ax
		or	ax, dx
		jnz	short loc_1E7CA
		mov	di, 45h	; 'E'
		jmp	loc_1E87E
; ---------------------------------------------------------------------------

loc_1E7CA:				; CODE XREF: LoadDATFile2+AEj
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		push	word ptr ds:2714h ; n
		push	20h ; ' '       ; size
		push	word ptr ptr+2
		push	word ptr ptr	; ptr
		call	_fread
		add	sp, 0Ch
		xor	dx, dx
		cmp	dx, ds:2716h
		jnz	short loc_1E7F6
		cmp	ax, ds:2714h
		jz	short loc_1E7FC

loc_1E7F6:				; CODE XREF: LoadDATFile2+DAj
		mov	di, 47h	; 'G'
		jmp	loc_1E87E
; ---------------------------------------------------------------------------

loc_1E7FC:				; CODE XREF: LoadDATFile2+E0j
		xor	si, si
		mov	dx, word ptr ptr+2
		mov	ax, word ptr ptr
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_1E836
; ---------------------------------------------------------------------------

loc_1E80D:				; CODE XREF: LoadDATFile2+129j
					; LoadDATFile2+131j
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		mov	[bp+var_3], al
		inc	word ptr [bp+var_8]
		mov	[bp+var_2], 1
		jmp	short loc_1E82F
; ---------------------------------------------------------------------------

loc_1E820:				; CODE XREF: LoadDATFile2+11Fj
		les	bx, [bp+var_8]
		mov	al, [bp+var_3]
		xor	es:[bx], al
		inc	word ptr [bp+var_8]
		inc	[bp+var_2]

loc_1E82F:				; CODE XREF: LoadDATFile2+10Aj
		cmp	[bp+var_2], 20h	; ' '
		jl	short loc_1E820
		inc	si

loc_1E836:				; CODE XREF: LoadDATFile2+F7j
		mov	ax, si
		cwd
		cmp	dx, ds:2716h
		jl	short loc_1E80D
		jnz	short loc_1E847
		cmp	ax, ds:2714h
		jb	short loc_1E80D

loc_1E847:				; CODE XREF: LoadDATFile2+12Bj
		xor	si, si
		jmp	short loc_1E857
; ---------------------------------------------------------------------------

loc_1E84B:				; CODE XREF: LoadDATFile2+146j
		mov	bx, si
		imul	bx, 16h
		mov	word ptr [bx+272Ch], 0
		inc	si

loc_1E857:				; CODE XREF: LoadDATFile2+135j
		cmp	si, 14h
		jl	short loc_1E84B
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		call	_ftell
		add	sp, 4
		mov	word_2AE04, dx
		mov	offset,	ax
		mov	word_2ADFC, dx
		mov	word_2ADFA, ax
		xor	ax, ax
		jmp	short loc_1E8BA
; ---------------------------------------------------------------------------

loc_1E87E:				; CODE XREF: LoadDATFile2+10j
					; LoadDATFile2+5Ej ...
		mov	word_2AE06, 0
		mov	ax, word ptr dword_2ADFE
		or	ax, word ptr dword_2ADFE+2
		jz	short loc_1E89D
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		call	_fclose
		add	sp, 4

loc_1E89D:				; CODE XREF: LoadDATFile2+177j
		mov	ax, word ptr ptr
		or	ax, word ptr ptr+2
		jz	short loc_1E8B6
		push	word ptr ptr+2
		push	word ptr ptr
		call	sub_1275D
		add	sp, 4

loc_1E8B6:				; CODE XREF: LoadDATFile2+190j
		mov	ax, di
		jmp	short $+2

loc_1E8BA:				; CODE XREF: LoadDATFile2+168j
		pop	di
		pop	si
		leave
		retf
LoadDATFile2	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	0
		push	0
		push	0
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr LoadDATFile2
		add	sp, 0Ah
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far LoadDATFile1(char *src, char *s)
LoadDATFile1	proc far		; CODE XREF: _main+8AP

src		= dword	ptr  6
s		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	1		; int
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	cs
		call	near ptr LoadDATFile2
		add	sp, 0Ah
		pop	bp
		retf
LoadDATFile1	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1E8F4	proc far		; CODE XREF: func:loc_19A70P
					; _main:loc_19ECBP
		push	bp
		mov	bp, sp
		push	si
		cmp	word_2AE06, 0
		jnz	short loc_1E904
		mov	si, 41h	; 'A'
		jmp	short loc_1E94E
; ---------------------------------------------------------------------------

loc_1E904:				; CODE XREF: sub_1E8F4+9j
		nop
		push	cs
		call	near ptr sub_1EB95
		mov	si, ax
		cmp	ax, 0FFFFh
		jnz	short loc_1E912
		jmp	short loc_1E94E
; ---------------------------------------------------------------------------

loc_1E912:				; CODE XREF: sub_1E8F4+1Aj
		mov	word_2AE06, 0
		mov	ax, word ptr dword_2ADFE
		or	ax, word ptr dword_2ADFE+2
		jz	short loc_1E931
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		call	_fclose
		add	sp, 4

loc_1E931:				; CODE XREF: sub_1E8F4+2Bj
		mov	ax, word ptr ptr
		or	ax, word ptr ptr+2
		jz	short loc_1E94A
		push	word ptr ptr+2
		push	word ptr ptr
		call	sub_1275D
		add	sp, 4

loc_1E94A:				; CODE XREF: sub_1E8F4+44j
		xor	ax, ax
		jmp	short loc_1E98A
; ---------------------------------------------------------------------------

loc_1E94E:				; CODE XREF: sub_1E8F4+Ej
					; sub_1E8F4+1Cj
		mov	word_2AE06, 0
		mov	ax, word ptr dword_2ADFE
		or	ax, word ptr dword_2ADFE+2
		jz	short loc_1E96D
		push	word ptr dword_2ADFE+2
		push	word ptr dword_2ADFE ; stream
		call	_fclose
		add	sp, 4

loc_1E96D:				; CODE XREF: sub_1E8F4+67j
		mov	ax, word ptr ptr
		or	ax, word ptr ptr+2
		jz	short loc_1E986
		push	word ptr ptr+2
		push	word ptr ptr
		call	sub_1275D
		add	sp, 4

loc_1E986:				; CODE XREF: sub_1E8F4+80j
		mov	ax, si
		jmp	short $+2

loc_1E98A:				; CODE XREF: sub_1E8F4+58j
		pop	si
		pop	bp
		retf
sub_1E8F4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far fopen2(char	*src, char *s, int)
fopen2		proc far		; CODE XREF: seg005:0588p fopen1+12p

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
src		= dword	ptr  6
s		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		enter	8, 0
		push	si
		push	di
		cmp	word_2AE06, 0
		jnz	short loc_1E99D
		jmp	loc_1EAEE
; ---------------------------------------------------------------------------

loc_1E99D:				; CODE XREF: fopen2+Bj
		xor	si, si
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 272Ch
		jmp	short loc_1E9B9
; ---------------------------------------------------------------------------

loc_1E9A9:				; CODE XREF: fopen2+2Fj
		les	bx, [bp+var_4]
		cmp	word ptr es:[bx], 0
		jnz	short loc_1E9B4
		jmp	short loc_1E9BE
; ---------------------------------------------------------------------------

loc_1E9B4:				; CODE XREF: fopen2+23j
		inc	si
		add	word ptr [bp+var_4], 16h

loc_1E9B9:				; CODE XREF: fopen2+1Aj
		cmp	si, 14h
		jl	short loc_1E9A9

loc_1E9BE:				; CODE XREF: fopen2+25j
		cmp	si, 14h
		jl	short loc_1E9C6
		jmp	loc_1EAEE
; ---------------------------------------------------------------------------

loc_1E9C6:				; CODE XREF: fopen2+34j
		xor	si, si
		jmp	short loc_1E9F0
; ---------------------------------------------------------------------------

loc_1E9CA:				; CODE XREF: fopen2+6Aj fopen2+72j
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; s2
		mov	ax, si
		shl	ax, 5
		mov	dx, word ptr ptr
		add	dx, ax
		inc	dx
		push	word ptr ptr+2
		push	dx		; s1
		call	_stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_1E9EF
		jmp	short loc_1EA5C
; ---------------------------------------------------------------------------

loc_1E9EF:				; CODE XREF: fopen2+5Ej
		inc	si

loc_1E9F0:				; CODE XREF: fopen2+3Bj
		mov	ax, si
		cwd
		cmp	dx, ds:2716h
		jl	short loc_1E9CA
		jnz	short loc_1EA01
		cmp	ax, ds:2714h
		jb	short loc_1E9CA

loc_1EA01:				; CODE XREF: fopen2+6Cj
		cmp	[bp+arg_8], 0
		jz	short loc_1EA21
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		push	ds
		push	offset aRb_4	; "rb"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen3
		add	sp, 0Ch
		jmp	short loc_1EA33
; ---------------------------------------------------------------------------

loc_1EA21:				; CODE XREF: fopen2+78j
		push	ds
		push	offset aRb_3	; "rb"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; path
		call	_fopen
		add	sp, 8

loc_1EA33:				; CODE XREF: fopen2+92j
		les	bx, [bp+var_4]
		mov	es:[bx+14h], dx
		mov	es:[bx+12h], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+12h]
		or	ax, es:[bx+14h]
		jnz	short loc_1EA4E
		jmp	loc_1EAEE
; ---------------------------------------------------------------------------

loc_1EA4E:				; CODE XREF: fopen2+BCj
		les	bx, [bp+var_4]
		mov	word ptr es:[bx], 2
		jmp	loc_1EAE6
; ---------------------------------------------------------------------------
		jmp	loc_1EAE6
; ---------------------------------------------------------------------------

loc_1EA5C:				; CODE XREF: fopen2+60j
		les	bx, [bp+var_4]
		mov	word ptr es:[bx], 1
		les	bx, [bp+var_4]
		mov	es:[bx+2], si
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+4], 0
		mov	ax, si
		shl	ax, 5
		les	bx, ptr
		add	bx, ax
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		les	bx, [bp+var_4]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+10h], 0
		mov	word ptr es:[bx+0Eh], 0
		xor	di, di
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		jmp	short loc_1EAC9
; ---------------------------------------------------------------------------

loc_1EAAF:				; CODE XREF: fopen2+13Ej
		mov	ax, di
		shl	ax, 5
		les	bx, ptr
		add	bx, ax
		mov	dx, es:[bx+16h]
		mov	ax, es:[bx+14h]
		add	[bp+var_8], ax
		adc	[bp+var_6], dx
		inc	di

loc_1EAC9:				; CODE XREF: fopen2+120j
		cmp	di, si
		jl	short loc_1EAAF
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		add	ax, word_2ADFA
		adc	dx, word_2ADFC
		les	bx, [bp+var_4]
		mov	es:[bx+8], dx
		mov	es:[bx+6], ax

loc_1EAE6:				; CODE XREF: fopen2+C9j fopen2+CCj
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_1EAF4
; ---------------------------------------------------------------------------

loc_1EAEE:				; CODE XREF: fopen2+Dj	fopen2+36j ...
		xor	dx, dx
		xor	ax, ax
		jmp	short $+2

loc_1EAF4:				; CODE XREF: fopen2+15Fj
		pop	di
		pop	si
		leave
		retf
fopen2		endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	0
		push	0
		push	0
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr fopen2
		add	sp, 0Ah
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far fopen1(char	*src, char *s)
fopen1		proc far		; CODE XREF: sub_1B70C+30P
					; sub_1B70C+114P ...

src		= dword	ptr  6
s		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	1		; int
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	cs
		call	near ptr fopen2
		add	sp, 0Ah
		pop	bp
		retf
fopen1		endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1EB2E	proc far		; CODE XREF: sub_1B70C+B4P
					; sub_1B70C+198P ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		cmp	word_2AE06, 0
		jnz	short loc_1EB3D
		jmp	short loc_1EB8D
; ---------------------------------------------------------------------------

loc_1EB3D:				; CODE XREF: sub_1EB2E+Bj
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1EB4F
		cmp	ax, 2
		jz	short loc_1EB59
		jmp	short loc_1EB87
; ---------------------------------------------------------------------------

loc_1EB4F:				; CODE XREF: sub_1EB2E+18j
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 0
		jmp	short loc_1EB89
; ---------------------------------------------------------------------------

loc_1EB59:				; CODE XREF: sub_1EB2E+1Dj
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+14h]
		push	word ptr es:[bx+12h] ; stream
		call	_fclose
		add	sp, 4
		mov	si, ax
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 0
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+14h], 0
		mov	word ptr es:[bx+12h], 0
		jmp	short loc_1EB89
; ---------------------------------------------------------------------------

loc_1EB87:				; CODE XREF: sub_1EB2E+1Fj
		jmp	short loc_1EB8D
; ---------------------------------------------------------------------------

loc_1EB89:				; CODE XREF: sub_1EB2E+29j
					; sub_1EB2E+57j
		mov	ax, si
		jmp	short loc_1EB92
; ---------------------------------------------------------------------------

loc_1EB8D:				; CODE XREF: sub_1EB2E+Dj
					; sub_1EB2E:loc_1EB87j
		mov	ax, 0FFFFh
		jmp	short $+2

loc_1EB92:				; CODE XREF: sub_1EB2E+5Dj
		pop	si
		pop	bp
		retf
sub_1EB2E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1EB95	proc far		; CODE XREF: sub_1E8F4+12p

var_6		= word ptr -6
var_4		= dword	ptr -4

		enter	6, 0
		push	si
		push	di
		xor	si, si
		cmp	word_2AE06, 0
		jnz	short loc_1EBA9
		mov	si, 0FFFFh
		jmp	short loc_1EBF3
; ---------------------------------------------------------------------------

loc_1EBA9:				; CODE XREF: sub_1EB95+Dj
		xor	di, di
		mov	[bp+var_6], 0
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 272Ch
		jmp	short loc_1EBE1
; ---------------------------------------------------------------------------

loc_1EBBA:				; CODE XREF: sub_1EB95+4Fj
		les	bx, [bp+var_4]
		cmp	word ptr es:[bx], 0
		jz	short loc_1EBDC
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr sub_1EB2E
		add	sp, 4
		or	ax, ax
		jnz	short loc_1EBD9
		inc	[bp+var_6]
		jmp	short loc_1EBDC
; ---------------------------------------------------------------------------

loc_1EBD9:				; CODE XREF: sub_1EB95+3Dj
		mov	si, 0FFFFh

loc_1EBDC:				; CODE XREF: sub_1EB95+2Cj
					; sub_1EB95+42j
		inc	di
		add	word ptr [bp+var_4], 16h

loc_1EBE1:				; CODE XREF: sub_1EB95+23j
		cmp	di, 14h
		jl	short loc_1EBBA
		or	si, si
		jz	short loc_1EBEE
		jmp	short loc_1EBF3
; ---------------------------------------------------------------------------
		jmp	short loc_1EBF3
; ---------------------------------------------------------------------------

loc_1EBEE:				; CODE XREF: sub_1EB95+53j
		mov	ax, [bp+var_6]
		jmp	short loc_1EBF7
; ---------------------------------------------------------------------------

loc_1EBF3:				; CODE XREF: sub_1EB95+12j
					; sub_1EB95+55j ...
		mov	ax, si
		jmp	short $+2

loc_1EBF7:				; CODE XREF: sub_1EB95+5Cj
		pop	di
		pop	si
		leave
		retf
sub_1EB95	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1EBFB	proc far		; CODE XREF: sub_1B70C+62P
					; sub_1B70C+146P ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		cmp	word_2AE06, 0
		jnz	short loc_1EC0B
		mov	si, 41h	; 'A'
		jmp	short loc_1EC45
; ---------------------------------------------------------------------------

loc_1EC0B:				; CODE XREF: sub_1EBFB+9j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1EC1D
		cmp	ax, 2
		jz	short loc_1EC2A
		jmp	short loc_1EC40
; ---------------------------------------------------------------------------

loc_1EC1D:				; CODE XREF: sub_1EBFB+19j
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		jmp	short loc_1EC54
; ---------------------------------------------------------------------------

loc_1EC2A:				; CODE XREF: sub_1EBFB+1Ej
		les	bx, [bp+arg_0]
		les	bx, es:[bx+12h]
		mov	al, es:[bx+4]
		mov	ah, 0
		push	ax		; handle
		call	_filelength
		pop	cx
		jmp	short loc_1EC54
; ---------------------------------------------------------------------------

loc_1EC40:				; CODE XREF: sub_1EBFB+20j
		mov	si, 44h	; 'D'
		jmp	short $+2

loc_1EC45:				; CODE XREF: sub_1EBFB+Ej
		les	bx, [bp+arg_0]
		mov	es:[bx+4], si
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short $+2

loc_1EC54:				; CODE XREF: sub_1EBFB+2Dj
					; sub_1EBFB+43j
		pop	si
		pop	bp
		retf
sub_1EBFB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far fseek(__int32, __int32 offset, int whence)
fseek		proc far		; CODE XREF: LoadScn_Code+2BP
					; LoadScn_MTbl+2BP ...

arg_0		= dword	ptr  6
offset		= dword	ptr  0Ah
whence		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+whence]
		cmp	word_2AE06, 0
		jnz	short loc_1EC6C
		mov	si, 41h	; 'A'
		jmp	loc_1ED1A
; ---------------------------------------------------------------------------

loc_1EC6C:				; CODE XREF: fseek+Dj
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1EC7F
		cmp	ax, 2
		jz	short loc_1ECF9
		jmp	loc_1ED15
; ---------------------------------------------------------------------------

loc_1EC7F:				; CODE XREF: fseek+1Ej
		mov	ax, di
		cmp	ax, 1
		jz	short loc_1EC8D
		cmp	ax, 2
		jz	short loc_1EC9A
		jmp	short loc_1ECAD
; ---------------------------------------------------------------------------

loc_1EC8D:				; CODE XREF: fseek+2Dj
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		jmp	short loc_1ECA5
; ---------------------------------------------------------------------------

loc_1EC9A:				; CODE XREF: fseek+32j
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]

loc_1ECA5:				; CODE XREF: fseek+41j
		add	word ptr [bp+offset], ax
		adc	word ptr [bp+offset+2],	dx
		jmp	short $+2

loc_1ECAD:				; CODE XREF: fseek+34j
		cmp	word ptr [bp+offset+2],	0
		jg	short loc_1ECC6
		jl	short loc_1ECBB
		cmp	word ptr [bp+offset], 0
		jnb	short loc_1ECC6

loc_1ECBB:				; CODE XREF: fseek+5Cj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+4], 48h	; 'H'
		jmp	short loc_1ED1A
; ---------------------------------------------------------------------------

loc_1ECC6:				; CODE XREF: fseek+5Aj	fseek+62j
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		cmp	dx, word ptr [bp+offset+2]
		jg	short loc_1ECE8
		jnz	short loc_1ECDD
		cmp	ax, word ptr [bp+offset]
		ja	short loc_1ECE8

loc_1ECDD:				; CODE XREF: fseek+7Fj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+4], 48h	; 'H'
		jmp	short loc_1ED1A
; ---------------------------------------------------------------------------

loc_1ECE8:				; CODE XREF: fseek+7Dj	fseek+84j
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+offset+2]
		mov	ax, word ptr [bp+offset]
		mov	es:[bx+10h], dx
		mov	es:[bx+0Eh], ax

loc_1ECF9:				; CODE XREF: fseek+23j
		push	di		; whence
		push	word ptr [bp+offset+2]
		push	word ptr [bp+offset] ; offset
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+14h]
		push	word ptr es:[bx+12h] ; stream
		call	_fseek
		add	sp, 0Ah
		jmp	short loc_1ED25
; ---------------------------------------------------------------------------

loc_1ED15:				; CODE XREF: fseek+25j
		mov	si, 44h	; 'D'
		jmp	short $+2

loc_1ED1A:				; CODE XREF: fseek+12j	fseek+6Dj ...
		les	bx, [bp+arg_0]
		mov	es:[bx+4], si
		mov	ax, si
		jmp	short $+2

loc_1ED25:				; CODE XREF: fseek+BCj
		pop	di
		pop	si
		pop	bp
		retf
fseek		endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		cmp	word_2AE06, 0
		jnz	short loc_1ED38
		mov	ax, 41h	; 'A'
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1ED38:				; CODE XREF: seg005:07B1j
		les	bx, [bp+6]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1ED4A
		cmp	ax, 2
		jz	short loc_1ED53
		jmp	short loc_1ED63
; ---------------------------------------------------------------------------

loc_1ED4A:				; CODE XREF: seg005:07C1j
		les	bx, [bp+6]
		mov	ax, es:[bx+4]
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1ED53:				; CODE XREF: seg005:07C6j
		les	bx, [bp+6]
		les	bx, es:[bx+12h]
		mov	ax, es:[bx+2]
		and	ax, 10h
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1ED63:				; CODE XREF: seg005:07C8j
		mov	ax, 44h	; 'D'
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far fread1(void	*ptr, size_t size, size_t n, __int32)
fread1		proc far		; CODE XREF: LoadScn_Code+48P
					; LoadScn_MTbl+48P ...

var_2		= word ptr -2
ptr		= dword	ptr  6
size		= word ptr  0Ah
n		= word ptr  0Ch
arg_8		= dword	ptr  0Eh

		enter	2, 0
		push	si
		push	di
		mov	di, [bp+size]
		cmp	word_2AE06, 0
		jnz	short loc_1ED81
		mov	[bp+var_2], 41h	; 'A'
		jmp	short loc_1EDE4
; ---------------------------------------------------------------------------

loc_1ED81:				; CODE XREF: fread1+Ej
		les	bx, [bp+arg_8]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1ED93
		cmp	ax, 2
		jz	short loc_1EDBE
		jmp	short loc_1EDDD
; ---------------------------------------------------------------------------

loc_1ED93:				; CODE XREF: fread1+20j
		xor	si, si
		jmp	short loc_1EDB5
; ---------------------------------------------------------------------------

loc_1ED97:				; CODE XREF: fread1+4Ej
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8] ; __int32
		push	di		; int
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		push	cs
		call	near ptr fread2
		add	sp, 0Ah
		or	ax, dx
		jnz	short loc_1EDB1
		jmp	short loc_1EDBA
; ---------------------------------------------------------------------------

loc_1EDB1:				; CODE XREF: fread1+43j
		add	word ptr [bp+ptr], di
		inc	si

loc_1EDB5:				; CODE XREF: fread1+2Bj
		cmp	si, [bp+n]
		jb	short loc_1ED97

loc_1EDBA:				; CODE XREF: fread1+45j
		mov	ax, si
		jmp	short loc_1EDF2
; ---------------------------------------------------------------------------

loc_1EDBE:				; CODE XREF: fread1+25j
		les	bx, [bp+arg_8]
		push	word ptr es:[bx+14h]
		push	word ptr es:[bx+12h] ; stream
		push	[bp+n]		; n
		push	di		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	_fread
		add	sp, 0Ch
		jmp	short loc_1EDF2
; ---------------------------------------------------------------------------

loc_1EDDD:				; CODE XREF: fread1+27j
		mov	[bp+var_2], 44h	; 'D'
		jmp	short $+2

loc_1EDE4:				; CODE XREF: fread1+15j
		les	bx, [bp+arg_8]
		mov	ax, [bp+var_2]
		mov	es:[bx+4], ax
		xor	ax, ax
		jmp	short $+2

loc_1EDF2:				; CODE XREF: fread1+52j fread1+71j
		pop	di
		pop	si
		leave
		retf
fread1		endp

; ---------------------------------------------------------------------------
		enter	2, 0
		push	si
		cmp	word_2AE06, 0
		jnz	short loc_1EE07
		mov	si, 41h	; 'A'
		jmp	short loc_1EE5A
; ---------------------------------------------------------------------------

loc_1EE07:				; CODE XREF: seg005:0880j
		les	bx, [bp+6]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1EE19
		cmp	ax, 2
		jz	short loc_1EE40
		jmp	short loc_1EE55
; ---------------------------------------------------------------------------

loc_1EE19:				; CODE XREF: seg005:0890j
		mov	word ptr [bp-2], 0
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	1
		push	ss
		lea	ax, [bp-2]
		push	ax
		push	cs
		call	near ptr fread2
		add	sp, 0Ah
		or	ax, dx
		jnz	short loc_1EE3B
		mov	word ptr [bp-2], 0FFFFh

loc_1EE3B:				; CODE XREF: seg005:08B4j
		mov	ax, [bp-2]
		jmp	short loc_1EE66
; ---------------------------------------------------------------------------

loc_1EE40:				; CODE XREF: seg005:0895j
		les	bx, [bp+6]
		push	word ptr es:[bx+14h]
		push	word ptr es:[bx+12h]
		call	_fgetc
		add	sp, 4
		jmp	short loc_1EE66
; ---------------------------------------------------------------------------

loc_1EE55:				; CODE XREF: seg005:0897j
		mov	si, 44h	; 'D'
		jmp	short $+2

loc_1EE5A:				; CODE XREF: seg005:0885j
		les	bx, [bp+6]
		mov	es:[bx+4], si
		mov	ax, 0FFFFh
		jmp	short $+2

loc_1EE66:				; CODE XREF: seg005:08BEj seg005:08D3j
		pop	si
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1EE69	proc far		; CODE XREF: LoadMusic+68P
					; LoadMusic+7FP ...

ptr		= word ptr -2
arg_0		= dword	ptr  6

		enter	2, 0
		push	si
		cmp	word_2AE06, 0
		jnz	short loc_1EE7A
		mov	si, 41h	; 'A'
		jmp	short loc_1EECD
; ---------------------------------------------------------------------------

loc_1EE7A:				; CODE XREF: sub_1EE69+Aj
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1EE8C
		cmp	ax, 2
		jz	short loc_1EEB3
		jmp	short loc_1EEC8
; ---------------------------------------------------------------------------

loc_1EE8C:				; CODE XREF: sub_1EE69+1Aj
		mov	[bp+ptr], 0
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0] ; __int32
		push	2		; int
		push	ss
		lea	ax, [bp+ptr]
		push	ax		; ptr
		push	cs

loc_1EE9F:
		call	near ptr fread2
		add	sp, 0Ah
		or	ax, dx
		jnz	short loc_1EEAE
		mov	[bp+ptr], 0FFFFh

loc_1EEAE:				; CODE XREF: sub_1EE69+3Ej
		mov	ax, [bp+ptr]
		jmp	short loc_1EED9
; ---------------------------------------------------------------------------

loc_1EEB3:				; CODE XREF: sub_1EE69+1Fj
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+14h]
		push	word ptr es:[bx+12h] ; stream
		call	_getw
		add	sp, 4
		jmp	short loc_1EED9
; ---------------------------------------------------------------------------

loc_1EEC8:				; CODE XREF: sub_1EE69+21j
		mov	si, 44h	; 'D'
		jmp	short $+2

loc_1EECD:				; CODE XREF: sub_1EE69+Fj
		les	bx, [bp+arg_0]
		mov	es:[bx+4], si
		mov	ax, 0FFFFh
		jmp	short $+2

loc_1EED9:				; CODE XREF: sub_1EE69+48j
					; sub_1EE69+5Dj
		pop	si
		leave
		retf
sub_1EE69	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		cmp	word_2AE06, 0
		jnz	short loc_1EEE8
		jmp	short loc_1EF1C
; ---------------------------------------------------------------------------

loc_1EEE8:				; CODE XREF: seg005:0964j
		les	bx, [bp+6]
		mov	ax, es:[bx]
		cmp	ax, 1
		jz	short loc_1EEFA
		cmp	ax, 2
		jz	short loc_1EF07
		jmp	short loc_1EF1C
; ---------------------------------------------------------------------------

loc_1EEFA:				; CODE XREF: seg005:0971j
		les	bx, [bp+6]
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1EF07:				; CODE XREF: seg005:0976j
		les	bx, [bp+6]
		push	word ptr es:[bx+14h]
		push	word ptr es:[bx+12h]
		call	_ftell
		add	sp, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_1EF1C:				; CODE XREF: seg005:0966j seg005:0978j
		xor	dx, dx

loc_1EF1E:
		xor	ax, ax

loc_1EF20:
		pop	bp
		retf
seg005		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg006		segment	byte public 'CODE' use16
		assume cs:seg006
		;org 2
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

s_initall	proc far		; CODE XREF: _main+40P
		push	bp
		mov	bp, sp
		push	si
		nop
		push	cs
		call	near ptr sub_1F137
		mov	si, ax
		or	ax, ax
		jz	short loc_1EF35
		jmp	short loc_1EF81
; ---------------------------------------------------------------------------

loc_1EF35:				; CODE XREF: s_initall+Dj
		call	sub_1F1D3
		mov	si, ax
		or	ax, ax
		jz	short loc_1EF42
		jmp	short loc_1EF7C
; ---------------------------------------------------------------------------

loc_1EF42:				; CODE XREF: s_initall+1Aj
		call	sub_1F774
		mov	si, ax
		or	ax, ax
		jz	short loc_1EF4F
		jmp	short loc_1EF77
; ---------------------------------------------------------------------------

loc_1EF4F:				; CODE XREF: s_initall+27j
		call	sub_23C5B
		mov	si, ax
		or	ax, ax
		jz	short loc_1EF5C
		jmp	short loc_1EF72
; ---------------------------------------------------------------------------

loc_1EF5C:				; CODE XREF: s_initall+34j
		call	sub_24559
		mov	si, ax
		or	ax, ax
		jz	short loc_1EF69
		jmp	short loc_1EF6D
; ---------------------------------------------------------------------------

loc_1EF69:				; CODE XREF: s_initall+41j
		xor	ax, ax
		jmp	short loc_1EF85
; ---------------------------------------------------------------------------

loc_1EF6D:				; CODE XREF: s_initall+43j
		call	sub_23CBD

loc_1EF72:				; CODE XREF: s_initall+36j
		call	sub_1FB74

loc_1EF77:				; CODE XREF: s_initall+29j
		call	sub_1F1F0

loc_1EF7C:				; CODE XREF: s_initall+1Cj
		nop
		push	cs
		call	near ptr sub_1F1BB

loc_1EF81:				; CODE XREF: s_initall+Fj
		mov	ax, si
		jmp	short $+2

loc_1EF85:				; CODE XREF: s_initall+47j
		pop	si
		pop	bp
		retf
s_initall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1EF88	proc far		; CODE XREF: func+35P _main:loc_19ED0P
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		call	sub_24632
		or	si, ax
		call	sub_23CBD
		or	si, ax
		call	sub_1FB74
		or	si, ax
		call	sub_1F1F0
		or	si, ax
		nop
		push	cs
		call	near ptr sub_1F1BB
		or	si, ax
		mov	ax, si
		jmp	short $+2
		pop	si
		pop	bp
		retf
sub_1EF88	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

Get28E4		proc far		; CODE XREF: _main:loc_19DF5P
					; _main+CCP ...
		push	bp
		mov	bp, sp
		mov	dx, ds
		mov	ax, 28E4h
		pop	bp
		retf
Get28E4		endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1EFC4	proc far		; CODE XREF: seg002:2EEAP
					; sub_1DC31+58EP ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		jmp	short loc_1EFD3
; ---------------------------------------------------------------------------

loc_1EFCD:				; CODE XREF: sub_1EFC4+11j
		nop
		push	cs
		call	near ptr sub_1EFDA
		dec	si

loc_1EFD3:				; CODE XREF: sub_1EFC4+7j
		or	si, si
		jnz	short loc_1EFCD
		pop	si
		pop	bp
		retf
sub_1EFC4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1EFDA	proc far		; CODE XREF: seg002:1EE3P
					; sub_1DC31+442P ...
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_1EFFA
		jmp	short $+2

loc_1EFE6:				; CODE XREF: sub_1EFDA+12j
		mov	dx, 0A0h ; ' '
		in	al, dx		; PIC 2	 same as 0020 for PIC 1
		test	al, 20h
		jz	short loc_1EFE6
		jmp	short $+2

loc_1EFF0:				; CODE XREF: sub_1EFDA+1Cj
		mov	dx, 0A0h ; ' '
		in	al, dx		; PIC 2	 same as 0020 for PIC 1
		test	al, 20h
		jnz	short loc_1EFF0
		jmp	short loc_1F015
; ---------------------------------------------------------------------------

loc_1EFFA:				; CODE XREF: sub_1EFDA+8j
		test	byte ptr ds:28E4h, 4
		jz	short loc_1F015
		jmp	short $+2

loc_1F003:				; CODE XREF: sub_1EFDA+2Fj
		mov	dx, 3DAh
		in	al, dx		; Video	status bits:
					; 0: retrace.  1=display is in vert or horiz retrace.
					; 1: 1=light pen is triggered; 0=armed
					; 2: 1=light pen switch	is open; 0=closed
					; 3: 1=vertical	sync pulse is occurring.
		test	al, 8
		jnz	short loc_1F003
		jmp	short $+2

loc_1F00D:				; CODE XREF: sub_1EFDA+39j
		mov	dx, 3DAh
		in	al, dx		; Video	status bits:
					; 0: retrace.  1=display is in vert or horiz retrace.
					; 1: 1=light pen is triggered; 0=armed
					; 2: 1=light pen switch	is open; 0=closed
					; 3: 1=vertical	sync pulse is occurring.
		test	al, 8
		jz	short loc_1F00D

loc_1F015:				; CODE XREF: sub_1EFDA+1Ej
					; sub_1EFDA+25j
		pop	bp
		retf
sub_1EFDA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F017	proc far		; CODE XREF: seg002:loc_1C4EEP
					; seg002:loc_1C6EEP

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		test	byte ptr ds:28E4h, 1
		jz	short loc_1F059
		mov	cx, bx
		jmp	short loc_1F053
; ---------------------------------------------------------------------------

loc_1F028:				; CODE XREF: sub_1F017+3Ej
		jmp	short loc_1F032
; ---------------------------------------------------------------------------

loc_1F02A:				; CODE XREF: sub_1F017+21j
		cmp	ds:2906h, bx
		jb	short loc_1F032
		jmp	short loc_1F068
; ---------------------------------------------------------------------------

loc_1F032:				; CODE XREF: sub_1F017:loc_1F028j
					; sub_1F017+17j
		mov	dx, 0A0h ; ' '
		in	al, dx		; PIC 2	 same as 0020 for PIC 1
		test	al, 20h
		jz	short loc_1F02A
		jmp	short loc_1F044
; ---------------------------------------------------------------------------

loc_1F03C:				; CODE XREF: sub_1F017+33j
		cmp	ds:2906h, bx
		jb	short loc_1F044
		jmp	short loc_1F068
; ---------------------------------------------------------------------------

loc_1F044:				; CODE XREF: sub_1F017+23j
					; sub_1F017+29j
		mov	dx, 0A0h ; ' '
		in	al, dx		; PIC 2	 same as 0020 for PIC 1
		test	al, 20h
		jnz	short loc_1F03C
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; 8042 keyboard	controller command register.
		dec	cx

loc_1F053:				; CODE XREF: sub_1F017+Fj
		or	cx, cx
		jg	short loc_1F028
		jmp	short loc_1F068
; ---------------------------------------------------------------------------

loc_1F059:				; CODE XREF: sub_1F017+Bj
		test	byte ptr ds:28E4h, 4
		jz	short loc_1F068
		jmp	short $+2

loc_1F062:				; CODE XREF: sub_1F017+4Fj
		cmp	ds:2906h, bx
		jb	short loc_1F062

loc_1F068:				; CODE XREF: sub_1F017+19j
					; sub_1F017+2Bj ...
		cmp	ds:2906h, bx
		jnb	short loc_1F072
		mov	ds:2906h, bx

loc_1F072:				; CODE XREF: sub_1F017+55j
		pop	bp
		retf
sub_1F017	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F076	proc far		; CODE XREF: sub_1F081+6p

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		mov	ds:2906h, ax
		pop	bp
		retf
sub_1F076	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F081	proc far		; CODE XREF: seg002:loc_1C4AFP
					; seg002:loc_1C6C0P
		push	bp
		mov	bp, sp
		push	0
		push	cs
		call	near ptr sub_1F076
		pop	cx
		pop	bp
		retf
sub_1F081	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F08D	proc far		; CODE XREF: seg002:1EF0P seg002:1F4DP ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		test	byte ptr ds:28E4h, 1
		jz	short loc_1F0CF
		mov	cx, bx
		jmp	short loc_1F0C9
; ---------------------------------------------------------------------------

loc_1F09E:				; CODE XREF: sub_1F08D+3Ej
		jmp	short loc_1F0A8
; ---------------------------------------------------------------------------

loc_1F0A0:				; CODE XREF: sub_1F08D+21j
		cmp	ds:2908h, bx
		jb	short loc_1F0A8
		jmp	short loc_1F0DE
; ---------------------------------------------------------------------------

loc_1F0A8:				; CODE XREF: sub_1F08D:loc_1F09Ej
					; sub_1F08D+17j
		mov	dx, 0A0h ; ' '
		in	al, dx		; PIC 2	 same as 0020 for PIC 1
		test	al, 20h
		jz	short loc_1F0A0
		jmp	short loc_1F0BA
; ---------------------------------------------------------------------------

loc_1F0B2:				; CODE XREF: sub_1F08D+33j
		cmp	ds:2908h, bx
		jb	short loc_1F0BA
		jmp	short loc_1F0DE
; ---------------------------------------------------------------------------

loc_1F0BA:				; CODE XREF: sub_1F08D+23j
					; sub_1F08D+29j
		mov	dx, 0A0h ; ' '
		in	al, dx		; PIC 2	 same as 0020 for PIC 1
		test	al, 20h
		jnz	short loc_1F0B2
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; 8042 keyboard	controller command register.
		dec	cx

loc_1F0C9:				; CODE XREF: sub_1F08D+Fj
		or	cx, cx
		jg	short loc_1F09E
		jmp	short loc_1F0DE
; ---------------------------------------------------------------------------

loc_1F0CF:				; CODE XREF: sub_1F08D+Bj
		test	byte ptr ds:28E4h, 4
		jz	short loc_1F0DE
		jmp	short $+2

loc_1F0D8:				; CODE XREF: sub_1F08D+4Fj
		cmp	ds:2908h, bx
		jb	short loc_1F0D8

loc_1F0DE:				; CODE XREF: sub_1F08D+19j
					; sub_1F08D+2Bj ...
		cmp	ds:2908h, bx
		jnb	short loc_1F0E8
		mov	ds:2908h, bx

loc_1F0E8:				; CODE XREF: sub_1F08D+55j
		sub	ds:2908h, bx
		pop	bp
		retf
sub_1F08D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F0EE	proc far		; CODE XREF: sub_1F0F9+6p

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_0]
		mov	ds:2908h, ax
		pop	bp
		retf
sub_1F0EE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F0F9	proc far		; CODE XREF: seg002:1E56P
					; seg002:loc_1BDD7P ...
		push	bp
		mov	bp, sp
		push	0
		push	cs
		call	near ptr sub_1F0EE
		pop	cx
		pop	bp
		retf
sub_1F0F9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F105	proc far		; CODE XREF: sub_1F137+Dp

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		push	si
		mov	byte ptr [bp+inregs+1],	0Fh
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86
		add	sp, 0Ah
		cmp	byte ptr [bp+outregs+1], 0Fh
		jnz	short loc_1F12D
		mov	si, 1
		jmp	short loc_1F130
; ---------------------------------------------------------------------------

loc_1F12D:				; CODE XREF: sub_1F105+21j
		mov	si, 4

loc_1F130:				; CODE XREF: sub_1F105+26j
		mov	ax, si
		jmp	short $+2
		pop	si
		leave
		retf
sub_1F105	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F137	proc far		; CODE XREF: s_initall+6p
		push	bp
		mov	bp, sp
		cmp	word_2AE14, 0
		jz	short loc_1F143
		jmp	short loc_1F1B5
; ---------------------------------------------------------------------------

loc_1F143:				; CODE XREF: sub_1F137+8j
		push	cs
		call	near ptr sub_1F105
		mov	ds:28E4h, ax
		test	byte ptr ds:28E4h, 1

loc_1F14F:
		jz	short loc_1F156
		mov	ax, 100h
		jmp	short loc_1F159
; ---------------------------------------------------------------------------

loc_1F156:				; CODE XREF: sub_1F137:loc_1F14Fj
		mov	ax, 200h

loc_1F159:				; CODE XREF: sub_1F137+1Dj
		or	ax, 1
		mov	ds:28E6h, ax
		mov	word ptr ds:28E8h, 8000h
		mov	word ptr ds:28EAh, 0
		mov	ax, 40h	; '@'
		mov	ds:28EEh, ax
		mov	ds:28ECh, ax
		mov	word ptr ds:28F0h, 0
		mov	word ptr ds:28F2h, 0
		xor	ax, ax
		mov	ds:2908h, ax
		mov	ds:2906h, ax
		mov	ds:2904h, ax
		mov	ds:2902h, ax
		mov	ds:2900h, ax
		mov	ds:28FEh, ax
		mov	ds:28FCh, ax
		mov	ds:28FAh, ax
		mov	ds:28F8h, ax
		mov	ds:28F6h, ax
		mov	ds:28F4h, ax
		mov	word ptr ds:290Ch, 0
		mov	word ptr ds:290Ah, 0
		mov	word_2AE14, 1

loc_1F1B5:				; CODE XREF: sub_1F137+Aj
		xor	ax, ax
		pop	bp
		retf
sub_1F137	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F1BB	proc far		; CODE XREF: s_initall+5Ap
					; sub_1EF88+24p
		push	bp
		mov	bp, sp
		cmp	word_2AE14, 0
		jnz	short loc_1F1C7
		jmp	short loc_1F1CD
; ---------------------------------------------------------------------------

loc_1F1C7:				; CODE XREF: sub_1F1BB+8j
		mov	word_2AE14, 0

loc_1F1CD:				; CODE XREF: sub_1F1BB+Aj
		xor	ax, ax

loc_1F1CF:
		pop	bp

locret_1F1D0:
		retf
sub_1F1BB	endp

seg006		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg007		segment	byte public 'CODE' use16
		assume cs:seg007
		;org 1
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F1D3	proc far		; CODE XREF: s_initall:loc_1EF35P
		push	bp
		mov	bp, sp
		cmp	word_2AE16, 0
		jz	short loc_1F1DF
		jmp	short loc_1F1EA
; ---------------------------------------------------------------------------

loc_1F1DF:				; CODE XREF: sub_1F1D3+8j
		call	sub_1F216
		mov	word_2AE16, 1

loc_1F1EA:				; CODE XREF: sub_1F1D3+Aj
		xor	ax, ax
		pop	bp
		retf
sub_1F1D3	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F1F0	proc far		; CODE XREF: s_initall:loc_1EF77P
					; sub_1EF88+1BP
		push	bp
		mov	bp, sp
		cmp	word_2AE16, 0
		jnz	short loc_1F1FC
		jmp	short loc_1F207
; ---------------------------------------------------------------------------

loc_1F1FC:				; CODE XREF: sub_1F1F0+8j
		call	sub_1F289
		mov	word_2AE16, 0

loc_1F207:				; CODE XREF: sub_1F1F0+Aj
		xor	ax, ax
		pop	bp
		retf
sub_1F1F0	endp

seg007		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg008		segment	byte public 'CODE' use16
		assume cs:seg008
		;org 0Bh
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		pop	bp
		retf
; ---------------------------------------------------------------------------
dword_1F20D	dd 0			; DATA XREF: sub_1F216+16w
					; sub_1F289+11r ...
dword_1F211	dd 0			; DATA XREF: sub_1F216+50w
					; sub_1F289+46r ...
byte_1F215	db 0			; DATA XREF: sub_1F216+31w
					; sub_1F289+32r

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F216	proc far		; CODE XREF: sub_1F1D3:loc_1F1DFP
		enter	0, 0
		push	es
		push	ds
		push	di
		push	si
		test	word ptr ds:28E4h, 1
		jz	short loc_1F258
		cli
		mov	ax, 350Ah
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr cs:dword_1F20D, bx
		mov	word ptr cs:dword_1F20D+2, es
		push	ds
		mov	ax, cs
		mov	ds, ax
		assume ds:seg008
		mov	dx, 0FBh ; 'û'
		mov	ax, 250Ah
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg
		cli
		in	al, 2		; DMA controller, 8237A-5.
					; channel 1 current address
		mov	cs:byte_1F215, al
		and	al, 0FBh
		out	5Fh, al
		out	2, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		out	64h, al		; 8042 keyboard	controller command register.
		out	5Fh, al
		sti
		jmp	short loc_1F281
; ---------------------------------------------------------------------------

loc_1F258:				; CODE XREF: sub_1F216+Ej
		test	word ptr ds:28E4h, 4
		jz	short loc_1F281
		cli
		mov	ax, 351Ch
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr cs:dword_1F211, bx
		mov	word ptr cs:dword_1F211+2, es
		push	ds
		mov	ax, cs
		mov	ds, ax
		assume ds:seg008
		mov	dx, 11Ch
		mov	ax, 251Ch
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg
		sti
		jmp	short $+2

loc_1F281:				; CODE XREF: sub_1F216+40j
					; sub_1F216+48j
		xor	ax, ax
		pop	si
		pop	di
		pop	ds
		pop	es
		leave
		retf
sub_1F216	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F289	proc far		; CODE XREF: sub_1F1F0:loc_1F1FCP
		enter	0, 0
		push	es
		push	ds
		push	di
		push	si
		test	word ptr ds:28E4h, 1
		jz	short loc_1F2C6
		cli
		mov	ax, word ptr cs:dword_1F20D
		or	ax, word ptr cs:dword_1F20D+2
		jz	short loc_1F2C1
		push	ds
		lds	dx, cs:dword_1F20D
		mov	ax, 250Ah
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		xor	ax, ax
		mov	word ptr cs:dword_1F20D, ax
		mov	word ptr cs:dword_1F20D+2, ax
		mov	al, cs:byte_1F215
		out	2, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)

loc_1F2C1:				; CODE XREF: sub_1F289+1Aj
		out	5Fh, al
		sti
		jmp	short loc_1F2F3
; ---------------------------------------------------------------------------

loc_1F2C6:				; CODE XREF: sub_1F289+Ej
		test	word ptr ds:28E4h, 4
		jz	short loc_1F2F3
		cli
		mov	ax, word ptr cs:dword_1F211
		or	ax, word ptr cs:dword_1F211+2
		jz	short loc_1F2F0
		push	ds
		lds	dx, cs:dword_1F211
		mov	ax, 251Ch
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		xor	ax, ax
		mov	word ptr cs:dword_1F211, ax
		mov	word ptr cs:dword_1F211+2, ax

loc_1F2F0:				; CODE XREF: sub_1F289+4Fj
		sti
		jmp	short $+2

loc_1F2F3:				; CODE XREF: sub_1F289+3Bj
					; sub_1F289+43j
		xor	ax, ax
		pop	si
		pop	di
		pop	ds
		pop	es
		leave
		retf
sub_1F289	endp

; ---------------------------------------------------------------------------
		pushf
		call	cs:dword_1F20D
		out	64h, al		; 8042 keyboard	controller command register.
		pushf
		push	ds
		push	ax
		mov	ax, seg	dseg
		mov	ds, ax
		cld
		sti
		call	sub_1F340
		call	sub_1F36D
		call	sub_1F399
		out	64h, al		; 8042 keyboard	controller command register.
		pop	ax
		pop	ds
		popf
		iret
; ---------------------------------------------------------------------------
		pushf
		push	ds
		push	ax
		mov	ax, seg	dseg
		mov	ds, ax
		cld
		sti
		call	sub_1F340
		call	sub_1F399
		call	sub_1F340
		call	sub_1F399
		call	sub_1F340
		call	sub_1F399
		pop	ax
		pop	ds
		popf
		jmp	cs:dword_1F211

; =============== S U B	R O U T	I N E =======================================


sub_1F340	proc near		; CODE XREF: seg008:010Dp seg008:0126p ...
		inc	word ptr ds:28F4h
		inc	word ptr ds:28F6h
		inc	word ptr ds:28F8h
		inc	word ptr ds:28FAh

loc_1F350:
		dec	word ptr ds:28FCh
		dec	word ptr ds:28FEh
		dec	word ptr ds:2900h
		dec	word ptr ds:2902h
		inc	word ptr ds:2904h
		inc	word ptr ds:2906h
		inc	word ptr ds:2908h
		retn
sub_1F340	endp


; =============== S U B	R O U T	I N E =======================================


sub_1F36D	proc near		; CODE XREF: seg008:0110p
		cli
		mov	ax, word_2AFB2
		or	ax, ax
		jz	short loc_1F397
		xor	ax, ax
		mov	word_2AFB2, ax
		cld
		push	si
		push	cx
		mov	si, 1534h
		mov	cx, 10h

loc_1F383:				; CODE XREF: sub_1F36D+26j
		mov	ax, 10h
		sub	ax, cx
		out	0A8h, al	; Interrupt Controller #2, 8259A
		lodsb
		out	0AAh, al	; Interrupt Controller #2, 8259A
		lodsb
		out	0ACh, al	; Interrupt Controller #2, 8259A
		lodsb
		out	0AEh, al	; Interrupt Controller #2, 8259A
		loop	loc_1F383
		pop	cx
		pop	si

loc_1F397:				; CODE XREF: sub_1F36D+6j
		sti
		retn
sub_1F36D	endp


; =============== S U B	R O U T	I N E =======================================


sub_1F399	proc near		; CODE XREF: seg008:0113p seg008:0129p ...
		cli
		cmp	word_2AE18, 0
		jnz	short loc_1F3DC
		mov	ax, ds:290Ah
		or	ax, ds:290Ch
		jz	short loc_1F3DC
		mov	word_2AE1A, ss
		mov	word_2AE1C, sp
		mov	ax, seg	dseg
		mov	ss, ax
		assume ss:dseg
		mov	sp, 2D00h
		mov	word_2AE18, 1
		pushf
		push	es
		push	ds
		pusha
		sti
		call	dword ptr ds:290Ah
		cli
		popa
		pop	ds
		pop	es
		popf

loc_1F3CE:
		mov	ss, word_2AE1A
		assume ss:nothing
		mov	sp, word_2AE1C
		mov	word_2AE18, 0

loc_1F3DC:				; CODE XREF: sub_1F399+6j sub_1F399+Fj
		sti
		retn
sub_1F399	endp

seg008		ends

; ===========================================================================

; Segment type:	Pure code
seg009		segment	byte public 'CODE' use16
		assume cs:seg009
		;org 0Eh
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F3DE	proc far		; CODE XREF: sub_1F774+3AEp

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	ds
		push	offset a2j	; "\x1B[2J"
		call	_printf
		add	sp, 4
		push	ds
		push	offset a230h	; "\x1B[23;0H"
		call	_printf
		add	sp, 4
		test	byte ptr ds:28E4h, 1
		jz	short loc_1F444
		mov	word ptr [bp+var_4+2], 0A000h
		mov	word ptr [bp+var_4], 0
		xor	si, si
		jmp	short loc_1F41D
; ---------------------------------------------------------------------------

loc_1F410:				; CODE XREF: sub_1F3DE+43j
		les	bx, [bp+var_4]
		mov	word ptr es:[bx], 0
		add	word ptr [bp+var_4], 2
		inc	si

loc_1F41D:				; CODE XREF: sub_1F3DE+30j
		cmp	si, 0FA0h
		jl	short loc_1F410
		mov	word ptr [bp+var_4+2], 0A200h
		mov	word ptr [bp+var_4], 0
		xor	si, si
		jmp	short loc_1F43E
; ---------------------------------------------------------------------------

loc_1F431:				; CODE XREF: sub_1F3DE+64j
		les	bx, [bp+var_4]
		mov	word ptr es:[bx], 0E1h ; 'á'
		add	word ptr [bp+var_4], 2
		inc	si

loc_1F43E:				; CODE XREF: sub_1F3DE+51j
		cmp	si, 0FA0h
		jl	short loc_1F431

loc_1F444:				; CODE XREF: sub_1F3DE+22j
		pop	si
		leave
		retf
sub_1F3DE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F447	proc far		; CODE XREF: sub_1D2DC+37P
					; sub_1F774+3B2p

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		test	byte ptr ds:28E4h, 1
		jz	short loc_1F4A6
		mov	byte ptr [bp+inregs+1],	42h ; 'B'
		mov	byte ptr [bp+inregs+5],	0C0h ; 'À'
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		mov	byte ptr [bp+inregs+1],	40h ; '@'
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		mov	dx, 6Ah	; 'j'
		mov	al, 1
		out	dx, al
		mov	word ptr ds:290Eh, 0
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	word ptr ds:2910h, 0
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		jmp	short locret_1F4E9
; ---------------------------------------------------------------------------

loc_1F4A6:				; CODE XREF: sub_1F447+9j
		test	byte ptr ds:28E4h, 4
		jz	short locret_1F4E9
		mov	byte ptr [bp+inregs+1],	0Fh
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86
		add	sp, 0Ah
		mov	al, byte ptr [bp+outregs]
		mov	ah, 0
		mov	word_2AFE4, ax
		mov	byte ptr [bp+inregs], 12h
		mov	byte ptr [bp+inregs+1],	0
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86
		add	sp, 0Ah

locret_1F4E9:				; CODE XREF: sub_1F447+5Dj
					; sub_1F447+64j
		leave
		retf
sub_1F447	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F4EB	proc far		; CODE XREF: sub_1D2DC+43P
					; sub_1FB74+52p ...

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		test	byte ptr ds:28E4h, 1
		jz	short loc_1F516
		mov	dx, 6Ah	; 'j'
		mov	al, 0
		out	dx, al
		mov	byte ptr [bp+inregs+1],	41h ; 'A'
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		jmp	short locret_1F542
; ---------------------------------------------------------------------------

loc_1F516:				; CODE XREF: sub_1F4EB+9j
		test	byte ptr ds:28E4h, 4
		jz	short locret_1F542
		cmp	word_2AFE4, 0
		jz	short locret_1F542
		mov	al, byte ptr word_2AFE4
		mov	byte ptr [bp+inregs], al
		mov	byte ptr [bp+inregs+1],	0
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86
		add	sp, 0Ah

locret_1F542:				; CODE XREF: sub_1F4EB+29j
					; sub_1F4EB+30j ...
		leave
		retf
sub_1F4EB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F544	proc far		; CODE XREF: sub_1F774+3BAp

outregs		= REGS ptr -3Ch
inregs		= REGS ptr -2Ch
var_1C		= byte ptr -1Ch
var_C		= byte ptr -0Ch
segp		= SREGS	ptr -0Ah
var_2		= word ptr -2

		enter	3Ch, 0
		test	byte ptr ds:28E4h, 1
		jz	short loc_1F55E
		push	ds
		push	2D9Ah
		nop
		push	cs
		call	near ptr sub_2029E
		add	sp, 4
		jmp	locret_1F63A
; ---------------------------------------------------------------------------

loc_1F55E:				; CODE XREF: sub_1F544+9j
		test	byte ptr ds:28E4h, 4
		jnz	short loc_1F568
		jmp	locret_1F63A
; ---------------------------------------------------------------------------

loc_1F568:				; CODE XREF: sub_1F544+1Fj
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	[bp+segp._es], ds
		mov	word ptr [bp+inregs+6],	2DFEh
		mov	word ptr [bp+inregs], 1009h
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86x
		add	sp, 0Eh
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	[bp+segp._es], ds
		mov	word ptr [bp+inregs+6],	2E20h
		mov	word ptr [bp+inregs+2],	30h ; '0'
		mov	word ptr [bp+inregs+4],	10h
		mov	word ptr [bp+inregs], 1017h
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86x
		add	sp, 0Eh
		mov	[bp+var_2], 0
		jmp	short loc_1F5F0
; ---------------------------------------------------------------------------

loc_1F5DF:				; CODE XREF: sub_1F544+B0j
		lea	bx, [bp+var_1C]
		add	bx, [bp+var_2]
		mov	al, byte ptr [bp+var_2]
		add	al, 30h	; '0'
		mov	ss:[bx], al
		inc	[bp+var_2]

loc_1F5F0:				; CODE XREF: sub_1F544+99j
		cmp	[bp+var_2], 10h
		jl	short loc_1F5DF
		mov	[bp+var_C], 0
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	[bp+segp._es], ss
		lea	ax, [bp+var_1C]
		mov	word ptr [bp+inregs+6],	ax
		mov	word ptr [bp+inregs], 1002h
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86x
		add	sp, 0Eh
		push	ds
		push	2D9Ah
		nop
		push	cs
		call	near ptr sub_2029E
		add	sp, 4

locret_1F63A:				; CODE XREF: sub_1F544+17j
					; sub_1F544+21j
		leave
		retf
sub_1F544	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F63C	proc far		; CODE XREF: sub_1FB74+56p
					; sub_1FB74+6Bp

outregs		= REGS ptr -28h
inregs		= REGS ptr -18h
segp		= SREGS	ptr -8

		enter	28h, 0
		test	byte ptr ds:28E4h, 1
		jz	short loc_1F649
		jmp	short locret_1F6C0
; ---------------------------------------------------------------------------

loc_1F649:				; CODE XREF: sub_1F63C+9j
		test	byte ptr ds:28E4h, 4
		jz	short locret_1F6C0
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	[bp+segp._es], ds
		mov	word ptr [bp+inregs+6],	2DFEh
		mov	word ptr [bp+inregs], 1002h
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86x
		add	sp, 0Eh
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	[bp+segp._es], ds
		mov	word ptr [bp+inregs+6],	2E20h
		mov	word ptr [bp+inregs+2],	30h ; '0'
		mov	word ptr [bp+inregs+4],	10h
		mov	word ptr [bp+inregs], 1012h
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86x
		add	sp, 0Eh

locret_1F6C0:				; CODE XREF: sub_1F63C+Bj
					; sub_1F63C+12j
		leave
		retf
sub_1F63C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F6C2	proc far		; CODE XREF: sub_1D2DC:loc_1D31AP
					; sub_1FB74+5Ap ...

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		test	byte ptr ds:28E4h, 1
		jz	short locret_1F719
		mov	byte ptr [bp+inregs+1],	1Bh
		mov	byte ptr [bp+inregs], 0
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		mov	byte ptr [bp+inregs+1],	0Ch
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		mov	byte ptr [bp+inregs+1],	11h
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah

locret_1F719:				; CODE XREF: sub_1F6C2+9j
		leave
		retf
sub_1F6C2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F71B	proc far		; CODE XREF: sub_1D2DC+32P
					; sub_1F774+3B6p

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		test	byte ptr ds:28E4h, 1
		jz	short locret_1F772
		mov	byte ptr [bp+inregs+1],	12h
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		mov	byte ptr [bp+inregs+1],	0Dh
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		mov	byte ptr [bp+inregs+1],	1Bh
		mov	byte ptr [bp+inregs], 1
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah

locret_1F772:				; CODE XREF: sub_1F71B+9j
		leave
		retf
sub_1F71B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1F774	proc far		; CODE XREF: s_initall:loc_1EF42P

preg		= REGPACK ptr -18h
var_4		= word ptr -4
var_2		= word ptr -2

		enter	18h, 0
		push	si
		push	di
		cmp	word_2AFE6, 0
		jz	short loc_1F784
		jmp	loc_1FB37
; ---------------------------------------------------------------------------

loc_1F784:				; CODE XREF: sub_1F774+Bj
		test	byte ptr ds:28E4h, 4
		jz	short loc_1F7C4
		mov	[bp+preg.r_ax],	5000h
		mov	[bp+preg.r_bx],	100h
		mov	[bp+preg.r_dx],	1010h
		mov	[bp+preg.r_bp],	0
		push	ss
		lea	ax, [bp+preg]
		push	ax		; preg
		push	15h		; intno
		call	_intr
		add	sp, 6
		test	byte ptr [bp+preg.r_flags], 1
		jz	short loc_1F7B7
		jmp	loc_1FB3B
; ---------------------------------------------------------------------------

loc_1F7B7:				; CODE XREF: sub_1F774+3Ej
		mov	ax, [bp+preg.r_es]
		mov	dx, [bp+preg.r_bx]
		mov	ds:2DFCh, ax
		mov	ds:2DFAh, dx

loc_1F7C4:				; CODE XREF: sub_1F774+15j
		test	byte ptr ds:28E4h, 1
		jnz	short loc_1F7CE
		jmp	loc_1F8C5
; ---------------------------------------------------------------------------

loc_1F7CE:				; CODE XREF: sub_1F774+55j
		mov	word ptr ds:2D92h, 0
		mov	word ptr ds:2D94h, 1
		mov	word_2AE20, 0A800h
		mov	word_2AE1E, 0
		mov	word_2AE24, 0B000h
		mov	word_2AE22, 0
		mov	word_2AE28, 0B800h
		mov	word_2AE26, 0
		mov	word_2AE2C, 0E000h
		mov	word_2AE2A, 0
		mov	word ptr ds:2D72h, 50h ; 'P'
		mov	word ptr ds:2D32h, 50h ; 'P'
		mov	word ptr ds:2D52h, 190h
		mov	word_2AF1E, 3
		mov	[bp+var_4], 508h
		mov	ax, [bp+var_4]
		mov	word_2AE30, 0A800h
		mov	word_2AE2E, ax
		mov	ax, [bp+var_4]
		mov	word_2AE34, 0B000h
		mov	word_2AE32, ax
		mov	ax, [bp+var_4]
		mov	word_2AE38, 0B800h
		mov	word_2AE36, ax
		mov	ax, [bp+var_4]
		mov	word_2AE3C, 0E000h
		mov	word_2AE3A, ax
		mov	word ptr ds:2D74h, 50h ; 'P'
		mov	word ptr ds:2D34h, 40h ; '@'
		mov	word ptr ds:2D54h, 0F8h	; 'ø'
		mov	word_2AF20, 3
		mov	word_2AF22, 0
		mov	[bp+var_4], 58CAh
		mov	ax, [bp+var_4]
		mov	word_2AE50, 0A800h
		mov	word_2AE4E, ax
		mov	ax, [bp+var_4]
		mov	word_2AE54, 0B000h
		mov	word_2AE52, ax
		mov	ax, [bp+var_4]
		mov	word_2AE58, 0B800h
		mov	word_2AE56, ax
		mov	ax, [bp+var_4]
		mov	word_2AE5C, 0E000h
		mov	word_2AE5A, ax
		mov	word ptr ds:2D78h, 50h ; 'P'
		mov	word ptr ds:2D38h, 3Ch ; '<'
		mov	word ptr ds:2D58h, 6Ah ; 'j'
		mov	word_2AF24, 3
		jmp	loc_1F999
; ---------------------------------------------------------------------------

loc_1F8C5:				; CODE XREF: sub_1F774+57j
		test	byte ptr ds:28E4h, 4
		jnz	short loc_1F8CF
		jmp	loc_1F999
; ---------------------------------------------------------------------------

loc_1F8CF:				; CODE XREF: sub_1F774+156j
		mov	word ptr ds:2D98h, 0A000h
		mov	word ptr ds:2D96h, 0FFFEh
		mov	ax, 0A000h
		mov	dx, 0C80h
		mov	word_2AE2C, ax
		mov	word_2AE2A, dx
		mov	word_2AE28, ax
		mov	word_2AE26, dx
		mov	word_2AE24, ax
		mov	word_2AE22, dx
		mov	word_2AE20, ax
		mov	word_2AE1E, dx
		mov	word ptr ds:2D72h, 50h ; 'P'
		mov	word ptr ds:2D32h, 50h ; 'P'
		mov	word ptr ds:2D52h, 190h
		mov	word_2AF1E, 2
		mov	[bp+var_4], 1188h
		mov	ax, 0A000h
		mov	dx, [bp+var_4]
		mov	word_2AE3C, ax
		mov	word_2AE3A, dx
		mov	word_2AE38, ax
		mov	word_2AE36, dx
		mov	word_2AE34, ax
		mov	word_2AE32, dx
		mov	word_2AE30, ax
		mov	word_2AE2E, dx
		mov	word ptr ds:2D74h, 50h ; 'P'
		mov	word ptr ds:2D34h, 40h ; '@'
		mov	word ptr ds:2D54h, 0F8h	; 'ø'
		mov	word_2AF20, 2
		mov	word_2AF22, 0
		mov	[bp+var_4], 654Ah
		mov	ax, 0A000h
		mov	dx, [bp+var_4]
		mov	word_2AE5C, ax
		mov	word_2AE5A, dx
		mov	word_2AE58, ax
		mov	word_2AE56, dx
		mov	word_2AE54, ax
		mov	word_2AE52, dx
		mov	word_2AE50, ax
		mov	word_2AE4E, dx
		mov	word ptr ds:2D78h, 50h ; 'P'
		mov	word ptr ds:2D38h, 3Ch ; '<'
		mov	word ptr ds:2D58h, 6Ah ; 'j'
		mov	word_2AF24, 2

loc_1F999:				; CODE XREF: sub_1F774+14Ej
					; sub_1F774+158j
		xor	di, di
		jmp	short loc_1F9BB
; ---------------------------------------------------------------------------

loc_1F99D:				; CODE XREF: sub_1F774+24Aj
		push	8A00h
		call	sub_12890
		pop	cx
		mov	bx, di
		shl	bx, 2
		mov	[bx+13E0h], dx
		mov	[bx+13DEh], ax
		or	ax, dx
		jnz	short loc_1F9BA
		jmp	loc_1FB3B
; ---------------------------------------------------------------------------

loc_1F9BA:				; CODE XREF: sub_1F774+241j
		inc	di

loc_1F9BB:				; CODE XREF: sub_1F774+227j
		cmp	di, 4
		jl	short loc_1F99D
		mov	word ptr ds:2D7Ah, 50h ; 'P'
		mov	word ptr ds:2D3Ah, 50h ; 'P'
		mov	word ptr ds:2D5Ah, 190h
		mov	word_2AF26, 1
		xor	di, di
		jmp	short loc_1F9F7
; ---------------------------------------------------------------------------

loc_1F9DC:				; CODE XREF: sub_1F774+286j
		mov	bx, di
		shl	bx, 2
		mov	dx, [bx+13E0h]
		mov	ax, [bx+13DEh]
		mov	bx, di
		shl	bx, 2
		mov	[bx+13F0h], dx
		mov	[bx+13EEh], ax
		inc	di

loc_1F9F7:				; CODE XREF: sub_1F774+266j
		cmp	di, 4
		jl	short loc_1F9DC
		mov	word ptr ds:2D7Ch, 40h ; '@'
		mov	word ptr ds:2D3Ch, 40h ; '@'
		mov	word ptr ds:2D5Ch, 0F8h	; 'ø'
		mov	word_2AF28, 1
		mov	[bp+var_4], 3E80h
		xor	di, di
		jmp	short loc_1FA3B
; ---------------------------------------------------------------------------

loc_1FA1D:				; CODE XREF: sub_1F774+2CAj
		mov	bx, di
		shl	bx, 2
		mov	dx, [bx+13E0h]
		mov	ax, [bx+13DEh]
		add	ax, [bp+var_4]
		mov	bx, di
		shl	bx, 2
		mov	[bx+1400h], dx
		mov	[bx+13FEh], ax
		inc	di

loc_1FA3B:				; CODE XREF: sub_1F774+2A7j
		cmp	di, 4
		jl	short loc_1FA1D
		mov	word ptr ds:2D7Eh, 40h ; '@'
		mov	word ptr ds:2D3Eh, 40h ; '@'
		mov	word ptr ds:2D5Eh, 0F8h	; 'ø'
		mov	word_2AF2A, 1
		mov	[bp+var_4], 58CAh
		xor	di, di
		jmp	short loc_1FA7F
; ---------------------------------------------------------------------------

loc_1FA61:				; CODE XREF: sub_1F774+30Ej
		mov	bx, di
		shl	bx, 2
		mov	dx, [bx+13E0h]
		mov	ax, [bx+13DEh]
		add	ax, [bp+var_4]
		mov	bx, di
		shl	bx, 2
		mov	[bx+1410h], dx
		mov	[bx+140Eh], ax
		inc	di

loc_1FA7F:				; CODE XREF: sub_1F774+2EBj
		cmp	di, 4
		jl	short loc_1FA61
		mov	word ptr ds:2D80h, 3Ch ; '<'
		mov	word ptr ds:2D40h, 3Ch ; '<'
		mov	word ptr ds:2D60h, 6Ah ; 'j'
		mov	word_2AF2C, 1
		mov	di, 8
		jmp	short loc_1FB1C
; ---------------------------------------------------------------------------

loc_1FAA1:				; CODE XREF: sub_1F774+3ABj
		mov	[bp+var_2], 0
		jmp	short loc_1FAD5
; ---------------------------------------------------------------------------

loc_1FAA8:				; CODE XREF: sub_1F774+365j
		mov	bx, di
		shl	bx, 4
		mov	ax, [bp+var_2]
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+1320h]
		mov	ax, [bx+131Eh]
		mov	bx, di
		shl	bx, 4
		mov	si, [bp+var_2]
		shl	si, 2
		add	bx, si
		mov	[bx+13A0h], dx
		mov	[bx+139Eh], ax
		inc	[bp+var_2]

loc_1FAD5:				; CODE XREF: sub_1F774+332j
		cmp	[bp+var_2], 4
		jl	short loc_1FAA8
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D62h]
		mov	bx, di
		add	bx, bx
		mov	[bx+2D72h], ax
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D22h]
		mov	bx, di
		add	bx, bx
		mov	[bx+2D32h], ax
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D42h]
		mov	bx, di
		add	bx, bx
		mov	[bx+2D52h], ax
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+148Eh]
		mov	bx, di
		add	bx, bx
		mov	[bx+149Eh], ax
		inc	di

loc_1FB1C:				; CODE XREF: sub_1F774+32Bj
		cmp	di, 10h
		jl	short loc_1FAA1
		push	cs
		call	near ptr sub_1F3DE
		push	cs
		call	near ptr sub_1F447
		push	cs
		call	near ptr sub_1F71B
		push	cs
		call	near ptr sub_1F544
		mov	word_2AFE6, 1

loc_1FB37:				; CODE XREF: sub_1F774+Dj
		xor	ax, ax
		jmp	short loc_1FB70
; ---------------------------------------------------------------------------

loc_1FB3B:				; CODE XREF: sub_1F774+40j
					; sub_1F774+243j
		xor	di, di
		jmp	short loc_1FB66
; ---------------------------------------------------------------------------

loc_1FB3F:				; CODE XREF: sub_1F774+3F5j
		mov	bx, di
		shl	bx, 2
		push	word ptr [bx+13E0h]
		push	word ptr [bx+13DEh]
		call	sub_1275D
		add	sp, 4
		mov	bx, di
		shl	bx, 2
		mov	word ptr [bx+13E0h], 0
		mov	word ptr [bx+13DEh], 0
		inc	di

loc_1FB66:				; CODE XREF: sub_1F774+3C9j
		cmp	di, 4
		jl	short loc_1FB3F
		mov	ax, 1
		jmp	short $+2

loc_1FB70:				; CODE XREF: sub_1F774+3C5j
		pop	di
		pop	si
		leave
		retf
sub_1F774	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1FB74	proc far		; CODE XREF: s_initall:loc_1EF72P
					; sub_1EF88+14P
		push	bp
		mov	bp, sp
		push	si
		cmp	word_2AFE6, 0
		jnz	short loc_1FB82
		jmp	loc_1FC1C
; ---------------------------------------------------------------------------

loc_1FB82:				; CODE XREF: sub_1FB74+9j
		test	byte ptr ds:28E4h, 1
		jz	short loc_1FBD3
		mov	word ptr ds:2910h, 0
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	si, si
		jmp	short loc_1FBB4
; ---------------------------------------------------------------------------

loc_1FB99:				; CODE XREF: sub_1FB74+43j
		push	8000h		; n
		push	0		; c
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+13A0h]
		push	word ptr [bx+139Eh] ; s
		call	_memset
		add	sp, 8
		inc	si

loc_1FBB4:				; CODE XREF: sub_1FB74+23j
		cmp	si, 4
		jl	short loc_1FB99
		mov	word ptr ds:290Eh, 0
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	cs
		call	near ptr sub_1F4EB
		push	cs
		call	near ptr sub_1F63C
		push	cs
		call	near ptr sub_1F6C2
		jmp	short loc_1FBE6
; ---------------------------------------------------------------------------

loc_1FBD3:				; CODE XREF: sub_1FB74+13j
		test	byte ptr ds:28E4h, 4
		jz	short loc_1FBE6
		push	cs
		call	near ptr sub_1F4EB
		push	cs
		call	near ptr sub_1F63C
		push	cs
		call	near ptr sub_1F6C2

loc_1FBE6:				; CODE XREF: sub_1FB74+5Dj
					; sub_1FB74+64j
		xor	si, si
		jmp	short loc_1FC11
; ---------------------------------------------------------------------------

loc_1FBEA:				; CODE XREF: sub_1FB74+A0j
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+13E0h]
		push	word ptr [bx+13DEh]
		call	sub_1275D
		add	sp, 4
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+13E0h], 0
		mov	word ptr [bx+13DEh], 0
		inc	si

loc_1FC11:				; CODE XREF: sub_1FB74+74j
		cmp	si, 4
		jl	short loc_1FBEA
		mov	word_2AFE6, 0

loc_1FC1C:				; CODE XREF: sub_1FB74+Bj
		xor	ax, ax
		jmp	short $+2
		pop	si
		pop	bp
		retf
sub_1FB74	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1FC23	proc far		; CODE XREF: seg002:26DCP

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	cx, [bp+arg_0]
		mov	di, [bp+arg_2]
		xor	si, si
		jmp	short loc_1FC6F
; ---------------------------------------------------------------------------

loc_1FC32:				; CODE XREF: sub_1FC23+4Fj
		mov	bx, di
		shl	bx, 4
		mov	ax, si
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		add	ax, [bp+arg_4]
		mov	bx, di
		add	bx, bx
		push	dx
		push	ax
		mov	ax, [bx+2D72h]
		imul	[bp+arg_6]
		pop	dx
		add	dx, ax
		mov	bx, cx
		shl	bx, 4
		mov	ax, si
		shl	ax, 2
		add	bx, ax
		pop	ax
		mov	[bx+13A0h], ax
		mov	[bx+139Eh], dx
		inc	si

loc_1FC6F:				; CODE XREF: sub_1FC23+Dj
		cmp	si, 4
		jl	short loc_1FC32
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	bx, cx
		add	bx, bx
		mov	[bx+2D72h], ax
		mov	bx, cx
		add	bx, bx
		mov	ax, [bp+arg_8]
		mov	[bx+2D32h], ax
		mov	bx, cx
		add	bx, bx
		mov	ax, [bp+arg_A]
		mov	[bx+2D52h], ax
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+149Eh]
		mov	bx, cx
		add	bx, bx
		mov	[bx+149Eh], ax
		pop	di
		pop	si
		pop	bp
		retf
sub_1FC23	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1FCAE	proc far		; CODE XREF: seg002:loc_1BD21P

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		push	si
		push	di
		test	byte ptr ds:28E4h, 1
		jnz	short loc_1FCBE
		jmp	loc_1FD75
; ---------------------------------------------------------------------------

loc_1FCBE:				; CODE XREF: sub_1FCAE+Bj
		mov	di, ds:2D32h
		mov	ax, ds:2D52h
		mov	[bp+var_4], ax
		xor	si, si
		jmp	short loc_1FCEC
; ---------------------------------------------------------------------------

loc_1FCCC:				; CODE XREF: sub_1FCAE+41j
		push	di		; n
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+13E0h]
		push	word ptr [bx+13DEh] ; src
		push	ds
		mov	ax, di
		imul	si
		add	ax, 2E80h
		push	ax		; dest
		call	_memcpy
		add	sp, 0Ah
		inc	si

loc_1FCEC:				; CODE XREF: sub_1FCAE+1Cj
		cmp	si, 4
		jl	short loc_1FCCC
		mov	[bp+var_2], 0
		jmp	short loc_1FD3D
; ---------------------------------------------------------------------------

loc_1FCF8:				; CODE XREF: sub_1FCAE+95j
		mov	dx, 0A6h ; '¦'
		mov	al, ds:2910h
		out	dx, al		; Interrupt Controller #2, 8259A
		push	1
		push	di
		push	0
		push	[bp+var_2]
		push	0
		push	4
		push	0
		push	0
		nop
		push	cs
		call	near ptr sub_2144C
		add	sp, 10h
		mov	al, ds:2910h
		inc	al
		and	al, 1
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	1
		push	di
		push	4
		push	0
		push	0
		push	0
		push	[bp+var_2]
		push	0
		nop
		push	cs
		call	near ptr sub_2144C
		add	sp, 10h
		inc	[bp+var_2]

loc_1FD3D:				; CODE XREF: sub_1FCAE+48j
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jl	short loc_1FCF8
		mov	dx, 0A6h ; '¦'
		mov	al, ds:2910h
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	si, si
		jmp	short loc_1FD70
; ---------------------------------------------------------------------------

loc_1FD50:				; CODE XREF: sub_1FCAE+C5j
		push	di		; n
		push	ds
		mov	ax, di
		imul	si
		add	ax, 2E80h
		push	ax		; src
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+13E0h]
		push	word ptr [bx+13DEh] ; dest
		call	_memcpy
		add	sp, 0Ah
		inc	si

loc_1FD70:				; CODE XREF: sub_1FCAE+A0j
		cmp	si, 4
		jl	short loc_1FD50

loc_1FD75:				; CODE XREF: sub_1FCAE+Dj
		pop	di
		pop	si
		leave
		retf
sub_1FCAE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1FD79	proc far		; CODE XREF: seg002:loc_1BD3AP
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_1FDA4
		mov	ax, ds:290Eh
		inc	ax
		and	ax, 1
		mov	ds:2910h, ax
		mov	dx, 0A6h ; '¦'
		mov	al, ds:2910h
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, ds:2910h
		mov	ds:2D92h, ax
		mov	ax, ds:2910h
		inc	ax
		and	ax, 1
		mov	ds:2D94h, ax

loc_1FDA4:				; CODE XREF: sub_1FD79+8j
		pop	bp
		retf
sub_1FD79	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1FDA6	proc far		; CODE XREF: seg002:1EE8P
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_1FDBD
		mov	ax, ds:2910h
		mov	ds:290Eh, ax
		mov	dx, 0A4h ; '¤'
		mov	al, ds:290Eh
		out	dx, al		; Interrupt Controller #2, 8259A

loc_1FDBD:				; CODE XREF: sub_1FDA6+8j
		pop	bp
		retf
sub_1FDA6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1FDBF	proc far		; CODE XREF: sub_201C5+56p

outregs		= REGS ptr -5Ah
inregs		= REGS ptr -4Ah
var_3A		= byte ptr -3Ah
var_39		= byte ptr -39h
var_38		= byte ptr -38h
segp		= SREGS	ptr -0Ah
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	5Ah, 0
		push	si
		push	di
		mov	bx, word_2AF3E
		cmp	bx, 6
		jbe	short loc_1FDD1
		jmp	loc_2004A
; ---------------------------------------------------------------------------

loc_1FDD1:				; CODE XREF: sub_1FDBF+Dj
		add	bx, bx
		jmp	cs:off_201B7[bx]

loc_1FDD8:				; DATA XREF: seg009:0DE9o
		mov	di, [bp+arg_0]
		jmp	short loc_1FDFB
; ---------------------------------------------------------------------------

loc_1FDDD:				; CODE XREF: sub_1FDBF+44j
		mov	bx, di
		imul	bx, 3
		mov	al, 0
		mov	[bx+2DCCh], al
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCBh], al
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCAh], al
		inc	di

loc_1FDFB:				; CODE XREF: sub_1FDBF+1Cj
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_1FDDD
		jmp	loc_20092
; ---------------------------------------------------------------------------

loc_1FE08:				; CODE XREF: sub_1FDBF+14j
					; DATA XREF: seg009:0DEBo
		mov	di, [bp+arg_0]
		jmp	short loc_1FE5F
; ---------------------------------------------------------------------------

loc_1FE0D:				; CODE XREF: sub_1FDBF+A8j
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ah]
		mov	ah, 0
		imul	word_2AF40
		sar	ax, 8
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCAh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Bh]
		mov	ah, 0
		imul	word_2AF40
		sar	ax, 8
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCBh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ch]
		mov	ah, 0
		imul	word_2AF40
		sar	ax, 8
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCCh], al
		inc	di

loc_1FE5F:				; CODE XREF: sub_1FDBF+4Cj
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_1FE0D
		jmp	loc_20092
; ---------------------------------------------------------------------------

loc_1FE6C:				; CODE XREF: sub_1FDBF+14j
					; DATA XREF: seg009:0DEDo
		mov	di, [bp+arg_0]
		jmp	loc_1FEF7
; ---------------------------------------------------------------------------

loc_1FE72:				; CODE XREF: sub_1FDBF+142j
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ah]
		mov	ah, 0
		add	ax, word_2AF40
		add	ax, 0FF00h
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_1FE92
		mov	[bp+var_2], 0

loc_1FE92:				; CODE XREF: sub_1FDBF+CCj
		mov	bx, di
		imul	bx, 3
		mov	al, byte ptr [bp+var_2]
		mov	[bx+2DCAh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Bh]
		mov	ah, 0
		add	ax, word_2AF40
		add	ax, 0FF00h
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_1FEBE
		mov	[bp+var_2], 0

loc_1FEBE:				; CODE XREF: sub_1FDBF+F8j
		mov	bx, di
		imul	bx, 3
		mov	al, byte ptr [bp+var_2]
		mov	[bx+2DCBh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ch]
		mov	ah, 0
		add	ax, word_2AF40
		add	ax, 0FF00h
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0
		jge	short loc_1FEEA
		mov	[bp+var_2], 0

loc_1FEEA:				; CODE XREF: sub_1FDBF+124j
		mov	bx, di
		imul	bx, 3
		mov	al, byte ptr [bp+var_2]
		mov	[bx+2DCCh], al
		inc	di

loc_1FEF7:				; CODE XREF: sub_1FDBF+B0j
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		jbe	short loc_1FF04
		jmp	loc_1FE72
; ---------------------------------------------------------------------------

loc_1FF04:				; CODE XREF: sub_1FDBF+140j
		jmp	loc_20092
; ---------------------------------------------------------------------------

loc_1FF07:				; CODE XREF: sub_1FDBF+14j
					; DATA XREF: seg009:0DEFo
		mov	di, [bp+arg_0]
		jmp	short loc_1FF2A
; ---------------------------------------------------------------------------

loc_1FF0C:				; CODE XREF: sub_1FDBF+173j
		mov	bx, di
		imul	bx, 3
		mov	al, 0FFh
		mov	[bx+2DCCh], al
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCBh], al
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCAh], al
		inc	di

loc_1FF2A:				; CODE XREF: sub_1FDBF+14Bj
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_1FF0C
		jmp	loc_20092
; ---------------------------------------------------------------------------

loc_1FF37:				; CODE XREF: sub_1FDBF+14j
					; DATA XREF: seg009:0DF1o
		mov	di, [bp+arg_0]
		jmp	short loc_1FFA0
; ---------------------------------------------------------------------------

loc_1FF3C:				; CODE XREF: sub_1FDBF+1E9j
		mov	bx, di
		imul	bx, 3
		mov	al, 0FFh
		sub	al, [bx+2D9Ah]
		mov	ah, 0
		imul	word_2AF40
		sar	ax, 8
		mov	dl, 0FFh
		sub	dl, al
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCAh], dl
		mov	bx, di
		imul	bx, 3
		mov	al, 0FFh
		sub	al, [bx+2D9Bh]
		mov	ah, 0
		imul	word_2AF40
		sar	ax, 8
		mov	dl, 0FFh
		sub	dl, al
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCBh], dl
		mov	bx, di
		imul	bx, 3
		mov	al, 0FFh
		sub	al, [bx+2D9Ch]
		mov	ah, 0
		imul	word_2AF40
		sar	ax, 8
		mov	dl, 0FFh
		sub	dl, al
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCCh], dl
		inc	di

loc_1FFA0:				; CODE XREF: sub_1FDBF+17Bj
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_1FF3C
		jmp	loc_20092
; ---------------------------------------------------------------------------

loc_1FFAD:				; CODE XREF: sub_1FDBF+14j
					; DATA XREF: seg009:0DF3o
		mov	di, [bp+arg_0]
		jmp	loc_2003B
; ---------------------------------------------------------------------------

loc_1FFB3:				; CODE XREF: sub_1FDBF+286j
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ah]
		mov	ah, 0
		add	ax, 100h
		sub	ax, word_2AF40
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0FFh
		jle	short loc_1FFD4
		mov	[bp+var_2], 0FFh

loc_1FFD4:				; CODE XREF: sub_1FDBF+20Ej
		mov	bx, di
		imul	bx, 3
		mov	al, byte ptr [bp+var_2]
		mov	[bx+2DCAh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Bh]
		mov	ah, 0
		add	ax, 100h
		sub	ax, word_2AF40
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0FFh
		jle	short loc_20001
		mov	[bp+var_2], 0FFh

loc_20001:				; CODE XREF: sub_1FDBF+23Bj
		mov	bx, di
		imul	bx, 3
		mov	al, byte ptr [bp+var_2]
		mov	[bx+2DCBh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ch]
		mov	ah, 0
		add	ax, 100h
		sub	ax, word_2AF40
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0FFh
		jle	short loc_2002E
		mov	[bp+var_2], 0FFh

loc_2002E:				; CODE XREF: sub_1FDBF+268j
		mov	bx, di
		imul	bx, 3
		mov	al, byte ptr [bp+var_2]
		mov	[bx+2DCCh], al
		inc	di

loc_2003B:				; CODE XREF: sub_1FDBF+1F1j
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		jbe	short loc_20048
		jmp	loc_1FFB3
; ---------------------------------------------------------------------------

loc_20048:				; CODE XREF: sub_1FDBF+284j
		jmp	short loc_20092
; ---------------------------------------------------------------------------

loc_2004A:				; CODE XREF: sub_1FDBF+Fj
					; sub_1FDBF+14j
					; DATA XREF: ...
		mov	di, [bp+arg_0]
		jmp	short loc_20086
; ---------------------------------------------------------------------------

loc_2004F:				; CODE XREF: sub_1FDBF+2CFj
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ah]
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCAh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Bh]
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCBh], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2D9Ch]
		mov	bx, di
		imul	bx, 3
		mov	[bx+2DCCh], al
		inc	di

loc_20086:				; CODE XREF: sub_1FDBF+28Ej
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_2004F
		jmp	short $+2

loc_20092:				; CODE XREF: sub_1FDBF+46j
					; sub_1FDBF+AAj ...
		test	byte ptr ds:28E4h, 1
		jz	short loc_200FA
		pushf
		cli
		mov	di, [bp+arg_0]
		jmp	short loc_200E6
; ---------------------------------------------------------------------------

loc_200A0:				; CODE XREF: sub_1FDBF+32Fj
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2DCCh]
		mov	ah, 0
		sar	ax, 4
		mov	bx, di
		imul	bx, 3
		mov	[bx+1534h], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2DCBh]
		mov	ah, 0
		sar	ax, 4
		mov	bx, di
		imul	bx, 3
		mov	[bx+1535h], al
		mov	bx, di
		imul	bx, 3
		mov	al, [bx+2DCAh]
		mov	ah, 0
		sar	ax, 4
		mov	bx, di
		imul	bx, 3
		mov	[bx+1536h], al
		inc	di

loc_200E6:				; CODE XREF: sub_1FDBF+2DFj
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_200A0
		mov	word_2AFB2, 1
		popf
		jmp	loc_201B3
; ---------------------------------------------------------------------------

loc_200FA:				; CODE XREF: sub_1FDBF+2D8j
		test	byte ptr ds:28E4h, 4
		jnz	short loc_20104
		jmp	loc_201B3
; ---------------------------------------------------------------------------

loc_20104:				; CODE XREF: sub_1FDBF+340j
		pushf
		cli
		mov	di, [bp+arg_0]
		jmp	short loc_2015D
; ---------------------------------------------------------------------------

loc_2010B:				; CODE XREF: sub_1FDBF+3A6j
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_3A]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+2DCBh]
		mov	ah, 0
		sar	ax, 2
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_39]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+2DCCh]
		mov	ah, 0
		sar	ax, 2
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_38]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+2DCAh]
		mov	ah, 0
		sar	ax, 2
		mov	ss:[bx], al
		inc	di

loc_2015D:				; CODE XREF: sub_1FDBF+34Aj
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_2010B
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	[bp+segp._es], ss
		mov	ax, [bp+arg_0]
		imul	ax, 3
		lea	dx, [bp+var_3A]
		add	ax, dx
		mov	word ptr [bp+inregs+6],	ax
		mov	ax, [bp+arg_0]
		add	ax, 30h	; '0'
		mov	word ptr [bp+inregs+2],	ax
		mov	ax, [bp+arg_2]
		mov	word ptr [bp+inregs+4],	ax
		mov	word ptr [bp+inregs], 1012h
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	10h		; intno
		call	_int86x
		add	sp, 0Eh
		popf

loc_201B3:				; CODE XREF: sub_1FDBF+338j
					; sub_1FDBF+342j
		pop	di
		pop	si
		leave
		retf
sub_1FDBF	endp

; ---------------------------------------------------------------------------
off_201B7	dw offset loc_2004A	; DATA XREF: sub_1FDBF+14r
		dw offset loc_1FDD8
		dw offset loc_1FE08
		dw offset loc_1FE6C
		dw offset loc_1FF07
		dw offset loc_1FF37
		dw offset loc_1FFAD

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_201C5	proc far		; CODE XREF: sub_20225+21p
					; sub_2024E+Ep	...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_0]
		jmp	short loc_2020A
; ---------------------------------------------------------------------------

loc_201CF:				; CODE XREF: sub_201C5+4Dj
		cmp	byte ptr [di+1522h], 0
		jnz	short loc_20205
		mov	bx, di
		imul	bx, 3
		les	si, [bp+arg_4]
		mov	al, es:[si]
		mov	[bx+2D9Ah], al
		les	bx, [bp+arg_4]
		mov	al, es:[bx+1]
		mov	bx, di
		imul	bx, 3
		mov	[bx+2D9Bh], al
		les	bx, [bp+arg_4]
		mov	al, es:[bx+2]
		mov	bx, di
		imul	bx, 3
		mov	[bx+2D9Ch], al

loc_20205:				; CODE XREF: sub_201C5+Fj
		add	word ptr [bp+arg_4], 3
		inc	di

loc_2020A:				; CODE XREF: sub_201C5+8j
		mov	ax, [bp+arg_0]
		add	ax, [bp+arg_2]
		cmp	ax, di
		ja	short loc_201CF
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_1FDBF
		add	sp, 4
		pop	di
		pop	si
		pop	bp
		retf
sub_201C5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20225	proc far		; CODE XREF: seg009:0EC6p

var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2
arg_0		= word ptr  6
arg_2		= byte ptr  8
arg_4		= byte ptr  0Ah
arg_6		= byte ptr  0Ch

		enter	4, 0
		mov	al, [bp+arg_6]
		mov	[bp+var_4], al
		mov	al, [bp+arg_4]
		mov	[bp+var_3], al
		mov	al, [bp+arg_2]
		mov	[bp+var_2], al
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		push	1
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_201C5
		add	sp, 8
		leave
		retf
sub_20225	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2024E	proc far		; CODE XREF: sub_2029E+Fp

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	10h
		push	0
		push	cs
		call	near ptr sub_201C5
		add	sp, 8
		pop	bp
		retf
sub_2024E	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		call	sub_1EFDA
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_201C5
		add	sp, 8
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		call	sub_1EFDA
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_20225
		add	sp, 8
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2029E	proc far		; CODE XREF: sub_1B70C+1E1P
					; sub_1B70C+2D1P ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		call	sub_1EFDA
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_2024E
		add	sp, 4
		pop	bp
		retf
sub_2029E	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		push	offset unk_2AF42
		push	cs
		call	near ptr sub_2029E
		add	sp, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+6]
		mov	byte ptr [si+1522h], 1
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+6]
		mov	byte ptr [si+1522h], 0
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_202E3(int, int,	size_t n, int, __int32,	int)
sub_202E3	proc far		; CODE XREF: seg002:1828P
					; sub_1DC31+743P ...

var_A		= word ptr -0Ah
var_8		= word ptr -8
s		= dword	ptr -6
var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8
n		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h

		enter	0Ah, 0
		push	si
		push	di
		mov	si, [bp+arg_C]
		mov	ax, word ptr [bp+arg_8]
		or	ax, word ptr [bp+arg_8+2]
		jnz	short loc_202FC
		mov	word ptr [bp+arg_8+2], ds
		mov	word ptr [bp+arg_8], 1568h

loc_202FC:				; CODE XREF: sub_202E3+Fj
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+149Eh]
		mov	[bp+var_8], ax
		cmp	[bp+var_8], 3
		jl	short loc_20310
		jmp	loc_203BC
; ---------------------------------------------------------------------------

loc_20310:				; CODE XREF: sub_202E3+28j
		cmp	[bp+var_8], 2
		jnz	short loc_20319
		jmp	loc_2048C
; ---------------------------------------------------------------------------

loc_20319:				; CODE XREF: sub_202E3+31j
		cmp	[bp+var_8], 1
		jz	short loc_20322
		jmp	loc_205A1
; ---------------------------------------------------------------------------

loc_20322:				; CODE XREF: sub_202E3+3Aj
		mov	[bp+var_8], 0
		jmp	loc_203B0
; ---------------------------------------------------------------------------

loc_2032A:				; CODE XREF: sub_202E3+D3j
		mov	bx, si
		shl	bx, 4
		mov	ax, [bp+var_8]
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		mov	bx, si
		add	bx, bx
		push	dx
		push	ax
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		pop	dx
		add	dx, ax
		add	dx, [bp+arg_0]
		pop	ax
		mov	word ptr [bp+s+2], ax
		mov	word ptr [bp+s], dx
		test	byte ptr [bp+arg_2], 1
		jz	short loc_20364
		mov	ax, 4
		jmp	short loc_20366
; ---------------------------------------------------------------------------

loc_20364:				; CODE XREF: sub_202E3+7Aj
		xor	ax, ax

loc_20366:				; CODE XREF: sub_202E3+7Fj
		mov	di, ax
		mov	ax, [bp+arg_6]
		mov	[bp+var_A], ax
		jmp	short loc_203A7
; ---------------------------------------------------------------------------

loc_20370:				; CODE XREF: sub_202E3+C8j
		push	[bp+n]		; n
		mov	bx, di
		add	bx, [bp+var_8]
		mov	es, word ptr [bp+arg_8+2]
		add	bx, word ptr [bp+arg_8]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax		; c
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		call	_memset
		add	sp, 8
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D72h]
		add	word ptr [bp+s], ax
		mov	ax, 4
		sub	ax, di
		mov	di, ax
		dec	[bp+var_A]

loc_203A7:				; CODE XREF: sub_202E3+8Bj
		cmp	[bp+var_A], 0
		jnz	short loc_20370
		inc	[bp+var_8]

loc_203B0:				; CODE XREF: sub_202E3+44j
		cmp	[bp+var_8], 4
		jge	short loc_203B9
		jmp	loc_2032A
; ---------------------------------------------------------------------------

loc_203B9:				; CODE XREF: sub_202E3+D1j
		jmp	loc_205A1
; ---------------------------------------------------------------------------

loc_203BC:				; CODE XREF: sub_202E3+2Aj
		cmp	[bp+var_8], 4
		jl	short loc_203DE
		sub	[bp+var_8], 4
		mov	bx, [bp+var_8]
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		mov	bx, si
		add	bx, bx
		mov	al, [bx+2D92h]
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A

loc_203DE:				; CODE XREF: sub_202E3+DDj
		mov	bx, si
		shl	bx, 4
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		mov	bx, si
		add	bx, bx
		push	dx
		push	ax
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		pop	dx
		add	dx, ax
		add	dx, [bp+arg_0]
		pop	ax
		mov	word ptr [bp+s+2], ax
		mov	word ptr [bp+s], dx
		test	byte ptr [bp+arg_2], 1
		jz	short loc_20410
		mov	ax, 4
		jmp	short loc_20412
; ---------------------------------------------------------------------------

loc_20410:				; CODE XREF: sub_202E3+126j
		xor	ax, ax

loc_20412:				; CODE XREF: sub_202E3+12Bj
		mov	di, ax
		jmp	short loc_20477
; ---------------------------------------------------------------------------

loc_20416:				; CODE XREF: sub_202E3+198j
		pushf
		cli
		mov	word ptr ds:2912h, 80h ; '€'
		mov	dx, 7Ch	; '|'
		mov	al, 80h	; '€'
		out	dx, al
		mov	[bp+var_8], 0
		jmp	short loc_20447
; ---------------------------------------------------------------------------

loc_2042B:				; CODE XREF: sub_202E3+168j
		mov	bx, di
		add	bx, [bp+var_8]
		mov	es, word ptr [bp+arg_8+2]
		add	bx, word ptr [bp+arg_8]
		mov	al, es:[bx]
		mov	bx, [bp+var_8]
		mov	[bx+2914h], al
		mov	dx, 7Eh	; '~'
		out	dx, al
		inc	[bp+var_8]

loc_20447:				; CODE XREF: sub_202E3+146j
		cmp	[bp+var_8], 4
		jl	short loc_2042B
		popf
		push	[bp+n]		; n
		push	0FFh		; c
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		call	_memset
		add	sp, 8
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D72h]
		add	word ptr [bp+s], ax
		mov	ax, 4
		sub	ax, di
		mov	di, ax
		dec	[bp+arg_6]

loc_20477:				; CODE XREF: sub_202E3+131j
		cmp	[bp+arg_6], 0
		jnz	short loc_20416
		mov	word ptr ds:2912h, 0
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		jmp	loc_205A1
; ---------------------------------------------------------------------------

loc_2048C:				; CODE XREF: sub_202E3+33j
		mov	dx, ds:2D98h
		mov	ax, ds:2D96h
		mov	word ptr [bp+s+2], dx
		mov	word ptr [bp+s], ax
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3CEh
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	dx, 3CEh
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	dx, 3CEh
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	dx, 3CEh
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	[bp+var_8], 0
		jmp	short loc_204E8
; ---------------------------------------------------------------------------

loc_204C5:				; CODE XREF: sub_202E3+209j
		mov	dx, 3C4h
		mov	al, 2
		out	dx, al		; EGA: sequencer address reg
					; map mask: data bits 0-3 enable writes	to bit planes 0-3
		mov	cl, byte ptr [bp+var_8]
		mov	al, 1
		shl	al, cl
		mov	dx, 3C5h
		out	dx, al		; EGA port: sequencer data register
		les	bx, [bp+arg_8]
		mov	al, es:[bx]
		les	bx, [bp+s]
		mov	es:[bx], al
		inc	word ptr [bp+arg_8]
		inc	[bp+var_8]

loc_204E8:				; CODE XREF: sub_202E3+1E0j
		cmp	[bp+var_8], 4
		jl	short loc_204C5
		inc	word ptr [bp+s]
		mov	[bp+var_8], 0
		jmp	short loc_2051B
; ---------------------------------------------------------------------------

loc_204F8:				; CODE XREF: sub_202E3+23Cj
		mov	dx, 3C4h
		mov	al, 2
		out	dx, al		; EGA: sequencer address reg
					; map mask: data bits 0-3 enable writes	to bit planes 0-3
		mov	cl, byte ptr [bp+var_8]
		mov	al, 1
		shl	al, cl
		mov	dx, 3C5h
		out	dx, al		; EGA port: sequencer data register
		les	bx, [bp+arg_8]
		mov	al, es:[bx]
		les	bx, [bp+s]
		mov	es:[bx], al
		inc	word ptr [bp+arg_8]
		inc	[bp+var_8]

loc_2051B:				; CODE XREF: sub_202E3+213j
		cmp	[bp+var_8], 4
		jl	short loc_204F8
		popf
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 105h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 0F02h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		mov	bx, si
		shl	bx, 4
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		mov	bx, si
		add	bx, bx
		push	dx
		push	ax
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		pop	dx
		add	dx, ax
		add	dx, [bp+arg_0]
		pop	ax
		mov	word ptr [bp+s+2], ax
		mov	word ptr [bp+s], dx
		mov	ax, [bp+arg_2]
		and	ax, 1
		mov	di, ax
		jmp	short loc_20599
; ---------------------------------------------------------------------------

loc_20564:				; CODE XREF: sub_202E3+2BAj
		les	bx, ds:2D96h
		add	bx, di
		mov	al, es:[bx]
		mov	[bp+var_1], al
		push	[bp+n]		; n
		push	0FFh		; c
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		call	_memset
		add	sp, 8
		mov	bx, si
		add	bx, bx
		mov	ax, [bx+2D72h]
		add	word ptr [bp+s], ax
		mov	ax, 1
		sub	ax, di
		mov	di, ax
		dec	[bp+arg_6]

loc_20599:				; CODE XREF: sub_202E3+27Fj
		cmp	[bp+arg_6], 0
		jnz	short loc_20564
		jmp	short $+2

loc_205A1:				; CODE XREF: sub_202E3+3Cj
					; sub_202E3:loc_203B9j	...
		pop	di
		pop	si
		leave
		retf
sub_202E3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_205A5	proc far		; CODE XREF: sub_20DD0+45p

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_C]
		xor	si, si
		jmp	short loc_205E1
; ---------------------------------------------------------------------------

loc_205B1:				; CODE XREF: sub_205A5+3Fj
		push	si
		push	[bp+arg_E]
		test	di, 1
		jz	short loc_205C3
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		jmp	short loc_205C8
; ---------------------------------------------------------------------------

loc_205C3:				; CODE XREF: sub_205A5+14j
		mov	dx, ds
		mov	ax, 1570h

loc_205C8:				; CODE XREF: sub_205A5+1Cj
		push	dx
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_2104E
		add	sp, 10h
		sar	di, 1
		inc	si

loc_205E1:				; CODE XREF: sub_205A5+Aj
		cmp	si, 4
		jl	short loc_205B1
		pop	di
		pop	si
		pop	bp
		retf
sub_205A5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_205EA(int, int,	size_t n, int, int, int, int, __int32, int)
sub_205EA	proc far		; CODE XREF: sub_20E1F+4Bp

arg_0		= word ptr  6
arg_2		= word ptr  8
n		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= dword	ptr  14h
arg_12		= word ptr  18h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_0]
		push	[bp+arg_12]	; int
		push	word ptr [bp+arg_E+2]
		push	word ptr [bp+arg_E] ; __int32
		push	[bp+arg_6]	; int
		push	[bp+n]		; n
		push	[bp+arg_2]	; int
		push	di		; int
		push	cs
		call	near ptr sub_202E3
		add	sp, 0Eh
		xor	si, si
		jmp	short loc_20651
; ---------------------------------------------------------------------------

loc_20610:				; CODE XREF: sub_205EA+6Aj
		test	byte ptr [bp+arg_C], 1
		jz	short loc_20631
		push	si
		push	[bp+arg_12]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+n]
		push	[bp+arg_2]
		push	di
		nop
		push	cs
		call	near ptr sub_21152
		jmp	short loc_2064A
; ---------------------------------------------------------------------------

loc_20631:				; CODE XREF: sub_205EA+2Aj
		push	si
		push	[bp+arg_12]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+n]
		push	[bp+arg_2]
		push	di
		nop
		push	cs
		call	near ptr sub_21346

loc_2064A:				; CODE XREF: sub_205EA+45j
		add	sp, 10h
		sar	[bp+arg_C], 1
		inc	si

loc_20651:				; CODE XREF: sub_205EA+24j
		cmp	si, 4
		jl	short loc_20610
		pop	di
		pop	si
		pop	bp
		retf
sub_205EA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2065A	proc far		; CODE XREF: sub_20B31+2Ep
					; sub_20B31+6Cp ...

var_14		= byte ptr -14h
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	14h, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_6]
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 80h	; '€'
		sar	ax, cl
		mov	[bp+var_1], al
		sar	[bp+arg_0], 3
		mov	[bp+var_4], 0
		jmp	short loc_206BD
; ---------------------------------------------------------------------------

loc_2067F:				; CODE XREF: sub_2065A+67j
		mov	bx, di
		shl	bx, 4
		mov	ax, [bp+var_4]
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		mov	bx, di
		add	bx, bx
		push	dx
		push	ax
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		pop	dx
		add	dx, ax
		add	dx, [bp+arg_0]
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_14]
		add	bx, ax
		pop	ax
		mov	ss:[bx+2], ax
		mov	ss:[bx], dx
		inc	[bp+var_4]

loc_206BD:				; CODE XREF: sub_2065A+23j
		cmp	[bp+var_4], 4
		jl	short loc_2067F
		mov	bx, di
		add	bx, bx
		mov	ax, [bx+149Eh]
		mov	[bp+var_4], ax
		cmp	[bp+var_4], 2
		jnz	short loc_206D6
		jmp	short loc_20748
; ---------------------------------------------------------------------------

loc_206D6:				; CODE XREF: sub_2065A+78j
		cmp	[bp+var_4], 0
		jnz	short loc_206DF
		jmp	loc_207D5
; ---------------------------------------------------------------------------

loc_206DF:				; CODE XREF: sub_2065A+80j
		cmp	[bp+var_4], 4
		jl	short loc_20701
		sub	[bp+var_4], 4
		mov	bx, [bp+var_4]
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		mov	bx, di
		add	bx, bx
		mov	al, [bx+2D92h]
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A

loc_20701:				; CODE XREF: sub_2065A+89j
		mov	[bp+var_4], 0
		jmp	short loc_2073F
; ---------------------------------------------------------------------------

loc_20708:				; CODE XREF: sub_2065A+E9j
		test	si, 1
		jz	short loc_20724
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_14]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		or	es:[bx], al
		jmp	short loc_2073A
; ---------------------------------------------------------------------------

loc_20724:				; CODE XREF: sub_2065A+B2j
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_14]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		not	al
		and	es:[bx], al

loc_2073A:				; CODE XREF: sub_2065A+C8j
		inc	[bp+var_4]
		sar	si, 1

loc_2073F:				; CODE XREF: sub_2065A+ACj
		cmp	[bp+var_4], 4
		jl	short loc_20708
		jmp	loc_207D5
; ---------------------------------------------------------------------------

loc_20748:				; CODE XREF: sub_2065A+7Aj
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3CEh
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	dx, 3CEh
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	dx, 3CEh
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	dx, 3CEh
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		mov	[bp+var_4], 0
		jmp	short loc_207CD
; ---------------------------------------------------------------------------

loc_20775:				; CODE XREF: sub_2065A+177j
		pushf
		cli
		mov	dx, 3C4h
		mov	al, 2
		out	dx, al		; EGA: sequencer address reg
					; map mask: data bits 0-3 enable writes	to bit planes 0-3
		mov	cl, byte ptr [bp+var_4]
		mov	al, 1
		shl	al, cl
		mov	dx, 3C5h
		out	dx, al		; EGA port: sequencer data register
		mov	dx, 3CEh
		mov	al, 4
		out	dx, al		; EGA: graph 1 and 2 addr reg:
					; read map select.
					; Data bits 0-2	select map # for read mode 00.
		mov	dx, 3CFh
		mov	al, byte ptr [bp+var_4]
		out	dx, al		; EGA port: graphics controller	data register
		popf
		test	si, 1
		jz	short loc_207B2
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_14]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		or	es:[bx], al
		jmp	short loc_207C8
; ---------------------------------------------------------------------------

loc_207B2:				; CODE XREF: sub_2065A+140j
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_14]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		not	al
		and	es:[bx], al

loc_207C8:				; CODE XREF: sub_2065A+156j
		inc	[bp+var_4]
		sar	si, 1

loc_207CD:				; CODE XREF: sub_2065A+119j
		cmp	[bp+var_4], 4
		jl	short loc_20775
		jmp	short $+2

loc_207D5:				; CODE XREF: sub_2065A+82j
					; sub_2065A+EBj
		pop	di
		pop	si
		leave
		retf
sub_2065A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_207D9	proc far		; CODE XREF: sub_20BC6+3Bp
					; sub_20BC6+4Dp ...

var_18		= byte ptr -18h
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	18h, 0
		push	si
		push	di
		mov	di, [bp+arg_2]
		cmp	di, [bp+arg_4]
		jge	short loc_207F1
		mov	ax, [bp+arg_4]
		sub	ax, di
		inc	ax
		mov	si, ax
		jmp	short loc_207FC
; ---------------------------------------------------------------------------

loc_207F1:				; CODE XREF: sub_207D9+Cj
		mov	ax, di
		sub	ax, [bp+arg_4]
		inc	ax
		mov	si, ax
		mov	di, [bp+arg_4]

loc_207FC:				; CODE XREF: sub_207D9+16j
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 80h	; '€'
		sar	ax, cl
		mov	[bp+var_1], al
		sar	[bp+arg_0], 3
		mov	bx, [bp+arg_8]
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	[bp+var_6], ax
		mov	[bp+var_4], 0
		jmp	short loc_2085A
; ---------------------------------------------------------------------------

loc_20821:				; CODE XREF: sub_207D9+85j
		mov	bx, [bp+arg_8]
		shl	bx, 4
		mov	ax, [bp+var_4]
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		push	dx
		push	ax
		mov	ax, di
		imul	[bp+var_6]
		pop	dx
		add	dx, ax
		add	dx, [bp+arg_0]
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_18]
		add	bx, ax
		pop	ax
		mov	ss:[bx+2], ax
		mov	ss:[bx], dx
		inc	[bp+var_4]

loc_2085A:				; CODE XREF: sub_207D9+46j
		cmp	[bp+var_4], 4
		jl	short loc_20821
		mov	bx, [bp+arg_8]
		add	bx, bx
		mov	ax, [bx+149Eh]
		mov	[bp+var_4], ax
		cmp	[bp+var_4], 2
		jnz	short loc_20875
		jmp	loc_20907
; ---------------------------------------------------------------------------

loc_20875:				; CODE XREF: sub_207D9+97j
		cmp	[bp+var_4], 0
		jnz	short loc_2087E
		jmp	loc_209B6
; ---------------------------------------------------------------------------

loc_2087E:				; CODE XREF: sub_207D9+A0j
		cmp	[bp+var_4], 4
		jl	short loc_208A1
		sub	[bp+var_4], 4
		mov	bx, [bp+var_4]
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		mov	bx, [bp+arg_8]
		add	bx, bx
		mov	al, [bx+2D92h]
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A

loc_208A1:				; CODE XREF: sub_207D9+A9j
		jmp	short loc_20900
; ---------------------------------------------------------------------------

loc_208A3:				; CODE XREF: sub_207D9+129j
		mov	[bp+var_4], 0
		mov	ax, [bp+arg_6]
		mov	[bp+var_8], ax
		jmp	short loc_208F9
; ---------------------------------------------------------------------------

loc_208B0:				; CODE XREF: sub_207D9+124j
		test	byte ptr [bp+var_8], 1
		jz	short loc_208CC
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_18]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		or	es:[bx], al
		jmp	short loc_208E2
; ---------------------------------------------------------------------------

loc_208CC:				; CODE XREF: sub_207D9+DBj
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_18]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		not	al
		and	es:[bx], al

loc_208E2:				; CODE XREF: sub_207D9+F1j
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_18]
		add	bx, ax
		mov	ax, [bp+var_6]
		add	ss:[bx], ax
		inc	[bp+var_4]
		sar	[bp+var_8], 1

loc_208F9:				; CODE XREF: sub_207D9+D5j
		cmp	[bp+var_4], 4
		jl	short loc_208B0
		dec	si

loc_20900:				; CODE XREF: sub_207D9:loc_208A1j
		or	si, si
		jg	short loc_208A3
		jmp	loc_209B6
; ---------------------------------------------------------------------------

loc_20907:				; CODE XREF: sub_207D9+99j
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3CEh
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	dx, 3CEh
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	dx, 3CEh
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	dx, 3CEh
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		jmp	short loc_209AD
; ---------------------------------------------------------------------------

loc_2092F:				; CODE XREF: sub_207D9+1D8j
		mov	[bp+var_4], 0
		mov	ax, [bp+arg_6]
		mov	[bp+var_8], ax
		jmp	short loc_209A6
; ---------------------------------------------------------------------------

loc_2093C:				; CODE XREF: sub_207D9+1D1j
		pushf
		cli
		mov	dx, 3C4h
		mov	al, 2
		out	dx, al		; EGA: sequencer address reg
					; map mask: data bits 0-3 enable writes	to bit planes 0-3
		mov	cl, byte ptr [bp+var_4]
		mov	al, 1
		shl	al, cl
		mov	dx, 3C5h
		out	dx, al		; EGA port: sequencer data register
		mov	dx, 3CEh
		mov	al, 4
		out	dx, al		; EGA: graph 1 and 2 addr reg:
					; read map select.
					; Data bits 0-2	select map # for read mode 00.
		mov	dx, 3CFh
		mov	al, byte ptr [bp+var_4]
		out	dx, al		; EGA port: graphics controller	data register
		popf
		test	byte ptr [bp+var_8], 1
		jz	short loc_20979
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_18]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		or	es:[bx], al
		jmp	short loc_2098F
; ---------------------------------------------------------------------------

loc_20979:				; CODE XREF: sub_207D9+188j
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_18]
		add	bx, ax
		les	bx, ss:[bx]
		mov	al, [bp+var_1]
		not	al
		and	es:[bx], al

loc_2098F:				; CODE XREF: sub_207D9+19Ej
		mov	bx, [bp+var_4]
		shl	bx, 2
		lea	ax, [bp+var_18]
		add	bx, ax
		mov	ax, [bp+var_6]
		add	ss:[bx], ax
		inc	[bp+var_4]
		sar	[bp+var_8], 1

loc_209A6:				; CODE XREF: sub_207D9+161j
		cmp	[bp+var_4], 4
		jl	short loc_2093C
		dec	si

loc_209AD:				; CODE XREF: sub_207D9+154j
		or	si, si
		jle	short loc_209B4
		jmp	loc_2092F
; ---------------------------------------------------------------------------

loc_209B4:				; CODE XREF: sub_207D9+1D6j
		jmp	short $+2

loc_209B6:				; CODE XREF: sub_207D9+A2j
					; sub_207D9+12Bj
		pop	di
		pop	si
		leave
		retf
sub_207D9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_209BA	proc far		; CODE XREF: sub_20B31+52p

var_12		= byte ptr -12h
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	12h, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		cmp	si, [bp+arg_2]
		jge	short loc_209D2
		mov	ax, [bp+arg_2]
		sub	ax, si
		inc	ax
		mov	di, ax
		jmp	short loc_209DD
; ---------------------------------------------------------------------------

loc_209D2:				; CODE XREF: sub_209BA+Cj
		mov	ax, si
		sub	ax, [bp+arg_2]
		inc	ax
		mov	di, ax
		mov	si, [bp+arg_2]

loc_209DD:				; CODE XREF: sub_209BA+16j
		mov	[bp+var_2], 0
		jmp	short loc_20A23
; ---------------------------------------------------------------------------

loc_209E4:				; CODE XREF: sub_209BA+6Dj
		mov	bx, [bp+arg_8]
		shl	bx, 4
		mov	ax, [bp+var_2]
		shl	ax, 2
		add	bx, ax
		mov	dx, [bx+13A0h]
		mov	ax, [bx+139Eh]
		mov	bx, [bp+arg_8]
		add	bx, bx
		push	dx
		push	ax
		mov	ax, [bx+2D72h]
		imul	[bp+arg_4]
		pop	dx
		add	dx, ax
		add	dx, si
		mov	bx, [bp+var_2]
		shl	bx, 2
		lea	ax, [bp+var_12]
		add	bx, ax
		pop	ax
		mov	ss:[bx+2], ax
		mov	ss:[bx], dx
		inc	[bp+var_2]

loc_20A23:				; CODE XREF: sub_209BA+28j
		cmp	[bp+var_2], 4
		jl	short loc_209E4
		mov	bx, [bp+arg_8]
		add	bx, bx
		mov	ax, [bx+149Eh]
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 2
		jnz	short loc_20A3D
		jmp	short loc_20AA8
; ---------------------------------------------------------------------------

loc_20A3D:				; CODE XREF: sub_209BA+7Fj
		cmp	[bp+var_2], 0
		jnz	short loc_20A46
		jmp	loc_20B2D
; ---------------------------------------------------------------------------

loc_20A46:				; CODE XREF: sub_209BA+87j
		cmp	[bp+var_2], 4
		jl	short loc_20A69
		sub	[bp+var_2], 4
		mov	bx, [bp+var_2]
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		mov	bx, [bp+arg_8]
		add	bx, bx
		mov	al, [bx+2D92h]
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A

loc_20A69:				; CODE XREF: sub_209BA+90j
		mov	[bp+var_2], 0
		jmp	short loc_20A9F
; ---------------------------------------------------------------------------

loc_20A70:				; CODE XREF: sub_209BA+E9j
		test	byte ptr [bp+arg_6], 1
		jz	short loc_20A7C
		push	di
		push	0FFh
		jmp	short loc_20A7F
; ---------------------------------------------------------------------------

loc_20A7C:				; CODE XREF: sub_209BA+BAj
		push	di		; n
		push	0		; c

loc_20A7F:				; CODE XREF: sub_209BA+C0j
		mov	bx, [bp+var_2]
		shl	bx, 2
		lea	ax, [bp+var_12]
		add	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx] ; s
		call	_memset
		add	sp, 8
		inc	[bp+var_2]
		sar	[bp+arg_6], 1

loc_20A9F:				; CODE XREF: sub_209BA+B4j
		cmp	[bp+var_2], 4
		jl	short loc_20A70
		jmp	loc_20B2D
; ---------------------------------------------------------------------------

loc_20AA8:				; CODE XREF: sub_209BA+81j
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3CEh
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	dx, 3CEh
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	dx, 3CEh
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	dx, 3CEh
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		mov	[bp+var_2], 0
		jmp	short loc_20B25
; ---------------------------------------------------------------------------

loc_20AD5:				; CODE XREF: sub_209BA+16Fj
		pushf
		cli
		mov	dx, 3C4h
		mov	al, 2
		out	dx, al		; EGA: sequencer address reg
					; map mask: data bits 0-3 enable writes	to bit planes 0-3
		mov	cl, byte ptr [bp+var_2]
		mov	al, 1
		shl	al, cl
		mov	dx, 3C5h
		out	dx, al		; EGA port: sequencer data register
		mov	dx, 3CEh
		mov	al, 4
		out	dx, al		; EGA: graph 1 and 2 addr reg:
					; read map select.
					; Data bits 0-2	select map # for read mode 00.
		mov	dx, 3CFh
		mov	al, byte ptr [bp+var_2]
		out	dx, al		; EGA port: graphics controller	data register
		popf
		test	byte ptr [bp+arg_6], 1
		jz	short loc_20B02
		push	di
		push	0FFh
		jmp	short loc_20B05
; ---------------------------------------------------------------------------

loc_20B02:				; CODE XREF: sub_209BA+140j
		push	di		; n
		push	0		; c

loc_20B05:				; CODE XREF: sub_209BA+146j
		mov	bx, [bp+var_2]
		shl	bx, 2
		lea	ax, [bp+var_12]
		add	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx] ; s
		call	_memset
		add	sp, 8
		inc	[bp+var_2]
		sar	[bp+arg_6], 1

loc_20B25:				; CODE XREF: sub_209BA+119j
		cmp	[bp+var_2], 4
		jl	short loc_20AD5
		jmp	short $+2

loc_20B2D:				; CODE XREF: sub_209BA+89j
					; sub_209BA+EBj
		pop	di
		pop	si
		leave
		retf
sub_209BA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20B31	proc far		; CODE XREF: sub_20BC6+17p
					; sub_20BC6+29p ...

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, [bp+arg_2]
		cmp	si, di
		jle	short loc_20B49
		mov	[bp+var_2], si
		mov	si, di
		mov	di, [bp+var_2]

loc_20B49:				; CODE XREF: sub_20B31+Ej
		mov	ax, di
		sub	ax, si
		cmp	ax, 18h
		jle	short loc_20BAA
		jmp	short loc_20B66
; ---------------------------------------------------------------------------

loc_20B54:				; CODE XREF: sub_20B31+39j
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	si
		push	cs
		call	near ptr sub_2065A
		add	sp, 8
		inc	si

loc_20B66:				; CODE XREF: sub_20B31+21j
		test	si, 7
		jnz	short loc_20B54
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	ax, di
		sar	ax, 3
		dec	ax
		push	ax
		mov	ax, si
		sar	ax, 3
		push	ax
		push	cs
		call	near ptr sub_209BA
		add	sp, 0Ah
		mov	ax, di
		and	ax, 0FFF8h
		mov	si, ax
		jmp	short loc_20BA4
; ---------------------------------------------------------------------------

loc_20B92:				; CODE XREF: sub_20B31+75j
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	si
		push	cs
		call	near ptr sub_2065A
		add	sp, 8
		inc	si

loc_20BA4:				; CODE XREF: sub_20B31+5Fj
		cmp	si, di
		jle	short loc_20B92
		jmp	short loc_20BC2
; ---------------------------------------------------------------------------

loc_20BAA:				; CODE XREF: sub_20B31+1Fj
		jmp	short loc_20BBE
; ---------------------------------------------------------------------------

loc_20BAC:				; CODE XREF: sub_20B31+8Fj
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	si
		push	cs
		call	near ptr sub_2065A
		add	sp, 8
		inc	si

loc_20BBE:				; CODE XREF: sub_20B31:loc_20BAAj
		cmp	si, di
		jle	short loc_20BAC

loc_20BC2:				; CODE XREF: sub_20B31+77j
		pop	di
		pop	si
		leave
		retf
sub_20B31	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20BC6	proc far		; CODE XREF: sub_2213E+173P
					; sub_2213E+198P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_8]
		mov	di, [bp+arg_A]
		push	di
		push	si
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_20B31
		add	sp, 0Ah
		push	di
		push	si
		push	[bp+arg_6]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_20B31
		add	sp, 0Ah
		push	di
		push	si
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_207D9
		add	sp, 0Ah
		push	di
		push	si
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	cs
		call	near ptr sub_207D9
		add	sp, 0Ah
		pop	di
		pop	si
		pop	bp
		retf
sub_20BC6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20C1D	proc far		; CODE XREF: sub_20DD0+20p
					; sub_20E1F+20p

outregs		= REGS ptr -22h
inregs		= REGS ptr -12h
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	22h, 0
		push	si
		push	di
		cmp	[bp+arg_0], 815Bh
		jnz	short loc_20C46
		test	byte ptr ds:28E4h, 4
		jz	short loc_20C46
		push	20h ; ' '       ; n
		push	ds
		push	offset unk_2B014 ; src
		push	ds
		push	2D02h		; dest
		call	_memcpy
		add	sp, 0Ah
		jmp	loc_20D2F
; ---------------------------------------------------------------------------

loc_20C46:				; CODE XREF: sub_20C1D+Bj
					; sub_20C1D+12j
		cmp	[bp+arg_0], 0EB9Fh
		jnb	short loc_20C50
		jmp	loc_20CD6	; jumptable 00020C6B default case
; ---------------------------------------------------------------------------

loc_20C50:				; CODE XREF: sub_20C1D+2Ej
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		mov	cx, 5		; switch 5 cases
		mov	bx, offset word_20DBC

loc_20C5C:				; CODE XREF: sub_20C1D+4Aj
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_2]
		jz	short loc_20C6B
		add	bx, 2
		loop	loc_20C5C
		jmp	short loc_20CD6	; jumptable 00020C6B default case
; ---------------------------------------------------------------------------

loc_20C6B:				; CODE XREF: sub_20C1D+45j
		jmp	word ptr cs:[bx+0Ah] ; switch jump

loc_20C6F:				; DATA XREF: seg009:19F6o
		push	20h ; ' '       ; jumptable 00020C6B case 60319
		push	ds
		push	offset unk_2B054 ; src
		push	ds
		push	2D02h		; dest
		call	_memcpy
		add	sp, 0Ah
		jmp	loc_20D2F
; ---------------------------------------------------------------------------

loc_20C84:				; CODE XREF: sub_20C1D:loc_20C6Bj
					; DATA XREF: seg009:19F6o
		push	20h ; ' '       ; jumptable 00020C6B case 60320
		push	ds
		push	offset unk_2B074 ; src
		push	ds
		push	2D02h		; dest
		call	_memcpy
		add	sp, 0Ah
		jmp	loc_20D2F
; ---------------------------------------------------------------------------

loc_20C99:				; CODE XREF: sub_20C1D:loc_20C6Bj
					; DATA XREF: seg009:19F6o
		push	20h ; ' '       ; jumptable 00020C6B case 60321
		push	ds
		push	offset unk_2B094 ; src
		push	ds
		push	2D02h		; dest
		call	_memcpy
		add	sp, 0Ah
		jmp	loc_20D2F
; ---------------------------------------------------------------------------

loc_20CAE:				; CODE XREF: sub_20C1D:loc_20C6Bj
					; DATA XREF: seg009:19F6o
		push	20h ; ' '       ; jumptable 00020C6B case 60322
		push	ds
		push	offset unk_2B0B4 ; src
		push	ds
		push	2D02h		; dest
		call	_memcpy
		add	sp, 0Ah
		jmp	short loc_20D2F
; ---------------------------------------------------------------------------

loc_20CC2:				; CODE XREF: sub_20C1D:loc_20C6Bj
					; DATA XREF: seg009:19F6o
		push	20h ; ' '       ; jumptable 00020C6B case 61504
		push	ds
		push	offset unk_2B034 ; src
		push	ds
		push	2D02h		; dest
		call	_memcpy
		add	sp, 0Ah
		jmp	short loc_20D2F
; ---------------------------------------------------------------------------

loc_20CD6:				; CODE XREF: sub_20C1D+30j
					; sub_20C1D+4Cj
		test	byte ptr ds:28E4h, 1 ; jumptable 00020C6B default case
		jz	short loc_20D11
		mov	byte ptr [bp+inregs+1],	14h
		mov	word ptr [bp+inregs+2],	ds
		mov	word ptr [bp+inregs+4],	2D00h
		push	[bp+arg_0]
		call	ShiftJIS2JIS
		pop	cx
		mov	word ptr [bp+inregs+6],	ax
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; 8042 keyboard	controller command register.
		jmp	short loc_20D2F
; ---------------------------------------------------------------------------

loc_20D11:				; CODE XREF: sub_20C1D+BEj
		test	byte ptr ds:28E4h, 4
		jz	short loc_20D2F
		push	es
		push	ds
		push	di
		push	si
		mov	cx, [bp+arg_0]
		mov	es, seg_2B010
		assume es:dseg
		mov	si, word_2B012
		call	dword ptr ds:2DFAh
		pop	si
		pop	di
		pop	ds
		pop	es
		assume es:nothing

loc_20D2F:				; CODE XREF: sub_20C1D+26j
					; sub_20C1D+64j ...
		cmp	[bp+arg_2], 1
		jnz	short loc_20D59
		push	es
		mov	cx, offset unk_29A90
		mov	es, seg_2B010
		assume es:dseg
		mov	bx, word_2B012

loc_20D41:				; CODE XREF: sub_20C1D+137j
		mov	ax, es:[bx]
		xchg	al, ah
		mov	dx, ax
		shl	dx, 1
		or	ax, dx
		xchg	al, ah
		mov	es:[bx], ax
		add	bx, 2
		loop	loc_20D41
		pop	es
		assume es:nothing
		jmp	short loc_20DB1
; ---------------------------------------------------------------------------

loc_20D59:				; CODE XREF: sub_20C1D+116j
		cmp	[bp+arg_2], 2
		jnz	short loc_20D80
		push	es
		mov	cx, offset unk_29A90
		mov	es, seg_2B010
		assume es:dseg
		mov	bx, word_2B012
		mov	dx, 5555h

loc_20D6E:				; CODE XREF: sub_20C1D+15Ej
		mov	ax, es:[bx]
		and	ax, dx
		mov	es:[bx], ax
		not	dx
		add	bx, 2
		loop	loc_20D6E
		pop	es
		assume es:nothing
		jmp	short loc_20DB1
; ---------------------------------------------------------------------------

loc_20D80:				; CODE XREF: sub_20C1D+140j
		cmp	[bp+arg_2], 3
		jnz	short loc_20DB1
		push	es
		push	di
		mov	cx, offset unk_29A90
		mov	es, seg_2B010
		assume es:dseg
		mov	bx, word_2B012
		mov	di, 5555h

loc_20D96:				; CODE XREF: sub_20C1D+190j
		mov	ax, es:[bx]
		xchg	al, ah
		mov	dx, ax
		shl	dx, 1
		or	ax, dx
		xchg	al, ah
		and	ax, di
		mov	es:[bx], ax
		not	di
		add	bx, 2
		loop	loc_20D96
		pop	di
		pop	es
		assume es:nothing

loc_20DB1:				; CODE XREF: sub_20C1D+13Aj
					; sub_20C1D+161j ...
		mov	dx, ds
		mov	ax, 2D02h
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
sub_20C1D	endp

; ---------------------------------------------------------------------------
word_20DBC	dw 0EB9Fh,0EBA0h,0EBA1h,0EBA2h ; DATA XREF: sub_20C1D+3Co
		dw 0F040h		; value	table for switch statement
		dw offset loc_20C6F	; jump table for switch	statement
		dw offset loc_20C84
		dw offset loc_20C99
		dw offset loc_20CAE
		dw offset loc_20CC2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20DD0	proc far		; CODE XREF: sub_2281D+CBP

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	4, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		cmp	si, 20h	; ' '
		jnz	short loc_20DEB
		mov	[bp+var_2], ds
		mov	[bp+var_4], 1654h
		mov	di, 1
		jmp	short loc_20DFF
; ---------------------------------------------------------------------------

loc_20DEB:				; CODE XREF: sub_20DD0+Cj
		push	[bp+arg_A]
		push	si
		push	cs
		call	near ptr sub_20C1D
		add	sp, 4
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	di, 2

loc_20DFF:				; CODE XREF: sub_20DD0+19j
		push	[bp+arg_6]
		push	[bp+arg_8]
		push	[bp+var_2]
		push	[bp+var_4]
		push	10h
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_205A5
		add	sp, 10h
		pop	di
		pop	si
		leave
		retf
sub_20DD0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20E1F	proc far		; CODE XREF: seg002:25FCP
					; sub_228FB+D6P

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= dword	ptr  10h
arg_E		= word ptr  14h

		enter	4, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		cmp	si, 20h	; ' '
		jnz	short loc_20E3A
		mov	[bp+var_2], ds
		mov	[bp+var_4], 1664h
		mov	di, 1
		jmp	short loc_20E4E
; ---------------------------------------------------------------------------

loc_20E3A:				; CODE XREF: sub_20E1F+Cj
		push	[bp+arg_E]
		push	si
		push	cs
		call	near ptr sub_20C1D
		add	sp, 4
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	di, 2

loc_20E4E:				; CODE XREF: sub_20E1F+19j
		push	[bp+arg_6]	; int
		push	word ptr [bp+arg_A+2]
		push	word ptr [bp+arg_A] ; __int32
		push	[bp+arg_8]	; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	10h		; int
		push	di		; n
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		push	cs
		call	near ptr sub_205EA
		add	sp, 14h
		pop	di
		pop	si
		leave
		retf
sub_20E1F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_20E74	proc far		; CODE XREF: seg009:1AFBp

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	4, 0
		mov	ax, [bp+arg_0]
		and	ax, 3Fh
		shl	ax, 3
		mov	[bp+var_2], 0
		mov	[bp+var_4], ax
		cmp	[bp+arg_2], 0
		jz	short loc_20EAB
		push	8
		push	[bp+var_2]
		push	[bp+var_4]
		push	ds
		push	2D22h
		nop
		push	cs
		call	near ptr sub_220D9
		add	sp, 0Ah
		mov	[bp+var_2], ds
		mov	[bp+var_4], 2D22h

loc_20EAB:				; CODE XREF: sub_20E74+19j
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		leave
		retf
sub_20E74	endp

; ---------------------------------------------------------------------------
		leave
		retf
; ---------------------------------------------------------------------------
		enter	4, 0
		push	si
		push	di
		mov	di, [bp+10h]
		test	byte ptr [bp+0Ah], 80h
		jz	short loc_20F3B
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	cs
		call	near ptr sub_20E74
		add	sp, 4
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		cmp	word ptr [bp+0Ch], 0
		jnz	short loc_20F0D
		xor	si, si
		jmp	short loc_20F06
; ---------------------------------------------------------------------------

loc_20EE1:				; CODE XREF: seg009:1B39j
		test	di, 1
		jz	short loc_20F03
		push	si
		push	word ptr [bp+0Eh]
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	8
		push	1
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr sub_21152
		add	sp, 10h

loc_20F03:				; CODE XREF: seg009:1B15j
		sar	di, 1
		inc	si

loc_20F06:				; CODE XREF: seg009:1B0Fj
		cmp	si, 4
		jl	short loc_20EE1
		jmp	short loc_20F3B
; ---------------------------------------------------------------------------

loc_20F0D:				; CODE XREF: seg009:1B0Bj
		xor	si, si
		jmp	short loc_20F36
; ---------------------------------------------------------------------------

loc_20F11:				; CODE XREF: seg009:1B69j
		test	di, 1
		jz	short loc_20F33
		push	si
		push	word ptr [bp+0Eh]
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		push	8
		push	2
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr sub_21152
		add	sp, 10h

loc_20F33:				; CODE XREF: seg009:1B45j
		sar	di, 1
		inc	si

loc_20F36:				; CODE XREF: seg009:1B3Fj
		cmp	si, 4
		jl	short loc_20F11

loc_20F3B:				; CODE XREF: seg009:1AF2j seg009:1B3Bj
		pop	di
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+0Ah]
		call	sub_1F0F9
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jnz	short loc_20F5C
		mov	word ptr [bp+8], ds
		mov	word ptr [bp+6], 2D9Ah

loc_20F5C:				; CODE XREF: seg009:1B82j
		mov	ax, [bp+0Eh]
		and	ax, 3
		add	ax, 2
		mov	word_2AF3E, ax
		cmp	ax, 3
		jle	short loc_20F71
		inc	word_2AF3E

loc_20F71:				; CODE XREF: seg009:1B9Bj
		xor	si, si
		jmp	short loc_20F98
; ---------------------------------------------------------------------------

loc_20F75:				; CODE XREF: seg009:1BCAj
		mov	ax, si
		shl	ax, 8
		xor	dx, dx
		div	di
		mov	word_2AF40, ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_2029E
		add	sp, 4
		push	word ptr [bp+0Ch]
		call	sub_1F08D
		pop	cx
		inc	si

loc_20F98:				; CODE XREF: seg009:1BA3j
		cmp	si, di
		jb	short loc_20F75
		mov	word_2AF3E, 0
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_2029E
		add	sp, 4
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+0Ah]
		call	sub_1F0F9
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jnz	short loc_20FD0
		mov	word ptr [bp+8], ds
		mov	word ptr [bp+6], 2D9Ah

loc_20FD0:				; CODE XREF: seg009:1BF6j
		mov	ax, [bp+0Eh]
		and	ax, 3
		add	ax, 2
		mov	word_2AF3E, ax
		cmp	ax, 3
		jle	short loc_20FE5
		inc	word_2AF3E

loc_20FE5:				; CODE XREF: seg009:1C0Fj
		xor	si, si
		jmp	short loc_2100E
; ---------------------------------------------------------------------------

loc_20FE9:				; CODE XREF: seg009:1C40j
		mov	ax, di
		sub	ax, si
		shl	ax, 8
		xor	dx, dx
		div	di
		mov	word_2AF40, ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_2029E
		add	sp, 4
		push	word ptr [bp+0Ch]
		call	sub_1F08D
		pop	cx
		inc	si

loc_2100E:				; CODE XREF: seg009:1C17j
		cmp	si, di
		jb	short loc_20FE9
		mov	ax, [bp+0Eh]
		and	ax, 3
		cmp	ax, 2
		jge	short loc_21022
		mov	ax, 1
		jmp	short loc_21025
; ---------------------------------------------------------------------------

loc_21022:				; CODE XREF: seg009:1C4Bj
		mov	ax, 4

loc_21025:				; CODE XREF: seg009:1C50j
		mov	word_2AF3E, ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_2029E
		add	sp, 4
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	ax, word_2AF3E
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	ax, [bp+6]
		mov	word_2AF3E, ax
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2104E	proc far		; CODE XREF: sub_205A5+33p
					; sub_231DA+C0P

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	0, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21067
		jmp	loc_2114D
; ---------------------------------------------------------------------------

loc_21067:				; CODE XREF: sub_2104E+14j
		cmp	ax, 4
		jb	short loc_2107E
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_210A9
; ---------------------------------------------------------------------------

loc_2107E:				; CODE XREF: sub_2104E+1Cj
		cmp	ax, 2
		jnz	short loc_210A9
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	cl, byte ptr [bp+arg_E]
		mov	ax, 102h
		shl	ah, cl
		out	dx, ax		; EGA: sequencer address reg
					; sequencer reset.
					; Bits of data 0-1 indicate asynchronous/synchronous reset.
		popf

loc_210A9:				; CODE XREF: sub_2104E+2Ej
					; sub_2104E+33j
		mov	bx, [bp+arg_C]
		shl	bx, 4
		mov	ax, [bp+arg_E]
		shl	ax, 2
		add	bx, ax
		mov	di, [bx+139Eh]
		mov	es, word ptr [bx+13A0h]
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		add	ax, [bp+arg_0]
		add	di, ax
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		sub	ax, [bp+arg_4]
		mov	bx, ax
		lds	si, [bp+arg_8]
		mov	ax, [bp+arg_4]
		dec	ax
		jz	short loc_21145
		dec	ax
		jz	short loc_2113B
		dec	ax
		jz	short loc_21130
		dec	ax
		jz	short loc_21125
		sub	ax, 2
		jz	short loc_21119
		shr	[bp+arg_4], 1
		jb	short loc_21109
		mov	dx, [bp+arg_6]

loc_210FD:				; CODE XREF: sub_2104E+B7j
		mov	cx, [bp+arg_4]
		rep movsw
		add	di, bx
		dec	dx
		jnz	short loc_210FD
		jmp	short loc_2114D
; ---------------------------------------------------------------------------

loc_21109:				; CODE XREF: sub_2104E+AAj
		mov	dx, [bp+arg_6]

loc_2110C:				; CODE XREF: sub_2104E+C7j
		movsb
		mov	cx, [bp+arg_4]
		rep movsw
		add	di, bx
		dec	dx
		jnz	short loc_2110C
		jmp	short loc_2114D
; ---------------------------------------------------------------------------

loc_21119:				; CODE XREF: sub_2104E+A5j
		mov	cx, [bp+arg_6]

loc_2111C:				; CODE XREF: sub_2104E+D3j
		movsw
		movsw
		movsw
		add	di, bx
		loop	loc_2111C
		jmp	short loc_2114D
; ---------------------------------------------------------------------------

loc_21125:				; CODE XREF: sub_2104E+A0j
		mov	cx, [bp+arg_6]

loc_21128:				; CODE XREF: sub_2104E+DEj
		movsw
		movsw
		add	di, bx
		loop	loc_21128
		jmp	short loc_2114D
; ---------------------------------------------------------------------------

loc_21130:				; CODE XREF: sub_2104E+9Dj
		mov	cx, [bp+arg_6]

loc_21133:				; CODE XREF: sub_2104E+E9j
		movsb
		movsw
		add	di, bx
		loop	loc_21133
		jmp	short loc_2114D
; ---------------------------------------------------------------------------

loc_2113B:				; CODE XREF: sub_2104E+9Aj
		mov	cx, [bp+arg_6]

loc_2113E:				; CODE XREF: sub_2104E+F3j
		movsw
		add	di, bx
		loop	loc_2113E
		jmp	short loc_2114D
; ---------------------------------------------------------------------------

loc_21145:				; CODE XREF: sub_2104E+97j
		mov	cx, [bp+arg_6]

loc_21148:				; CODE XREF: sub_2104E+FDj
		movsb
		add	di, bx
		loop	loc_21148

loc_2114D:				; CODE XREF: sub_2104E+16j
					; sub_2104E+B9j ...
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_2104E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21152	proc far		; CODE XREF: sub_205EA+42p
					; seg009:1B2Dp	...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	0, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_2116B
		jmp	loc_21247
; ---------------------------------------------------------------------------

loc_2116B:				; CODE XREF: sub_21152+14j
		cmp	ax, 4
		jb	short loc_21182
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_211B3
; ---------------------------------------------------------------------------

loc_21182:				; CODE XREF: sub_21152+1Cj
		cmp	ax, 2
		jnz	short loc_211B3
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ah, byte ptr [bp+arg_E]
		mov	al, 4
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; set/reset.
					; Data bits 0-3	select planes for write	mode 00
		mov	dx, 3C4h
		mov	cl, byte ptr [bp+arg_E]
		mov	ax, 102h
		shl	ah, cl
		out	dx, ax		; EGA: sequencer address reg
					; sequencer reset.
					; Bits of data 0-1 indicate asynchronous/synchronous reset.
		popf

loc_211B3:				; CODE XREF: sub_21152+2Ej
					; sub_21152+33j
		mov	bx, [bp+arg_C]
		shl	bx, 4
		mov	ax, [bp+arg_E]
		shl	ax, 2
		add	bx, ax
		mov	di, [bx+139Eh]
		mov	es, word ptr [bx+13A0h]
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		add	ax, [bp+arg_0]
		add	di, ax
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		sub	ax, [bp+arg_4]
		mov	bx, ax
		lds	si, [bp+arg_8]
		mov	ax, [bp+arg_4]
		dec	ax
		jz	short loc_2123B
		dec	ax
		jz	short loc_2122B
		dec	ax
		jz	short loc_21216
		mov	dx, [bp+arg_6]

loc_211FA:				; CODE XREF: sub_21152+C0j
		mov	cx, [bp+arg_4]
		shr	cx, 1
		jz	short loc_21206
		lodsb
		or	es:[di], al
		inc	di

loc_21206:				; CODE XREF: sub_21152+ADj
					; sub_21152+BBj
		lodsw
		or	es:[di], ax
		add	di, 2
		loop	loc_21206
		add	di, bx
		dec	dx
		jnz	short loc_211FA
		jmp	short loc_21247
; ---------------------------------------------------------------------------

loc_21216:				; CODE XREF: sub_21152+A3j
		add	bx, 2
		mov	cx, [bp+arg_6]

loc_2121C:				; CODE XREF: sub_21152+D5j
		lodsb
		or	es:[di], al
		inc	di
		lodsw
		or	es:[di], ax
		add	di, bx
		loop	loc_2121C
		jmp	short loc_21247
; ---------------------------------------------------------------------------

loc_2122B:				; CODE XREF: sub_21152+A0j
		add	bx, 2
		mov	cx, [bp+arg_6]

loc_21231:				; CODE XREF: sub_21152+E5j
		lodsw
		or	es:[di], ax
		add	di, bx
		loop	loc_21231
		jmp	short loc_21247
; ---------------------------------------------------------------------------

loc_2123B:				; CODE XREF: sub_21152+9Dj
		inc	bx
		mov	cx, [bp+arg_6]

loc_2123F:				; CODE XREF: sub_21152+F3j
		lodsb
		or	es:[di], al
		add	di, bx
		loop	loc_2123F

loc_21247:				; CODE XREF: sub_21152+16j
					; sub_21152+C2j ...
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21152	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2124C	proc far		; CODE XREF: sub_231DA+9FP

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	0, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21265
		jmp	loc_21341
; ---------------------------------------------------------------------------

loc_21265:				; CODE XREF: sub_2124C+14j
		cmp	ax, 4
		jb	short loc_2127C
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_212AD
; ---------------------------------------------------------------------------

loc_2127C:				; CODE XREF: sub_2124C+1Cj
		cmp	ax, 2
		jnz	short loc_212AD
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ah, byte ptr [bp+arg_E]
		mov	al, 4
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; set/reset.
					; Data bits 0-3	select planes for write	mode 00
		mov	dx, 3C4h
		mov	cl, byte ptr [bp+arg_E]
		mov	ax, 102h
		shl	ah, cl
		out	dx, ax		; EGA: sequencer address reg
					; sequencer reset.
					; Bits of data 0-1 indicate asynchronous/synchronous reset.
		popf

loc_212AD:				; CODE XREF: sub_2124C+2Ej
					; sub_2124C+33j
		mov	bx, [bp+arg_C]
		shl	bx, 4
		mov	ax, [bp+arg_E]
		shl	ax, 2
		add	bx, ax
		mov	di, [bx+139Eh]
		mov	es, word ptr [bx+13A0h]
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		add	ax, [bp+arg_0]
		add	di, ax
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		sub	ax, [bp+arg_4]
		mov	bx, ax
		lds	si, [bp+arg_8]
		mov	ax, [bp+arg_4]
		dec	ax
		jz	short loc_21335
		dec	ax
		jz	short loc_21325
		dec	ax
		jz	short loc_21310
		mov	dx, [bp+arg_6]

loc_212F4:				; CODE XREF: sub_2124C+C0j
		mov	cx, [bp+arg_4]
		shr	cx, 1
		jz	short loc_21300
		lodsb
		and	es:[di], al
		inc	di

loc_21300:				; CODE XREF: sub_2124C+ADj
					; sub_2124C+BBj
		lodsw
		and	es:[di], ax
		add	di, 2
		loop	loc_21300
		add	di, bx
		dec	dx
		jnz	short loc_212F4
		jmp	short loc_21341
; ---------------------------------------------------------------------------

loc_21310:				; CODE XREF: sub_2124C+A3j
		add	bx, 2
		mov	cx, [bp+arg_6]

loc_21316:				; CODE XREF: sub_2124C+D5j
		lodsb
		and	es:[di], al
		inc	di
		lodsw
		and	es:[di], ax
		add	di, bx
		loop	loc_21316
		jmp	short loc_21341
; ---------------------------------------------------------------------------

loc_21325:				; CODE XREF: sub_2124C+A0j
		add	bx, 2
		mov	cx, [bp+arg_6]

loc_2132B:				; CODE XREF: sub_2124C+E5j
		lodsw
		and	es:[di], ax
		add	di, bx
		loop	loc_2132B
		jmp	short loc_21341
; ---------------------------------------------------------------------------

loc_21335:				; CODE XREF: sub_2124C+9Dj
		inc	bx
		mov	cx, [bp+arg_6]

loc_21339:				; CODE XREF: sub_2124C+F3j
		lodsb
		and	es:[di], al
		add	di, bx
		loop	loc_21339

loc_21341:				; CODE XREF: sub_2124C+16j
					; sub_2124C+C2j ...
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_2124C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21346	proc far		; CODE XREF: sub_205EA+5Dp

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	0, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_2135F
		jmp	loc_21447
; ---------------------------------------------------------------------------

loc_2135F:				; CODE XREF: sub_21346+14j
		cmp	ax, 4
		jb	short loc_21376
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_213A7
; ---------------------------------------------------------------------------

loc_21376:				; CODE XREF: sub_21346+1Cj
		cmp	ax, 2
		jnz	short loc_213A7
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ah, byte ptr [bp+arg_E]
		mov	al, 4
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; set/reset.
					; Data bits 0-3	select planes for write	mode 00
		mov	dx, 3C4h
		mov	cl, byte ptr [bp+arg_E]
		mov	ax, 102h
		shl	ah, cl
		out	dx, ax		; EGA: sequencer address reg
					; sequencer reset.
					; Bits of data 0-1 indicate asynchronous/synchronous reset.
		popf

loc_213A7:				; CODE XREF: sub_21346+2Ej
					; sub_21346+33j
		mov	bx, [bp+arg_C]
		shl	bx, 4
		mov	ax, [bp+arg_E]
		shl	ax, 2
		add	bx, ax
		mov	di, [bx+139Eh]
		mov	es, word ptr [bx+13A0h]
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		imul	[bp+arg_2]
		add	ax, [bp+arg_0]
		add	di, ax
		mov	bx, [bp+arg_C]
		add	bx, bx
		mov	ax, [bx+2D72h]
		sub	ax, [bp+arg_4]
		mov	bx, ax
		lds	si, [bp+arg_8]
		mov	ax, [bp+arg_4]
		dec	ax
		jz	short loc_21439
		dec	ax
		jz	short loc_21427
		dec	ax
		jz	short loc_2140E
		mov	dx, [bp+arg_6]

loc_213EE:				; CODE XREF: sub_21346+C4j
		mov	cx, [bp+arg_4]
		shr	cx, 1
		jz	short loc_213FC
		lodsb
		not	al
		and	es:[di], al
		inc	di

loc_213FC:				; CODE XREF: sub_21346+ADj
					; sub_21346+BFj
		lodsw
		not	ax
		and	es:[di], ax
		add	di, 2
		loop	loc_213FC
		add	di, bx
		dec	dx
		jnz	short loc_213EE
		jmp	short loc_21447
; ---------------------------------------------------------------------------

loc_2140E:				; CODE XREF: sub_21346+A3j
		add	bx, 2
		mov	cx, [bp+arg_6]

loc_21414:				; CODE XREF: sub_21346+DDj
		lodsb
		not	al
		and	es:[di], al
		inc	di
		lodsw
		not	ax
		and	es:[di], ax
		add	di, bx
		loop	loc_21414
		jmp	short loc_21447
; ---------------------------------------------------------------------------

loc_21427:				; CODE XREF: sub_21346+A0j
		add	bx, 2
		mov	cx, [bp+arg_6]

loc_2142D:				; CODE XREF: sub_21346+EFj
		lodsw
		not	ax
		and	es:[di], ax
		add	di, bx
		loop	loc_2142D
		jmp	short loc_21447
; ---------------------------------------------------------------------------

loc_21439:				; CODE XREF: sub_21346+9Dj
		inc	bx
		mov	cx, [bp+arg_6]

loc_2143D:				; CODE XREF: sub_21346+FFj
		lodsb
		not	al
		and	es:[di], al
		add	di, bx
		loop	loc_2143D

loc_21447:				; CODE XREF: sub_21346+16j
					; sub_21346+C6j ...
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21346	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2144C	proc far		; CODE XREF: seg002:1C1CP seg002:1CF3P ...

var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	24h, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	dx, ax
		sub	dx, [bp+arg_C]
		mov	[bp+var_24], dx
		imul	[bp+arg_2]
		add	ax, [bp+arg_0]
		mov	dx, ax
		mov	bx, [bp+arg_4]
		shl	bx, 4
		mov	di, bp
		sub	di, 20h	; ' '
		mov	cx, 4

loc_2147B:				; CODE XREF: sub_2144C+46j
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_2147B
		mov	bx, [bp+arg_A]
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	dx, ax
		sub	dx, [bp+arg_C]
		mov	[bp+var_22], dx
		imul	[bp+arg_8]
		add	ax, [bp+arg_6]
		mov	dx, ax
		mov	bx, [bp+arg_A]
		shl	bx, 4
		mov	di, bp
		sub	di, 10h
		mov	cx, 4

loc_214BB:				; CODE XREF: sub_2144C+86j
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_214BB
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_214E5
		jmp	loc_2168C
; ---------------------------------------------------------------------------

loc_214E5:				; CODE XREF: sub_2144C+94j
		cmp	ax, 2
		jnz	short loc_214ED
		jmp	loc_215AF
; ---------------------------------------------------------------------------

loc_214ED:				; CODE XREF: sub_2144C+9Cj
		cmp	ax, 4
		jb	short loc_21504
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_21532
; ---------------------------------------------------------------------------

loc_21504:				; CODE XREF: sub_2144C+A4j
		mov	bx, [bp+arg_A]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21515
		jmp	loc_2168C
; ---------------------------------------------------------------------------

loc_21515:				; CODE XREF: sub_2144C+C4j
		cmp	ax, 2
		jnz	short loc_2151D
		jmp	loc_215AF
; ---------------------------------------------------------------------------

loc_2151D:				; CODE XREF: sub_2144C+CCj
		cmp	ax, 4
		jb	short loc_21532
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A

loc_21532:				; CODE XREF: sub_2144C+B6j
					; sub_2144C+D4j
		mov	ax, [bp+var_24]
		mov	bx, [bp+var_22]
		mov	dx, [bp+arg_C]

loc_2153B:				; CODE XREF: sub_2144C+15Ej
		lds	si, [bp+var_10]
		les	di, [bp+var_20]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_10], si
		add	di, ax
		mov	word ptr [bp+var_20], di
		lds	si, [bp+var_C]
		les	di, [bp+var_1C]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_C], si
		add	di, ax
		mov	word ptr [bp+var_1C], di
		lds	si, [bp+var_8]
		les	di, [bp+var_18]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_8], si
		add	di, ax
		mov	word ptr [bp+var_18], di
		lds	si, [bp+var_4]
		les	di, [bp+var_14]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_4], si
		add	di, ax
		mov	word ptr [bp+var_14], di
		dec	[bp+arg_E]
		jnz	short loc_2153B
		jmp	loc_2168C
; ---------------------------------------------------------------------------

loc_215AF:				; CODE XREF: sub_2144C+9Ej
					; sub_2144C+CEj
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		mov	bx, [bp+var_22]

loc_215CC:				; CODE XREF: sub_2144C+23Dj
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 4
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; read map select.
					; Data bits 0-2	select map # for read mode 00.
		mov	dx, 3C4h
		mov	ax, 102h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_10]
		les	di, [bp+var_20]
		mov	cx, [bp+arg_C]
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_10], si
		add	di, [bp+var_24]
		mov	word ptr [bp+var_20], di
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 104h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 202h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_C]
		les	di, [bp+var_1C]
		mov	cx, [bp+arg_C]
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_C], si
		add	di, [bp+var_24]
		mov	word ptr [bp+var_1C], di
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 204h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 402h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_8]
		les	di, [bp+var_18]
		mov	cx, [bp+arg_C]
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_8], si
		add	di, [bp+var_24]
		mov	word ptr [bp+var_18], di
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 304h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 802h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_4]
		les	di, [bp+var_14]
		mov	cx, [bp+arg_C]
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	si, bx
		mov	word ptr [bp+var_4], si
		add	di, [bp+var_24]
		mov	word ptr [bp+var_14], di
		dec	[bp+arg_E]
		jz	short loc_2168C
		jmp	loc_215CC
; ---------------------------------------------------------------------------

loc_2168C:				; CODE XREF: sub_2144C+96j
					; sub_2144C+C6j ...
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_2144C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21691	proc far		; CODE XREF: seg002:1D8FP
					; sub_225C5+9FP ...

var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	24h, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	dx, ax
		sub	dx, [bp+arg_C]
		mov	[bp+var_24], dx
		imul	[bp+arg_2]
		add	ax, [bp+arg_0]
		mov	dx, ax
		mov	bx, [bp+arg_4]
		shl	bx, 4
		mov	di, bp
		sub	di, 20h	; ' '
		mov	cx, 4

loc_216C0:				; CODE XREF: sub_21691+46j
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_216C0
		mov	bx, [bp+arg_A]
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	dx, ax
		sub	dx, [bp+arg_C]
		mov	[bp+var_22], dx
		imul	[bp+arg_8]
		add	ax, [bp+arg_6]
		mov	dx, ax
		mov	bx, [bp+arg_A]
		shl	bx, 4
		mov	di, bp
		sub	di, 10h
		mov	cx, 4

loc_21700:				; CODE XREF: sub_21691+86j
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_21700
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_2172A
		jmp	loc_21A1C
; ---------------------------------------------------------------------------

loc_2172A:				; CODE XREF: sub_21691+94j
		cmp	ax, 2
		jnz	short loc_21732
		jmp	loc_21893
; ---------------------------------------------------------------------------

loc_21732:				; CODE XREF: sub_21691+9Cj
		cmp	ax, 4
		jb	short loc_21749
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_21777
; ---------------------------------------------------------------------------

loc_21749:				; CODE XREF: sub_21691+A4j
		mov	bx, [bp+arg_A]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_2175A
		jmp	loc_21A1C
; ---------------------------------------------------------------------------

loc_2175A:				; CODE XREF: sub_21691+C4j
		cmp	ax, 2
		jnz	short loc_21762
		jmp	loc_21893
; ---------------------------------------------------------------------------

loc_21762:				; CODE XREF: sub_21691+CCj
		cmp	ax, 4
		jb	short loc_21777
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A

loc_21777:				; CODE XREF: sub_21691+B6j
					; sub_21691+D4j
		mov	ax, [bp+var_24]
		mov	bx, seg	dseg
		mov	dx, [bp+arg_C]

loc_21780:				; CODE XREF: sub_21691+1FCj
		lds	si, [bp+var_20]
		mov	di, 2E80h
		mov	es, bx
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_10]
		les	di, [bp+var_20]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, ax
		mov	word ptr [bp+var_20], di
		mov	si, 2E80h
		mov	ds, bx
		les	di, [bp+var_10]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_22]
		mov	word ptr [bp+var_10], di
		lds	si, [bp+var_1C]
		mov	di, 2E80h
		mov	es, bx
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_C]
		les	di, [bp+var_1C]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, ax
		mov	word ptr [bp+var_1C], di
		mov	si, 2E80h
		mov	ds, bx
		les	di, [bp+var_C]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_22]
		mov	word ptr [bp+var_C], di
		lds	si, [bp+var_18]
		mov	di, 2E80h
		mov	es, bx
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_8]
		les	di, [bp+var_18]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, ax
		mov	word ptr [bp+var_18], di
		mov	si, 2E80h
		mov	ds, bx
		les	di, [bp+var_8]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_22]
		mov	word ptr [bp+var_8], di
		lds	si, [bp+var_14]
		mov	di, 2E80h
		mov	es, bx
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_4]
		les	di, [bp+var_14]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, ax
		mov	word ptr [bp+var_14], di
		mov	si, 2E80h
		mov	ds, bx
		les	di, [bp+var_4]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_22]
		mov	word ptr [bp+var_4], di
		dec	[bp+arg_E]
		jz	short loc_21890
		jmp	loc_21780
; ---------------------------------------------------------------------------

loc_21890:				; CODE XREF: sub_21691+1FAj
		jmp	loc_21A1C
; ---------------------------------------------------------------------------

loc_21893:				; CODE XREF: sub_21691+9Ej
					; sub_21691+CEj
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		mov	bx, [bp+var_22]

loc_218B0:				; CODE XREF: sub_21691+388j
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 4
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; read map select.
					; Data bits 0-2	select map # for read mode 00.
		mov	dx, 3C4h
		mov	ax, 102h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		mov	dx, [bp+arg_C]
		mov	ax, seg	dseg
		lds	si, [bp+var_20]
		mov	di, 2E80h
		mov	es, ax
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_10]
		les	di, [bp+var_20]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_24]
		mov	word ptr [bp+var_20], di
		mov	si, 2E80h
		mov	ds, ax
		les	di, [bp+var_10]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, bx
		mov	word ptr [bp+var_10], di
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 104h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 202h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		mov	dx, [bp+arg_C]
		mov	ax, seg	dseg
		lds	si, [bp+var_1C]
		mov	di, 2E80h
		mov	es, ax
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_C]
		les	di, [bp+var_1C]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_24]
		mov	word ptr [bp+var_1C], di
		mov	si, 2E80h
		mov	ds, ax
		les	di, [bp+var_C]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, bx
		mov	word ptr [bp+var_C], di
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 204h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 402h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		mov	dx, [bp+arg_C]
		mov	ax, seg	dseg
		lds	si, [bp+var_18]
		mov	di, 2E80h
		mov	es, ax
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_8]
		les	di, [bp+var_18]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_24]
		mov	word ptr [bp+var_18], di
		mov	si, 2E80h
		mov	ds, ax
		les	di, [bp+var_8]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, bx
		mov	word ptr [bp+var_8], di
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 304h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 802h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		mov	dx, [bp+arg_C]
		mov	ax, seg	dseg
		lds	si, [bp+var_14]
		mov	di, 2E80h
		mov	es, ax
		assume es:dseg
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		lds	si, [bp+var_4]
		les	di, [bp+var_14]
		assume es:nothing
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, [bp+var_24]
		mov	word ptr [bp+var_14], di
		mov	si, 2E80h
		mov	ds, ax
		les	di, [bp+var_4]
		mov	cx, dx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		add	di, bx
		mov	word ptr [bp+var_4], di
		dec	[bp+arg_E]
		jz	short loc_21A1C
		jmp	loc_218B0
; ---------------------------------------------------------------------------

loc_21A1C:				; CODE XREF: sub_21691+96j
					; sub_21691+C6j ...
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21691	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21A21	proc far		; CODE XREF: sub_1BFED+DFP

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	0, 0
		push	ds
		push	di
		push	si
		cld
		lds	si, [bp+arg_0]
		mov	ax, seg	dseg
		mov	es, ax
		assume es:dseg
		mov	di, 2E80h
		mov	dx, [bp+arg_4]

loc_21A37:				; CODE XREF: sub_21A21+1Cj
		mov	cx, 10h
		rep movsw
		dec	dx
		jnz	short loc_21A37
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21A21	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21A44	proc far		; CODE XREF: sub_1BFED+290P

var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= word ptr -22h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	26h, 0
		push	ds
		push	di
		push	si
		cld
		mov	ax, [bp+arg_C]
		shl	ax, 5
		add	ax, 2E80h
		mov	[bp+var_26], ax
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	dx, ax
		sub	dx, 2
		mov	[bp+var_24], dx
		imul	[bp+arg_2]
		add	ax, [bp+arg_0]
		mov	dx, ax
		mov	bx, [bp+arg_4]
		shl	bx, 4
		mov	di, bp
		sub	di, 20h	; ' '
		mov	cx, 4

loc_21A7F:				; CODE XREF: sub_21A44+52j
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_21A7F
		mov	bx, [bp+arg_A]
		add	bx, bx
		mov	ax, [bx+2D72h]
		mov	dx, ax
		sub	dx, 2
		mov	[bp+var_22], dx
		imul	[bp+arg_8]
		add	ax, [bp+arg_6]
		mov	dx, ax
		mov	bx, [bp+arg_A]
		shl	bx, 4
		mov	di, bp
		sub	di, 10h
		mov	cx, 4

loc_21ABF:				; CODE XREF: sub_21A44+92j
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_21ABF
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21AE9
		jmp	loc_21CBF
; ---------------------------------------------------------------------------

loc_21AE9:				; CODE XREF: sub_21A44+A0j
		cmp	ax, 2
		jnz	short loc_21AF1
		jmp	loc_21BCD
; ---------------------------------------------------------------------------

loc_21AF1:				; CODE XREF: sub_21A44+A8j
		cmp	ax, 4
		jb	short loc_21B08
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_21B36
; ---------------------------------------------------------------------------

loc_21B08:				; CODE XREF: sub_21A44+B0j
		mov	bx, [bp+arg_A]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21B19
		jmp	loc_21CBF
; ---------------------------------------------------------------------------

loc_21B19:				; CODE XREF: sub_21A44+D0j
		cmp	ax, 2
		jnz	short loc_21B21
		jmp	loc_21BCD
; ---------------------------------------------------------------------------

loc_21B21:				; CODE XREF: sub_21A44+D8j
		cmp	ax, 4
		jb	short loc_21B36
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A

loc_21B36:				; CODE XREF: sub_21A44+C2j
					; sub_21A44+E0j
		lds	si, [bp+var_10]
		les	di, [bp+var_20]
		assume es:nothing
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21B42:				; CODE XREF: sub_21A44+115j
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21B42
		lds	si, [bp+var_C]
		les	di, [bp+var_1C]
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21B67:				; CODE XREF: sub_21A44+13Aj
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21B67
		lds	si, [bp+var_8]
		les	di, [bp+var_18]
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21B8C:				; CODE XREF: sub_21A44+15Fj
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21B8C
		lds	si, [bp+var_4]
		les	di, [bp+var_14]
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21BB1:				; CODE XREF: sub_21A44+184j
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21BB1
		jmp	loc_21CBF
; ---------------------------------------------------------------------------

loc_21BCD:				; CODE XREF: sub_21A44+AAj
					; sub_21A44+DAj
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 4
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; read map select.
					; Data bits 0-2	select map # for read mode 00.
		mov	dx, 3C4h
		mov	ax, 102h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_10]
		les	di, [bp+var_20]
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21C04:				; CODE XREF: sub_21A44+1D7j
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21C04
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 104h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 202h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_C]
		les	di, [bp+var_1C]
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21C3A:				; CODE XREF: sub_21A44+20Dj
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21C3A
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 204h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 402h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_8]
		les	di, [bp+var_18]
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21C70:				; CODE XREF: sub_21A44+243j
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21C70
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 304h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	ax, 802h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		lds	si, [bp+var_4]
		les	di, [bp+var_14]
		mov	bx, [bp+var_26]
		mov	cx, [bp+arg_E]

loc_21CA6:				; CODE XREF: sub_21A44+279j
		mov	dx, ss:[bx]
		add	bx, 2
		lodsw
		add	si, [bp+var_22]
		and	ax, dx
		not	dx
		and	dx, es:[di]
		or	ax, dx
		stosw
		add	di, [bp+var_24]
		loop	loc_21CA6

loc_21CBF:				; CODE XREF: sub_21A44+A2j
					; sub_21A44+D2j ...
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21A44	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21CC4	proc far		; CODE XREF: sub_232CC+ABP
					; sub_234E2:loc_235DBP	...

var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	12h, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_6]
		add	bx, bx
		mov	ax, [bx+2D72h]
		imul	[bp+arg_A]
		add	ax, [bp+arg_8]
		mov	dx, ax
		mov	bx, [bp+arg_6]
		shl	bx, 4
		mov	di, bp
		sub	di, 10h
		mov	cx, 4

loc_21CEB:				; CODE XREF: sub_21CC4+3Ej
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_21CEB
		mov	ax, [bp+arg_4]
		add	ax, 3
		shr	ax, 2
		mov	[bp+var_12], ax
		mov	bx, [bp+arg_6]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21D21
		jmp	loc_21E11
; ---------------------------------------------------------------------------

loc_21D21:				; CODE XREF: sub_21CC4+58j
		cmp	ax, 2
		jz	short loc_21D90
		cmp	ax, 4
		jb	short loc_21D3B
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A

loc_21D3B:				; CODE XREF: sub_21CC4+65j
		lds	si, [bp+arg_0]

loc_21D3E:				; CODE XREF: sub_21CC4+C7j
		mov	cx, 4

loc_21D41:				; CODE XREF: sub_21CC4+9Ej
		lodsb
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		loop	loc_21D41
		les	di, [bp+var_10]
		mov	es:[di], dl
		inc	word ptr [bp+var_10]
		les	di, [bp+var_C]
		mov	es:[di], dh
		inc	word ptr [bp+var_C]
		les	di, [bp+var_8]
		mov	es:[di], bl
		inc	word ptr [bp+var_8]
		les	di, [bp+var_4]
		mov	es:[di], bh
		inc	word ptr [bp+var_4]
		dec	[bp+var_12]
		jnz	short loc_21D3E
		jmp	loc_21E11
; ---------------------------------------------------------------------------

loc_21D90:				; CODE XREF: sub_21CC4+60j
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		lds	si, [bp+arg_0]

loc_21DAD:				; CODE XREF: sub_21CC4+14Bj
		mov	cx, 4

loc_21DB0:				; CODE XREF: sub_21CC4+10Dj
		lodsb
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		loop	loc_21DB0
		mov	cx, dx
		pushf
		cli
		mov	dx, 3C4h
		mov	ax, 102h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_10]
		mov	es:[di], cl
		inc	word ptr [bp+var_10]
		mov	ah, 2
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_C]
		mov	es:[di], ch
		inc	word ptr [bp+var_C]
		mov	ah, 4
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_8]
		mov	es:[di], bl
		inc	word ptr [bp+var_8]
		mov	ah, 8
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		les	di, [bp+var_4]
		mov	es:[di], bh
		inc	word ptr [bp+var_4]
		dec	[bp+var_12]
		jnz	short loc_21DAD

loc_21E11:				; CODE XREF: sub_21CC4+5Aj
					; sub_21CC4+C9j
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21CC4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21E16	proc far		; CODE XREF: sub_232CC+73P
					; sub_234E2+E6P ...

var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	12h, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_6]
		add	bx, bx
		mov	ax, [bx+2D72h]
		imul	[bp+arg_A]
		add	ax, [bp+arg_8]
		mov	dx, ax
		mov	bx, [bp+arg_6]
		shl	bx, 4
		mov	di, bp
		sub	di, 10h
		mov	cx, 4

loc_21E3D:				; CODE XREF: sub_21E16+3Ej
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_21E3D
		mov	ax, [bp+arg_4]
		add	ax, 3
		shr	ax, 2
		mov	[bp+var_12], ax
		mov	bx, [bp+arg_6]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21E73
		jmp	loc_21F63
; ---------------------------------------------------------------------------

loc_21E73:				; CODE XREF: sub_21E16+58j
		cmp	ax, 2
		jz	short loc_21EE2
		cmp	ax, 4
		jb	short loc_21E8D
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A

loc_21E8D:				; CODE XREF: sub_21E16+65j
		lds	si, [bp+arg_0]

loc_21E90:				; CODE XREF: sub_21E16+C7j
		mov	cx, 4

loc_21E93:				; CODE XREF: sub_21E16+9Ej
		lodsb
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		loop	loc_21E93
		les	di, [bp+var_10]
		or	es:[di], dl
		inc	word ptr [bp+var_10]
		les	di, [bp+var_C]
		or	es:[di], dh
		inc	word ptr [bp+var_C]
		les	di, [bp+var_8]
		or	es:[di], bl
		inc	word ptr [bp+var_8]
		les	di, [bp+var_4]
		or	es:[di], bh
		inc	word ptr [bp+var_4]
		dec	[bp+var_12]
		jnz	short loc_21E90
		jmp	loc_21F63
; ---------------------------------------------------------------------------

loc_21EE2:				; CODE XREF: sub_21E16+60j
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		lds	si, [bp+arg_0]

loc_21EFF:				; CODE XREF: sub_21E16+14Bj
		mov	cx, 4

loc_21F02:				; CODE XREF: sub_21E16+10Dj
		lodsb
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		loop	loc_21F02
		mov	cx, dx
		pushf
		cli
		mov	dx, 3C4h
		mov	ax, 102h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_10]
		or	es:[di], cl
		inc	word ptr [bp+var_10]
		mov	ah, 2
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_C]
		or	es:[di], ch
		inc	word ptr [bp+var_C]
		mov	ah, 4
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_8]
		or	es:[di], bl
		inc	word ptr [bp+var_8]
		mov	ah, 8
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		les	di, [bp+var_4]
		or	es:[di], bh
		inc	word ptr [bp+var_4]
		dec	[bp+var_12]
		jnz	short loc_21EFF

loc_21F63:				; CODE XREF: sub_21E16+5Aj
					; sub_21E16+C9j
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21E16	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_21F68	proc far		; CODE XREF: sub_232CC+8FP
					; sub_234E2+F2P ...

var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	12h, 0
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_6]
		add	bx, bx
		mov	ax, [bx+2D72h]
		imul	[bp+arg_A]
		add	ax, [bp+arg_8]
		mov	dx, ax
		mov	bx, [bp+arg_6]
		shl	bx, 4
		mov	di, bp
		sub	di, 10h
		mov	cx, 4

loc_21F8F:				; CODE XREF: sub_21F68+3Ej
		mov	ax, [bx+139Eh]
		add	ax, dx
		mov	ss:[di], ax
		mov	ax, [bx+13A0h]
		mov	ss:[di+2], ax
		add	bx, 4
		add	di, 4
		loop	loc_21F8F
		mov	ax, [bp+arg_4]
		add	ax, 3
		shr	ax, 2
		mov	[bp+var_12], ax
		mov	bx, [bp+arg_6]
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 0
		jnz	short loc_21FC5
		jmp	loc_220B5
; ---------------------------------------------------------------------------

loc_21FC5:				; CODE XREF: sub_21F68+58j
		cmp	ax, 2
		jz	short loc_22034
		cmp	ax, 4
		jb	short loc_21FDF
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A

loc_21FDF:				; CODE XREF: sub_21F68+65j
		lds	si, [bp+arg_0]

loc_21FE2:				; CODE XREF: sub_21F68+C7j
		mov	cx, 4

loc_21FE5:				; CODE XREF: sub_21F68+9Ej
		lodsb
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		loop	loc_21FE5
		les	di, [bp+var_10]
		and	es:[di], dl
		inc	word ptr [bp+var_10]
		les	di, [bp+var_C]
		and	es:[di], dh
		inc	word ptr [bp+var_C]
		les	di, [bp+var_8]
		and	es:[di], bl
		inc	word ptr [bp+var_8]
		les	di, [bp+var_4]
		and	es:[di], bh
		inc	word ptr [bp+var_4]
		dec	[bp+var_12]
		jnz	short loc_21FE2
		jmp	loc_220B5
; ---------------------------------------------------------------------------

loc_22034:				; CODE XREF: sub_21F68+60j
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		popf
		lds	si, [bp+arg_0]

loc_22051:				; CODE XREF: sub_21F68+14Bj
		mov	cx, 4

loc_22054:				; CODE XREF: sub_21F68+10Dj
		lodsb
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		shl	al, 1
		rcl	bh, 1
		shl	al, 1
		rcl	bl, 1
		shl	al, 1

loc_2206F:
		rcl	dh, 1
		shl	al, 1
		rcl	dl, 1
		loop	loc_22054
		mov	cx, dx
		pushf
		cli
		mov	dx, 3C4h
		mov	ax, 102h
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_10]
		and	es:[di], cl
		inc	word ptr [bp+var_10]
		mov	ah, 2
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_C]
		and	es:[di], ch
		inc	word ptr [bp+var_C]
		mov	ah, 4
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		les	di, [bp+var_8]
		and	es:[di], bl
		inc	word ptr [bp+var_8]
		mov	ah, 8
		out	dx, ax		; EGA: sequencer address reg
					; unknown register
		popf
		les	di, [bp+var_4]
		and	es:[di], bh
		inc	word ptr [bp+var_4]
		dec	[bp+var_12]
		jnz	short loc_22051

loc_220B5:				; CODE XREF: sub_21F68+5Aj
					; sub_21F68+C9j
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_21F68	endp

; ---------------------------------------------------------------------------
		enter	0, 0
		push	ds
		push	di
		push	si
		cld
		les	di, [bp+6]
		lds	si, [bp+0Ah]
		mov	cx, [bp+0Eh]
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb
		pop	si
		pop	di
		pop	ds
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_220D9	proc far		; CODE XREF: sub_20E74+29p

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		enter	0, 0
		push	ds
		push	di
		push	si
		cld
		les	di, [bp+arg_0]
		lds	si, [bp+arg_4]
		mov	cx, [bp+arg_8]

loc_220EA:				; CODE XREF: sub_220D9+1Cj
		lodsb
		xor	ah, ah
		xchg	al, ah

loc_220EF:
		shr	ax, 4
		xchg	al, ah
		stosw
		loop	loc_220EA
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_220D9	endp

seg009		ends

; ===========================================================================

; Segment type:	Pure code
seg010		segment	byte public 'CODE' use16
		assume cs:seg010
		;org 0Ch
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

DecodeTextByte	proc far		; CODE XREF: sub_1AAE0+51P
					; sub_1AC7A+80P ...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	bl, [bp+arg_0]
		mov	al, bl
		mov	ah, 0
		sar	ax, 6
		and	al, 3
		mov	dl, bl
		shl	dl, 2
		and	dl, 0FCh
		or	al, dl
		mov	bl, al
		mov	al, bl
		pop	bp
		retf
DecodeTextByte	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

EncodeTextByte	proc far		; CODE XREF: sub_1ADD7+183P
					; seg002:2758P	...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	bl, [bp+arg_0]
		mov	al, bl
		mov	ah, 0
		sar	ax, 2
		and	al, 3Fh
		mov	dl, bl
		shl	dl, 6
		and	dl, 0C0h
		or	al, dl
		mov	bl, al
		mov	al, bl
		pop	bp
		retf
EncodeTextByte	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2213E	proc far		; CODE XREF: sub_22555+50p

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	0Ch, 0
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_22150
		jmp	loc_22549
; ---------------------------------------------------------------------------

loc_22150:				; CODE XREF: sub_2213E+Dj
		les	bx, [bp+arg_0]
		mov	si, es:[bx+4]
		or	si, si
		jge	short loc_2215E
		jmp	loc_22549
; ---------------------------------------------------------------------------

loc_2215E:				; CODE XREF: sub_2213E+1Bj
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		shl	ax, 3
		mov	di, ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+16h]
		shl	ax, 3
		dec	ax
		mov	[bp+var_8], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		mov	[bp+var_A], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+18h]
		dec	ax
		mov	[bp+var_C], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+1Ch]
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	bx, es:[bx+1Eh]
		cmp	bx, 3
		jbe	short loc_221BE
		jmp	loc_22547
; ---------------------------------------------------------------------------

loc_221BE:				; CODE XREF: sub_2213E+7Bj
		add	bx, bx
		jmp	cs:off_2254D[bx]

loc_221C5:				; DATA XREF: seg010:0461o
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4] ; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+22h]
		push	word ptr es:[bx+20h] ; __int32
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+18h]
		add	ax, 0FFF8h
		push	ax		; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+16h] ; n
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		add	ax, 4
		push	ax		; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ah] ; int
		call	sub_202E3
		add	sp, 0Eh
		les	bx, [bp+arg_0]
		mov	ax, [bp+var_2]
		sub	ax, es:[bx+1Ch]
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	ax, [bp+var_4]
		sub	ax, es:[bx+1Ch]
		mov	[bp+var_6], ax
		push	si
		push	[bp+var_2]
		push	[bp+var_A]
		mov	ax, [bp+var_8]
		dec	ax
		push	ax
		push	di
		call	sub_20B31
		add	sp, 0Ah
		push	si
		push	[bp+var_4]
		push	[bp+var_A]
		push	[bp+var_8]
		call	sub_2065A
		add	sp, 8
		push	si
		push	[bp+var_2]
		mov	ax, [bp+var_C]
		dec	ax
		push	ax
		mov	ax, [bp+var_A]
		inc	ax
		push	ax
		push	di
		call	sub_207D9
		add	sp, 0Ah
		push	si
		push	[bp+var_6]
		mov	ax, [bp+var_C]
		dec	ax
		push	ax
		mov	ax, [bp+var_A]
		inc	ax
		push	ax
		push	[bp+var_8]
		call	sub_207D9
		add	sp, 0Ah
		push	si
		push	[bp+var_4]
		push	[bp+var_C]
		push	di
		call	sub_2065A
		add	sp, 8
		push	si
		push	[bp+var_6]
		push	[bp+var_C]
		push	[bp+var_8]
		lea	ax, [di+1]
		push	ax
		call	sub_20B31
		add	sp, 0Ah
		push	si
		push	[bp+var_4]
		mov	ax, [bp+var_C]
		dec	ax
		push	ax
		mov	ax, [bp+var_A]
		inc	ax
		push	ax
		mov	ax, [bp+var_8]
		dec	ax
		push	ax
		lea	ax, [di+1]
		push	ax
		call	sub_20BC6
		add	sp, 0Ch
		push	si
		push	[bp+var_4]
		mov	ax, [bp+var_C]
		add	ax, 0FFFEh
		push	ax
		mov	ax, [bp+var_A]
		add	ax, 2
		push	ax
		mov	ax, [bp+var_8]
		add	ax, 0FFFEh
		push	ax
		lea	ax, [di+2]
		push	ax
		call	sub_20BC6
		add	sp, 0Ch
		push	si
		push	[bp+var_6]
		mov	ax, [bp+var_A]
		add	ax, 3
		push	ax
		mov	ax, [bp+var_8]
		add	ax, 0FFFCh
		push	ax
		lea	ax, [di+3]
		push	ax
		call	sub_20B31
		add	sp, 0Ah
		push	si
		push	[bp+var_6]
		mov	ax, [bp+var_C]
		add	ax, 0FFFCh
		push	ax
		mov	ax, [bp+var_A]
		add	ax, 4
		push	ax
		lea	ax, [di+3]
		push	ax
		call	sub_207D9
		add	sp, 0Ah
		push	si
		push	[bp+var_2]
		mov	ax, [bp+var_C]
		add	ax, 0FFFCh
		push	ax
		mov	ax, [bp+var_A]
		add	ax, 3
		push	ax
		mov	ax, [bp+var_8]
		add	ax, 0FFFDh
		push	ax
		call	sub_207D9
		add	sp, 0Ah
		push	si
		push	[bp+var_2]
		mov	ax, [bp+var_C]
		add	ax, 0FFFDh
		push	ax
		mov	ax, [bp+var_8]
		add	ax, 0FFFDh
		push	ax
		lea	ax, [di+3]
		push	ax
		call	sub_20B31
		add	sp, 0Ah
		jmp	loc_22549
; ---------------------------------------------------------------------------

loc_2235C:				; CODE XREF: sub_2213E+82j
					; DATA XREF: seg010:045Fo ...
		les	bx, [bp+arg_0]
		cmp	es:[bx+6], si
		jnz	short loc_22368
		jmp	loc_22488
; ---------------------------------------------------------------------------

loc_22368:				; CODE XREF: sub_2213E+225j
		push	1
		push	1
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+10h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Eh]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ah]
		call	sub_2144C
		add	sp, 10h
		push	1
		push	1
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+10h]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Eh]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+16h]
		dec	ax
		push	ax
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+16h]
		dec	ax
		push	ax
		call	sub_2144C
		add	sp, 10h
		push	1
		push	1
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+10h]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+18h]
		dec	ax
		push	ax
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Eh]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+18h]
		dec	ax
		push	ax
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ah]
		call	sub_2144C
		add	sp, 10h
		push	1
		push	1
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+10h]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+18h]
		dec	ax
		push	ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Eh]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+16h]
		dec	ax
		push	ax
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+18h]
		dec	ax
		push	ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+16h]
		dec	ax
		push	ax
		call	sub_2144C
		add	sp, 10h

loc_22488:				; CODE XREF: sub_2213E+227j
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4] ; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+22h]
		push	word ptr es:[bx+20h] ; __int32
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+18h]
		add	ax, 0FFF8h
		push	ax		; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+16h] ; n
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		add	ax, 4
		push	ax		; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ah] ; int
		call	sub_202E3
		add	sp, 0Eh
		push	si
		push	[bp+var_2]
		mov	ax, [bp+var_C]
		dec	ax
		push	ax
		mov	ax, [bp+var_A]
		inc	ax
		push	ax
		push	[bp+var_8]
		push	di
		call	sub_20BC6
		add	sp, 0Ch
		push	si
		push	[bp+var_2]
		push	[bp+var_C]
		push	[bp+var_A]
		mov	ax, [bp+var_8]
		dec	ax
		push	ax
		lea	ax, [di+1]
		push	ax
		call	sub_20BC6
		add	sp, 0Ch
		push	si
		push	[bp+var_4]
		mov	ax, [bp+var_C]
		add	ax, 0FFFEh
		push	ax
		mov	ax, [bp+var_A]
		add	ax, 2
		push	ax
		mov	ax, [bp+var_8]
		add	ax, 0FFFEh
		push	ax
		lea	ax, [di+2]
		push	ax
		call	sub_20BC6
		add	sp, 0Ch
		push	si
		push	[bp+var_2]
		mov	ax, [bp+var_C]
		add	ax, 0FFFDh
		push	ax
		mov	ax, [bp+var_A]
		add	ax, 3
		push	ax
		mov	ax, [bp+var_8]
		add	ax, 0FFFDh
		push	ax
		lea	ax, [di+3]
		push	ax
		call	sub_20BC6
		add	sp, 0Ch
		jmp	short loc_22549
; ---------------------------------------------------------------------------

loc_22547:				; CODE XREF: sub_2213E+7Dj
					; sub_2213E+82j
					; DATA XREF: ...
		jmp	short $+2

loc_22549:				; CODE XREF: sub_2213E+Fj
					; sub_2213E+1Dj ...
		pop	di
		pop	si
		leave
		retf
sub_2213E	endp

; ---------------------------------------------------------------------------
off_2254D	dw offset loc_22547	; DATA XREF: sub_2213E+82r
		dw offset loc_2235C
		dw offset loc_221C5
		dw offset loc_2235C

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22555	proc far		; CODE XREF: sub_1D327+62P

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jz	short loc_22563
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_22563:				; CODE XREF: sub_22555+Aj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], 0
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		les	bx, [bp+arg_0]
		mov	es:[bx+4], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+12h]
		les	bx, [bp+arg_0]
		mov	es:[bx+0Ah], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+14h]
		les	bx, [bp+arg_0]
		mov	es:[bx+0Ch], ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_2213E
		add	sp, 4
		pop	bp
		retf
sub_22555	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_225AD	proc far		; CODE XREF: RunSCE+41FP

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_225BB
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_225BB:				; CODE XREF: sub_225AD+Aj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 0
		pop	bp
		retf
sub_225AD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_225C5	proc far		; CODE XREF: sub_1D327+6EP

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_225D3
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_225D3:				; CODE XREF: sub_225C5+Aj
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+2], 0
		jz	short loc_225DF
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_225DF:				; CODE XREF: sub_225C5+16j
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], 1
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		les	bx, [bp+arg_0]
		mov	es:[bx+4], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Eh]
		les	bx, [bp+arg_0]
		mov	es:[bx+0Ah], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+10h]
		les	bx, [bp+arg_0]
		mov	es:[bx+0Ch], ax
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+8], 0
		jl	short loc_2266E
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		les	bx, [bp+arg_0]
		cmp	ax, es:[bx+8]
		jz	short loc_2266C
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+18h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+16h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ah]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+8]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+14h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+12h]
		call	sub_21691
		add	sp, 10h

loc_2266C:				; CODE XREF: sub_225C5+65j
		jmp	short $+2

loc_2266E:				; CODE XREF: sub_225C5+55j
		pop	bp
		retf
sub_225C5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22670	proc far		; CODE XREF: RunSCE+413P

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_2267E
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_2267E:				; CODE XREF: sub_22670+Aj
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+2], 0
		jnz	short loc_2268A
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_2268A:				; CODE XREF: sub_22670+16j
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], 0
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		les	bx, [bp+arg_0]
		mov	es:[bx+4], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+12h]
		les	bx, [bp+arg_0]
		mov	es:[bx+0Ah], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+14h]
		les	bx, [bp+arg_0]
		mov	es:[bx+0Ch], ax
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+8], 0
		jl	short loc_22717
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		les	bx, [bp+arg_0]
		cmp	ax, es:[bx+6]
		jz	short loc_22717
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+18h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+16h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ah]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+10h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Eh]
		call	sub_21691
		add	sp, 10h

loc_22717:				; CODE XREF: sub_22670+55j
					; sub_22670+65j
		pop	bp
		retf
sub_22670	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22719	proc far		; CODE XREF: sub_2281D+5Cp
					; sub_228FB+5Cp

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_22727
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_22727:				; CODE XREF: sub_22719+Aj
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+4], 0
		jge	short loc_22733
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_22733:				; CODE XREF: sub_22719+16j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+36h]
		dec	ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+38h]
		add	dx, 10h
		imul	dx
		les	bx, [bp+arg_0]
		sub	ax, es:[bx+38h]
		push	ax
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+34h]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Eh]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+38h]
		add	ax, 10h
		push	ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Ch]
		push	ax
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Eh]
		push	ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Ch]
		push	ax
		call	sub_2144C
		add	sp, 10h
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4] ; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+40h]
		push	word ptr es:[bx+3Eh] ; __int32
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+38h]
		add	ax, 10h
		push	ax		; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+34h] ; n
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Eh]
		les	bx, [bp+arg_0]
		push	ax
		mov	ax, es:[bx+36h]
		dec	ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+38h]
		add	dx, 10h
		imul	dx
		pop	dx
		add	dx, ax
		les	bx, [bp+arg_0]
		sub	dx, es:[bx+38h]
		push	dx		; int
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Ch]
		push	ax		; int
		call	sub_202E3
		add	sp, 0Eh
		pop	bp
		retf
sub_22719	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2281D	proc far		; CODE XREF: seg010:0978p seg010:09ACp ...

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_4]
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_22831
		jmp	loc_228F7
; ---------------------------------------------------------------------------

loc_22831:				; CODE XREF: sub_2281D+Fj
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+4], 0
		jge	short loc_2283E
		jmp	loc_228F7
; ---------------------------------------------------------------------------

loc_2283E:				; CODE XREF: sub_2281D+1Cj
		test	si, 0FF00h
		jnz	short loc_22849
		mov	ax, 1
		jmp	short loc_2284C
; ---------------------------------------------------------------------------

loc_22849:				; CODE XREF: sub_2281D+25j
		mov	ax, 2

loc_2284C:				; CODE XREF: sub_2281D+2Aj
		mov	di, ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+42h]
		add	ax, di
		les	bx, [bp+arg_0]
		cmp	ax, es:[bx+34h]
		jle	short loc_22870
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+42h], 0
		les	bx, [bp+arg_0]
		inc	word ptr es:[bx+44h]

loc_22870:				; CODE XREF: sub_2281D+41j
		jmp	short loc_22886
; ---------------------------------------------------------------------------

loc_22872:				; CODE XREF: sub_2281D+77j
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_22719
		add	sp, 4
		les	bx, [bp+arg_0]
		dec	word ptr es:[bx+44h]

loc_22886:				; CODE XREF: sub_2281D:loc_22870j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+44h]
		les	bx, [bp+arg_0]
		cmp	ax, es:[bx+36h]
		jge	short loc_22872
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+3Ah]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+3Ch]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	si
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Eh]
		les	bx, [bp+arg_0]
		push	ax
		mov	ax, es:[bx+44h]
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+38h]
		add	dx, 10h
		imul	dx
		pop	dx
		add	dx, ax
		push	dx
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+42h]
		push	ax
		call	sub_20DD0
		add	sp, 0Ch
		les	bx, [bp+arg_0]
		add	es:[bx+42h], di

loc_228F7:				; CODE XREF: sub_2281D+11j
					; sub_2281D+1Ej
		pop	di
		pop	si
		pop	bp
		retf
sub_2281D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_228FB	proc far		; CODE XREF: sub_1AC7A+DCP
					; seg002:27FCP	...

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_4]
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_2290F
		jmp	loc_229E0
; ---------------------------------------------------------------------------

loc_2290F:				; CODE XREF: sub_228FB+Fj
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+4], 0
		jge	short loc_2291C
		jmp	loc_229E0
; ---------------------------------------------------------------------------

loc_2291C:				; CODE XREF: sub_228FB+1Cj
		test	si, 0FF00h
		jnz	short loc_22927
		mov	ax, 1
		jmp	short loc_2292A
; ---------------------------------------------------------------------------

loc_22927:				; CODE XREF: sub_228FB+25j
		mov	ax, 2

loc_2292A:				; CODE XREF: sub_228FB+2Aj
		mov	di, ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+42h]
		add	ax, di
		les	bx, [bp+arg_0]
		cmp	ax, es:[bx+34h]
		jle	short loc_2294E
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+42h], 0
		les	bx, [bp+arg_0]
		inc	word ptr es:[bx+44h]

loc_2294E:				; CODE XREF: sub_228FB+41j
		jmp	short loc_22964
; ---------------------------------------------------------------------------

loc_22950:				; CODE XREF: sub_228FB+77j
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_22719
		add	sp, 4
		les	bx, [bp+arg_0]
		dec	word ptr es:[bx+44h]

loc_22964:				; CODE XREF: sub_228FB:loc_2294Ej
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+44h]
		les	bx, [bp+arg_0]
		cmp	ax, es:[bx+36h]
		jge	short loc_22950
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+3Ah]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+40h]
		push	word ptr es:[bx+3Eh]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+3Ch]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	si
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Eh]
		les	bx, [bp+arg_0]
		push	ax
		mov	ax, es:[bx+44h]
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+38h]
		add	dx, 10h
		imul	dx
		pop	dx
		add	dx, ax
		push	dx
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+42h]
		push	ax
		call	sub_20E1F
		add	sp, 10h
		les	bx, [bp+arg_0]
		add	es:[bx+42h], di

loc_229E0:				; CODE XREF: sub_228FB+11j
					; sub_228FB+1Ej
		pop	di
		pop	si
		pop	bp
		retf
sub_228FB	endp

; ---------------------------------------------------------------------------
		enter	2, 0
		push	si

loc_229E9:				; CODE XREF: seg010:loc_22A88j
		les	bx, [bp+0Ah]
		inc	word ptr [bp+0Ah]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-2],	ax
		cmp	word ptr [bp-2], 0
		jnz	short loc_22A06
		jmp	loc_22A8B
; ---------------------------------------------------------------------------

loc_22A06:				; CODE XREF: seg010:0911j
		mov	al, [bp-2]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_22A46
		shl	word ptr [bp-2], 8
		les	bx, [bp+0Ah]
		inc	word ptr [bp+0Ah]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr DecodeTextByte
		pop	cx
		mov	ah, 0
		and	ax, 0FFh
		add	[bp-2],	ax
		les	bx, [bp+6]
		push	es
		les	si, [bp+6]
		mov	ax, es:[si+34h]
		dec	ax
		pop	es
		cmp	es:[bx+42h], ax
		jl	short loc_22A44
		jmp	short loc_22A8B
; ---------------------------------------------------------------------------

loc_22A44:				; CODE XREF: seg010:0950j
		jmp	short loc_22A5E
; ---------------------------------------------------------------------------

loc_22A46:				; CODE XREF: seg010:0922j
		cmp	word ptr [bp-2], 20h ; ' '
		jb	short loc_22A70
		les	bx, [bp+6]
		mov	ax, es:[bx+42h]
		les	bx, [bp+6]
		cmp	ax, es:[bx+34h]
		jl	short loc_22A5E
		jmp	short loc_22A8B
; ---------------------------------------------------------------------------

loc_22A5E:				; CODE XREF: seg010:loc_22A44j
					; seg010:096Aj
		push	word ptr [bp-2]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_2281D
		add	sp, 6
		jmp	short loc_22A88
; ---------------------------------------------------------------------------

loc_22A70:				; CODE XREF: seg010:095Aj
		cmp	word ptr [bp-2], 0Dh
		jnz	short loc_22A86
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr sub_22C75
		add	sp, 4
		jmp	short loc_22A88
; ---------------------------------------------------------------------------

loc_22A86:				; CODE XREF: seg010:0984j
		jmp	short $+2

loc_22A88:				; CODE XREF: seg010:097Ej seg010:0994j
		jmp	loc_229E9
; ---------------------------------------------------------------------------

loc_22A8B:				; CODE XREF: seg010:0913j seg010:0952j ...
		cmp	word ptr [bp+0Eh], 0
		jz	short loc_22AB2
		jmp	short loc_22AA2
; ---------------------------------------------------------------------------

loc_22A93:				; CODE XREF: seg010:09C0j
		push	20h ; ' '
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_2281D
		add	sp, 6

loc_22AA2:				; CODE XREF: seg010:09A1j
		les	bx, [bp+6]
		mov	ax, es:[bx+42h]
		les	bx, [bp+6]
		cmp	ax, es:[bx+34h]
		jl	short loc_22A93

loc_22AB2:				; CODE XREF: seg010:099Fj
		pop	si
		leave
		retf
; ---------------------------------------------------------------------------
		enter	2, 0
		push	si

loc_22ABA:				; CODE XREF: seg010:loc_22B59j
		les	bx, [bp+0Ah]
		inc	word ptr [bp+0Ah]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr DecodeTextByte
		pop	cx
		mov	ah, 0
		mov	[bp-2],	ax
		cmp	word ptr [bp-2], 0
		jnz	short loc_22AD7
		jmp	loc_22B5C
; ---------------------------------------------------------------------------

loc_22AD7:				; CODE XREF: seg010:09E2j
		mov	al, [bp-2]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+2311h], 4
		jz	short loc_22B17
		shl	word ptr [bp-2], 8
		les	bx, [bp+0Ah]
		inc	word ptr [bp+0Ah]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr DecodeTextByte
		pop	cx
		mov	ah, 0
		and	ax, 0FFh
		add	[bp-2],	ax
		les	bx, [bp+6]
		push	es
		les	si, [bp+6]
		mov	ax, es:[si+34h]
		dec	ax
		pop	es
		cmp	es:[bx+42h], ax
		jl	short loc_22B15
		jmp	short loc_22B5C
; ---------------------------------------------------------------------------

loc_22B15:				; CODE XREF: seg010:0A21j
		jmp	short loc_22B2F
; ---------------------------------------------------------------------------

loc_22B17:				; CODE XREF: seg010:09F3j
		cmp	word ptr [bp-2], 20h ; ' '
		jb	short loc_22B41
		les	bx, [bp+6]
		mov	ax, es:[bx+42h]
		les	bx, [bp+6]
		cmp	ax, es:[bx+34h]
		jl	short loc_22B2F
		jmp	short loc_22B5C
; ---------------------------------------------------------------------------

loc_22B2F:				; CODE XREF: seg010:loc_22B15j
					; seg010:0A3Bj
		push	word ptr [bp-2]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_228FB
		add	sp, 6
		jmp	short loc_22B59
; ---------------------------------------------------------------------------

loc_22B41:				; CODE XREF: seg010:0A2Bj
		cmp	word ptr [bp-2], 0Dh
		jnz	short loc_22B57
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr sub_22C75
		add	sp, 4
		jmp	short loc_22B59
; ---------------------------------------------------------------------------

loc_22B57:				; CODE XREF: seg010:0A55j
		jmp	short $+2

loc_22B59:				; CODE XREF: seg010:0A4Fj seg010:0A65j
		jmp	loc_22ABA
; ---------------------------------------------------------------------------

loc_22B5C:				; CODE XREF: seg010:09E4j seg010:0A23j ...
		cmp	word ptr [bp+0Eh], 0
		jz	short loc_22B83
		jmp	short loc_22B73
; ---------------------------------------------------------------------------

loc_22B64:				; CODE XREF: seg010:0A91j
		push	20h ; ' '
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_228FB
		add	sp, 6

loc_22B73:				; CODE XREF: seg010:0A72j
		les	bx, [bp+6]
		mov	ax, es:[bx+42h]
		les	bx, [bp+6]
		cmp	ax, es:[bx+34h]
		jl	short loc_22B64

loc_22B83:				; CODE XREF: seg010:0A70j
		pop	si
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22B86	proc far		; CODE XREF: sub_22BDC+Ep

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_4]
		mov	cx, [bp+arg_6]
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_22B9A
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_22B9A:				; CODE XREF: sub_22B86+10j
		or	dx, dx
		jge	short loc_22BA0
		xor	dx, dx

loc_22BA0:				; CODE XREF: sub_22B86+16j
		or	cx, cx
		jge	short loc_22BA6
		xor	cx, cx

loc_22BA6:				; CODE XREF: sub_22B86+1Cj
		les	bx, [bp+arg_0]
		cmp	es:[bx+34h], dx
		jg	short loc_22BB9
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+34h]
		dec	ax
		mov	dx, ax

loc_22BB9:				; CODE XREF: sub_22B86+27j
		les	bx, [bp+arg_0]
		cmp	es:[bx+36h], cx
		jg	short loc_22BCC
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+36h]
		dec	ax
		mov	cx, ax

loc_22BCC:				; CODE XREF: sub_22B86+3Aj
		les	bx, [bp+arg_0]
		mov	es:[bx+42h], dx
		les	bx, [bp+arg_0]
		mov	es:[bx+44h], cx
		pop	bp
		retf
sub_22B86	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22BDC	proc far		; CODE XREF: sub_22BF2+7Bp

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	0
		push	0
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_22B86
		add	sp, 8
		pop	bp
		retf
sub_22BDC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22BF2	proc far		; CODE XREF: scnExec70+2F3P
					; scnExec70+502P ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_22C00
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_22C00:				; CODE XREF: sub_22BF2+Aj
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+4], 0
		jge	short loc_22C0C
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_22C0C:				; CODE XREF: sub_22BF2+16j
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4] ; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+40h]
		push	word ptr es:[bx+3Eh] ; __int32
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+36h]
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+38h]
		add	dx, 10h
		imul	dx
		les	bx, [bp+arg_0]
		sub	ax, es:[bx+38h]
		push	ax		; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+34h] ; n
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ch]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Eh]
		push	ax		; int
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+2Ch]
		push	ax		; int
		call	sub_202E3
		add	sp, 0Eh
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_22BDC
		add	sp, 4
		pop	bp
		retf
sub_22BF2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22C75	proc far		; CODE XREF: sub_1AC7A+10CP
					; seg002:2874P	...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_22C83
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_22C83:				; CODE XREF: sub_22C75+Aj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+42h], 0
		les	bx, [bp+arg_0]
		inc	word ptr es:[bx+44h]
		pop	bp
		retf
sub_22C75	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22C95	proc far		; CODE XREF: sub_22E75+15p
					; seg010:0DB9p

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_22CA6
		jmp	loc_22DE7
; ---------------------------------------------------------------------------

loc_22CA6:				; CODE XREF: sub_22C95+Cj
					; sub_22C95+16Fj ...
		mov	di, [bp+arg_8]
		call	sub_23BA4

loc_22CAE:				; CODE XREF: sub_22C95:loc_22DDEj
		cmp	[bp+arg_A], 0
		jz	short loc_22CC3
		push	81A5h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_228FB
		jmp	short loc_22CD0
; ---------------------------------------------------------------------------

loc_22CC3:				; CODE XREF: sub_22C95+1Dj
		push	81A5h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_2281D

loc_22CD0:				; CODE XREF: sub_22C95+2Cj
		add	sp, 6
		les	bx, [bp+arg_0]
		sub	word ptr es:[bx+42h], 2
		mov	si, [bp+arg_4]
		jmp	loc_22D66
; ---------------------------------------------------------------------------

loc_22CE1:				; CODE XREF: sub_22C95+D5j
		call	sub_24E62
		call	sub_1EFDA
		call	CheckKeyPress
		or	ax, ax
		jz	short loc_22D65
		call	GetKeyCode
		cmp	ax, 0Dh
		jz	short loc_22D05
		cmp	ax, 1Bh
		jz	short loc_22D35
		jmp	short loc_22D65
; ---------------------------------------------------------------------------

loc_22D05:				; CODE XREF: sub_22C95+67j
		cmp	[bp+arg_A], 0
		jz	short loc_22D1A
		push	8140h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_228FB
		jmp	short loc_22D27
; ---------------------------------------------------------------------------

loc_22D1A:				; CODE XREF: sub_22C95+74j
		push	8140h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_2281D

loc_22D27:				; CODE XREF: sub_22C95+83j
		add	sp, 6
		les	bx, [bp+arg_0]
		sub	word ptr es:[bx+42h], 2
		jmp	loc_22DE7
; ---------------------------------------------------------------------------

loc_22D35:				; CODE XREF: sub_22C95+6Cj
		cmp	[bp+arg_A], 0
		jz	short loc_22D4A
		push	8140h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_228FB
		jmp	short loc_22D57
; ---------------------------------------------------------------------------

loc_22D4A:				; CODE XREF: sub_22C95+A4j
		push	8140h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_2281D

loc_22D57:				; CODE XREF: sub_22C95+B3j
		add	sp, 6
		les	bx, [bp+arg_0]
		sub	word ptr es:[bx+42h], 2
		jmp	loc_22DF2
; ---------------------------------------------------------------------------

loc_22D65:				; CODE XREF: sub_22C95+5Dj
					; sub_22C95+6Ej
		dec	si

loc_22D66:				; CODE XREF: sub_22C95+49j
		or	si, si
		jle	short loc_22D6D
		jmp	loc_22CE1
; ---------------------------------------------------------------------------

loc_22D6D:				; CODE XREF: sub_22C95+D3j
		cmp	[bp+arg_A], 0
		jz	short loc_22D82
		push	8140h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_228FB
		jmp	short loc_22D8F
; ---------------------------------------------------------------------------

loc_22D82:				; CODE XREF: sub_22C95+DCj
		push	8140h
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_2281D

loc_22D8F:				; CODE XREF: sub_22C95+EBj
		add	sp, 6
		or	di, di
		jz	short loc_22D9B
		dec	di
		jnz	short loc_22D9B
		jmp	short loc_22DE1
; ---------------------------------------------------------------------------

loc_22D9B:				; CODE XREF: sub_22C95+FFj
					; sub_22C95+102j
		les	bx, [bp+arg_0]
		sub	word ptr es:[bx+42h], 2
		mov	si, [bp+arg_4]
		jmp	short loc_22DD1
; ---------------------------------------------------------------------------

loc_22DA8:				; CODE XREF: sub_22C95+13Ej
		call	sub_24E62
		call	sub_1EFDA
		call	CheckKeyPress
		or	ax, ax
		jz	short loc_22DD0
		call	GetKeyCode
		cmp	ax, 0Dh
		jz	short loc_22DCC
		cmp	ax, 1Bh
		jz	short loc_22DCE
		jmp	short loc_22DD0
; ---------------------------------------------------------------------------

loc_22DCC:				; CODE XREF: sub_22C95+12Ej
		jmp	short loc_22DE7
; ---------------------------------------------------------------------------

loc_22DCE:				; CODE XREF: sub_22C95+133j
		jmp	short loc_22DF2
; ---------------------------------------------------------------------------

loc_22DD0:				; CODE XREF: sub_22C95+124j
					; sub_22C95+135j
		dec	si

loc_22DD1:				; CODE XREF: sub_22C95+111j
		or	si, si
		jg	short loc_22DA8
		or	di, di
		jz	short loc_22DDE
		dec	di
		jnz	short loc_22DDE
		jmp	short loc_22DE1
; ---------------------------------------------------------------------------

loc_22DDE:				; CODE XREF: sub_22C95+142j
					; sub_22C95+145j
		jmp	loc_22CAE
; ---------------------------------------------------------------------------

loc_22DE1:				; CODE XREF: sub_22C95+104j
					; sub_22C95+147j
		mov	ax, 1
		jmp	loc_22E71
; ---------------------------------------------------------------------------

loc_22DE7:				; CODE XREF: sub_22C95+Ej
					; sub_22C95+9Dj ...
		xor	ax, ax
		jmp	loc_22E71
; ---------------------------------------------------------------------------

loc_22DEC:				; CODE XREF: sub_22C95+1BBj
		mov	ax, 0FFFFh
		jmp	loc_22E71
; ---------------------------------------------------------------------------

loc_22DF2:				; CODE XREF: sub_22C95+CDj
					; sub_22C95:loc_22DCEj
		cmp	[bp+arg_6], 0
		jnz	short loc_22DFA
		jmp	short loc_22DE7
; ---------------------------------------------------------------------------

loc_22DFA:				; CODE XREF: sub_22C95+161j
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx+2], 0
		jnz	short loc_22E07
		jmp	loc_22CA6
; ---------------------------------------------------------------------------

loc_22E07:				; CODE XREF: sub_22C95+16Dj
		push	word ptr ds:2D58h
		push	word ptr ds:2D38h
		push	7
		push	0
		push	0
		push	3
		push	0
		push	0
		call	sub_21691
		add	sp, 10h

loc_22E23:				; CODE XREF: sub_22C95:loc_22E46j
		call	sub_24E62
		call	CheckKeyPress
		or	ax, ax

loc_22E2F:
		jz	short loc_22E46
		call	GetKeyCode
		cmp	ax, 0Dh
		jz	short loc_22E42
		cmp	ax, 1Bh
		jz	short loc_22E44
		jmp	short loc_22E46
; ---------------------------------------------------------------------------

loc_22E42:				; CODE XREF: sub_22C95+1A4j
		jmp	short loc_22E48
; ---------------------------------------------------------------------------

loc_22E44:				; CODE XREF: sub_22C95+1A9j
		jmp	short loc_22E4A
; ---------------------------------------------------------------------------

loc_22E46:				; CODE XREF: sub_22C95:loc_22E2Fj
					; sub_22C95+1ABj
		jmp	short loc_22E23
; ---------------------------------------------------------------------------

loc_22E48:				; CODE XREF: sub_22C95:loc_22E42j
		jmp	short loc_22E52
; ---------------------------------------------------------------------------

loc_22E4A:				; CODE XREF: sub_22C95:loc_22E44j
		cmp	[bp+arg_6], 2
		jl	short loc_22E52
		jmp	short loc_22DEC
; ---------------------------------------------------------------------------

loc_22E52:				; CODE XREF: sub_22C95:loc_22E48j
					; sub_22C95+1B9j
		push	word ptr ds:2D58h
		push	word ptr ds:2D38h
		push	7
		push	0
		push	0
		push	3
		push	0
		push	0
		call	sub_21691
		add	sp, 10h
		jmp	loc_22CA6
; ---------------------------------------------------------------------------

loc_22E71:				; CODE XREF: sub_22C95+14Fj
					; sub_22C95+154j ...
		pop	di
		pop	si
		pop	bp
		retf
sub_22C95	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22E75	proc far		; CODE XREF: seg002:28B5P seg002:2C55P

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	0
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_22C95
		add	sp, 0Ch
		pop	bp
		retf
sub_22E75	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	1
		push	word ptr [bp+0Eh]
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_22C95
		add	sp, 0Ch

loc_22EAF:
		pop	bp

locret_22EB0:
		retf
seg010		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg011		segment	byte public 'CODE' use16
		assume cs:seg011
		;org 1
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22EB3	proc far		; CODE XREF: sub_233A0+13p

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		cmp	byte ptr es:[si], 47h ;	'G'
		jz	short loc_22ECE
		jmp	short loc_22EFA
; ---------------------------------------------------------------------------

loc_22ECE:				; CODE XREF: sub_22EB3+17j
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		cmp	byte ptr es:[si], 59h ;	'Y'
		jz	short loc_22EE5
		jmp	short loc_22EFA
; ---------------------------------------------------------------------------

loc_22EE5:				; CODE XREF: sub_22EB3+2Ej
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		jmp	short loc_22EFF
; ---------------------------------------------------------------------------

loc_22EFA:				; CODE XREF: sub_22EB3+19j
					; sub_22EB3+30j
		mov	ax, 0FFFFh
		jmp	short $+2

loc_22EFF:				; CODE XREF: sub_22EB3+45j
		pop	si
		pop	bp
		retf
sub_22EB3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22F02	proc far		; CODE XREF: sub_233A0+89p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= dword	ptr  0Eh
arg_C		= dword	ptr  12h
arg_10		= dword	ptr  16h

		enter	4, 0
		push	si
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		add	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		mov	al, es:[si]
		mov	ah, 0
		les	bx, [bp+arg_4]
		mov	es:[bx], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		mov	al, es:[si]
		mov	ah, 0
		les	bx, [bp+arg_8]
		mov	es:[bx], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		les	bx, [bp+arg_C]
		mov	es:[bx], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		les	bx, [bp+arg_10]
		mov	es:[bx], ax
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		xor	ax, ax
		jmp	short $+2
		pop	si
		leave
		retf
sub_22F02	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22FAA	proc far		; CODE XREF: sub_233A0+34p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	4, 0
		push	si
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		add	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		xor	ax, ax
		jmp	short $+2
		pop	si
		leave
		retf
sub_22FAA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_22FEC	proc far		; CODE XREF: sub_233A0+A8p

var_3E		= byte ptr -3Eh
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
arg_8		= dword	ptr  0Eh

		enter	3Eh, 0
		push	si
		mov	ax, word ptr [bp+arg_4]
		or	ax, word ptr [bp+arg_4+2]
		jnz	short loc_23002
		lea	ax, [bp+var_3E]
		mov	word ptr [bp+arg_4+2], ss
		mov	word ptr [bp+arg_4], ax

loc_23002:				; CODE XREF: sub_22FEC+Bj
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 0
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		add	[bp+var_4], ax

loc_23030:				; CODE XREF: sub_22FEC:loc_23127j
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		cwd
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_C]
		add	[bp+var_8], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		mov	al, es:[si]
		mov	ah, 0
		mov	[bp+var_E], ax
		mov	ax, [bp+var_E]
		or	ax, ax
		jz	short loc_23086
		cmp	ax, 10h
		jz	short loc_23089
		jmp	loc_2310B
; ---------------------------------------------------------------------------

loc_23086:				; CODE XREF: sub_22FEC+90j
		jmp	loc_2312A
; ---------------------------------------------------------------------------

loc_23089:				; CODE XREF: sub_22FEC+95j
		cmp	[bp+var_A], 0
		jnz	short loc_23095
		cmp	[bp+var_C], 33h	; '3'
		jz	short loc_23098

loc_23095:				; CODE XREF: sub_22FEC+A1j
		jmp	loc_2313E
; ---------------------------------------------------------------------------

loc_23098:				; CODE XREF: sub_22FEC+A7j
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 1
		xor	cx, cx
		jmp	short loc_23104
; ---------------------------------------------------------------------------

loc_230A4:				; CODE XREF: sub_22FEC+11Bj
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		mov	al, es:[si]
		mov	dx, cx
		imul	dx, 3
		les	bx, [bp+arg_4]
		add	bx, dx
		mov	es:[bx], al
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		mov	al, es:[si]
		mov	dx, cx
		imul	dx, 3
		les	bx, [bp+arg_4]
		add	bx, dx
		mov	es:[bx+1], al
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		inc	word ptr es:[bx]
		mov	es, dx
		mov	al, es:[si]
		mov	dx, cx
		imul	dx, 3
		les	bx, [bp+arg_4]
		add	bx, dx
		mov	es:[bx+2], al
		inc	cx

loc_23104:				; CODE XREF: sub_22FEC+B6j
		cmp	cx, 10h
		jl	short loc_230A4
		jmp	short loc_2310D
; ---------------------------------------------------------------------------

loc_2310B:				; CODE XREF: sub_22FEC+97j
		jmp	short $+2

loc_2310D:				; CODE XREF: sub_22FEC+11Dj
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_4]
		jbe	short loc_23127
		jmp	short loc_23143
; ---------------------------------------------------------------------------

loc_23127:				; CODE XREF: sub_22FEC+137j
		jmp	loc_23030
; ---------------------------------------------------------------------------

loc_2312A:				; CODE XREF: sub_22FEC:loc_23086j
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		xor	ax, ax
		jmp	short loc_23148
; ---------------------------------------------------------------------------

loc_2313E:				; CODE XREF: sub_22FEC:loc_23095j
		mov	ax, 0FFFFh
		jmp	short loc_23148
; ---------------------------------------------------------------------------

loc_23143:				; CODE XREF: sub_22FEC+139j
		mov	ax, 0FFFEh
		jmp	short $+2

loc_23148:				; CODE XREF: sub_22FEC+150j
					; sub_22FEC+155j
		pop	si
		leave
		retf
sub_22FEC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2314B	proc far		; CODE XREF: sub_233A0+48p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	4, 0
		push	si
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 2
		mov	es, dx
		mov	ax, es:[si]
		add	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		xor	ax, ax
		jmp	short $+2
		pop	si
		leave
		retf
sub_2314B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2318D	proc far		; CODE XREF: sub_233A0+5Cp

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		enter	4, 0
		push	si
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	si, es:[bx]
		add	word ptr es:[bx], 4
		mov	es, dx
		mov	cx, es:[si+2]
		mov	bx, es:[si]
		mov	dx, ss
		lea	ax, [bp+var_4]
		call	F_PADA@
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		xor	ax, ax
		jmp	short $+2
		pop	si
		leave
		retf
sub_2318D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_231DA	proc far		; CODE XREF: sub_233A0+E0p

var_8		= word ptr -8
var_6		= word ptr -6
src		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		enter	8, 0
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+src]
		mov	ax, es:[bx]
		add	[bp+var_8], ax
		add	word ptr [bp+src], 4
		xor	si, si
		jmp	loc_232AC
; ---------------------------------------------------------------------------

loc_23208:				; CODE XREF: sub_231DA+D7j
		xor	di, di
		jmp	loc_232A3
; ---------------------------------------------------------------------------

loc_2320D:				; CODE XREF: sub_231DA+CEj
		mov	ax, [bp+arg_8]
		sar	ax, 3
		push	ax		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ds
		push	2E80h		; dest
		call	_memcpy
		add	sp, 0Ah
		mov	ax, [bp+arg_8]
		sar	ax, 3
		add	word ptr [bp+src], ax
		mov	ax, word_2B102
		cmp	ax, 1
		jz	short loc_2323E
		cmp	ax, 2
		jz	short loc_2325F
		jmp	short loc_23280
; ---------------------------------------------------------------------------

loc_2323E:				; CODE XREF: sub_231DA+5Bj
		push	si
		push	[bp+arg_C]
		push	ds
		push	2E80h
		push	1
		mov	ax, [bp+arg_8]
		sar	ax, 3
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, di
		push	ax
		push	[bp+arg_4]
		call	sub_21152
		jmp	short loc_2329F
; ---------------------------------------------------------------------------

loc_2325F:				; CODE XREF: sub_231DA+60j
		push	si
		push	[bp+arg_C]
		push	ds
		push	2E80h
		push	1
		mov	ax, [bp+arg_8]
		sar	ax, 3
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, di
		push	ax
		push	[bp+arg_4]
		call	sub_2124C
		jmp	short loc_2329F
; ---------------------------------------------------------------------------

loc_23280:				; CODE XREF: sub_231DA+62j
		push	si
		push	[bp+arg_C]
		push	ds
		push	2E80h
		push	1
		mov	ax, [bp+arg_8]
		sar	ax, 3
		push	ax
		mov	ax, [bp+arg_6]
		add	ax, di
		push	ax
		push	[bp+arg_4]
		call	sub_2104E

loc_2329F:				; CODE XREF: sub_231DA+83j
					; sub_231DA+A4j
		add	sp, 10h
		inc	di

loc_232A3:				; CODE XREF: sub_231DA+30j
		cmp	di, [bp+arg_A]
		jge	short loc_232AB
		jmp	loc_2320D
; ---------------------------------------------------------------------------

loc_232AB:				; CODE XREF: sub_231DA+CCj
		inc	si

loc_232AC:				; CODE XREF: sub_231DA+2Bj
		cmp	si, 4
		jge	short loc_232B4
		jmp	loc_23208
; ---------------------------------------------------------------------------

loc_232B4:				; CODE XREF: sub_231DA+D5j
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		xor	ax, ax
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
sub_231DA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_232CC	proc far		; CODE XREF: sub_233A0+102p

var_8		= word ptr -8
var_6		= word ptr -6
src		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		enter	8, 0
		push	si
		push	di
		mov	di, [bp+arg_8]
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+src]
		mov	ax, es:[bx]
		add	[bp+var_8], ax
		add	word ptr [bp+src], 4
		xor	si, si
		jmp	loc_23380
; ---------------------------------------------------------------------------

loc_232FD:				; CODE XREF: sub_232CC+B9j
		mov	ax, di
		sar	ax, 1
		push	ax		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ds
		push	2E80h		; dest
		call	_memcpy
		add	sp, 0Ah
		mov	ax, di
		sar	ax, 1
		add	word ptr [bp+src], ax
		mov	ax, word_2B102
		cmp	ax, 1
		jz	short loc_2332A
		cmp	ax, 2
		jz	short loc_23346
		jmp	short loc_23362
; ---------------------------------------------------------------------------

loc_2332A:				; CODE XREF: sub_232CC+55j
		mov	ax, [bp+arg_6]
		add	ax, si
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_C]
		mov	ax, di
		sar	ax, 1
		push	ax
		push	ds
		push	2E80h
		call	sub_21E16
		jmp	short loc_2337C
; ---------------------------------------------------------------------------

loc_23346:				; CODE XREF: sub_232CC+5Aj
		mov	ax, [bp+arg_6]
		add	ax, si
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_C]
		mov	ax, di
		sar	ax, 1
		push	ax
		push	ds
		push	2E80h
		call	sub_21F68
		jmp	short loc_2337C
; ---------------------------------------------------------------------------

loc_23362:				; CODE XREF: sub_232CC+5Cj
		mov	ax, [bp+arg_6]
		add	ax, si
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_C]
		mov	ax, di
		sar	ax, 1
		push	ax
		push	ds
		push	2E80h
		call	sub_21CC4

loc_2337C:				; CODE XREF: sub_232CC+78j
					; sub_232CC+94j
		add	sp, 0Ch
		inc	si

loc_23380:				; CODE XREF: sub_232CC+2Ej
		cmp	si, [bp+arg_A]
		jge	short loc_23388
		jmp	loc_232FD
; ---------------------------------------------------------------------------

loc_23388:				; CODE XREF: sub_232CC+B7j
		les	bx, [bp+arg_0]
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		xor	ax, ax
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
sub_232CC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_233A0	proc far		; CODE XREF: sub_1B70C+EDP
					; sub_1B70C+1D1P ...

var_C		= byte ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= byte ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	0Ch, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_E]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_22EB3
		add	sp, 4
		mov	[bp+var_2], ax
		or	ax, ax
		jge	short loc_233C3
		jmp	loc_234D9
; ---------------------------------------------------------------------------

loc_233C3:				; CODE XREF: sub_233A0+1Ej
		cmp	si, [bp+var_2]
		jl	short loc_233CB
		jmp	loc_234D9
; ---------------------------------------------------------------------------

loc_233CB:				; CODE XREF: sub_233A0+26j
		jmp	short loc_2340A
; ---------------------------------------------------------------------------

loc_233CD:				; CODE XREF: sub_233A0+6Cj
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_22FAA
		add	sp, 4
		or	ax, ax
		jz	short loc_233E1
		jmp	loc_234D9
; ---------------------------------------------------------------------------

loc_233E1:				; CODE XREF: sub_233A0+3Cj
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_2314B
		add	sp, 4
		or	ax, ax
		jz	short loc_233F5
		jmp	loc_234D9
; ---------------------------------------------------------------------------

loc_233F5:				; CODE XREF: sub_233A0+50j
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_2318D
		add	sp, 4
		or	ax, ax
		jz	short loc_23409
		jmp	loc_234D9
; ---------------------------------------------------------------------------

loc_23409:				; CODE XREF: sub_233A0+64j
		dec	si

loc_2340A:				; CODE XREF: sub_233A0:loc_233CBj
		or	si, si
		jg	short loc_233CD
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		push	ss
		lea	ax, [bp+var_6]
		push	ax
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_22F02
		add	sp, 14h
		or	ax, ax
		jz	short loc_23436
		jmp	loc_234D9
; ---------------------------------------------------------------------------

loc_23436:				; CODE XREF: sub_233A0+91j
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_22FEC
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_23455
		jmp	loc_234D9
; ---------------------------------------------------------------------------

loc_23455:				; CODE XREF: sub_233A0+B0j
		or	di, di
		jl	short loc_234D5
		mov	ax, [bp+var_4]
		or	ax, ax
		jz	short loc_2346C
		cmp	ax, 3
		jz	short loc_2348E
		cmp	ax, 4
		jz	short loc_234B0
		jmp	short loc_234D3
; ---------------------------------------------------------------------------

loc_2346C:				; CODE XREF: sub_233A0+BEj
		push	di
		push	[bp+var_A]
		push	[bp+var_8]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_231DA
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_2348C
		jmp	short loc_234D9
; ---------------------------------------------------------------------------

loc_2348C:				; CODE XREF: sub_233A0+E8j
		jmp	short loc_234D5
; ---------------------------------------------------------------------------

loc_2348E:				; CODE XREF: sub_233A0+C3j
		push	di
		push	[bp+var_A]
		push	[bp+var_8]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_232CC
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_234AE
		jmp	short loc_234D9
; ---------------------------------------------------------------------------

loc_234AE:				; CODE XREF: sub_233A0+10Aj
		jmp	short loc_234D5
; ---------------------------------------------------------------------------

loc_234B0:				; CODE XREF: sub_233A0+C8j
		push	di
		push	[bp+var_A]
		push	[bp+var_8]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_234E2
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_234D1
		jmp	short loc_234D9
; ---------------------------------------------------------------------------

loc_234D1:				; CODE XREF: sub_233A0+12Dj
		jmp	short loc_234D5
; ---------------------------------------------------------------------------

loc_234D3:				; CODE XREF: sub_233A0+CAj
		jmp	short loc_234D9
; ---------------------------------------------------------------------------

loc_234D5:				; CODE XREF: sub_233A0+B7j
					; sub_233A0:loc_2348Cj	...
		xor	ax, ax
		jmp	short loc_234DE
; ---------------------------------------------------------------------------

loc_234D9:				; CODE XREF: sub_233A0+20j
					; sub_233A0+28j ...
		mov	ax, 0FFFFh
		jmp	short $+2

loc_234DE:				; CODE XREF: sub_233A0+137j
		pop	di
		pop	si
		leave
		retf
sub_233A0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_234E2	proc far		; CODE XREF: sub_233A0+125p

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		enter	2, 0
		push	ds
		push	di
		push	si
		cld
		shr	[bp+arg_8], 1
		mov	ax, [bp+arg_6]
		add	[bp+arg_A], ax
		mov	di, 7B9h
		mov	si, [bp+arg_8]
		mov	bx, 3

loc_234FC:				; CODE XREF: sub_234E2+33j
		mov	cx, 4

loc_234FF:				; CODE XREF: sub_234E2+30j
		xor	ax, ax
		sub	ax, bx
		imul	si
		mov	dx, 2
		sub	dx, cx
		add	ax, dx
		mov	cs:[di], ax
		add	di, 2
		loop	loc_234FF
		dec	bx
		jnz	short loc_234FC
		mov	cx, 4

loc_2351A:				; CODE XREF: sub_234E2+42j
		xor	ax, ax
		sub	ax, cx
		mov	cs:[di], ax
		add	di, 2
		loop	loc_2351A
		les	di, [bp+arg_0]
		lds	si, es:[di]
		mov	dx, si
		lodsw
		add	ax, dx
		mov	es:[di], ax
		mov	dx, ds
		lodsw
		add	ax, dx
		mov	es:[di+2], ax
		mov	ax, seg	dseg
		mov	es, ax
		assume es:dseg
		mov	di, 2E80h
		mov	ax, [bp+arg_8]
		shl	ax, 2
		add	ax, [bp+arg_8]
		add	ax, di
		mov	[bp+var_2], ax

loc_23553:				; CODE XREF: sub_234E2:loc_23613j
		lodsb
		mov	dl, al
		mov	dh, 8

loc_23558:				; CODE XREF: sub_234E2+12Ej
		shl	dl, 1
		jb	short loc_2355F
		movsb
		jmp	short loc_235A2
; ---------------------------------------------------------------------------

loc_2355F:				; CODE XREF: sub_234E2+78j
		xor	ax, ax
		lodsb
		xor	bx, bx
		mov	bl, al
		and	al, 0Fh
		jnz	short loc_23575
		lodsb
		or	al, al
		jnz	short loc_23572
		jmp	loc_23616
; ---------------------------------------------------------------------------

loc_23572:				; CODE XREF: sub_234E2+8Bj
		add	ax, 0Fh

loc_23575:				; CODE XREF: sub_234E2+86j
		inc	ax
		xchg	ax, cx
		shr	bx, 3
		and	bx, 0FFFEh
		xchg	ax, si
		mov	si, cs:[bx+7B9h]
		add	si, di
		push	ds
		cmp	bx, 1Eh
		jnz	short loc_23593
		mov	bx, es
		mov	ds, bx
		rep movsb
		jmp	short loc_235A0
; ---------------------------------------------------------------------------

loc_23593:				; CODE XREF: sub_234E2+A7j
		mov	bx, es
		mov	ds, bx
		shr	cx, 1
		rep movsw
		adc	cx, 0
		rep movsb

loc_235A0:				; CODE XREF: sub_234E2+AFj
		pop	ds
		xchg	ax, si

loc_235A2:				; CODE XREF: sub_234E2+7Bj
					; sub_234E2+128j
		cmp	di, [bp+var_2]
		jbe	short loc_2360C
		push	ds
		push	dx
		push	es
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_C]
		push	[bp+arg_8]
		push	es
		push	2E80h
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, ss:1682h
		cmp	ax, 1
		jnz	short loc_235CF
		call	sub_21E16
		jmp	short loc_235E0
; ---------------------------------------------------------------------------

loc_235CF:				; CODE XREF: sub_234E2+E4j
		cmp	ax, 2
		jnz	short loc_235DB
		call	sub_21F68
		jmp	short loc_235E0
; ---------------------------------------------------------------------------

loc_235DB:				; CODE XREF: sub_234E2+F0j
		call	sub_21CC4

loc_235E0:				; CODE XREF: sub_234E2+EBj
					; sub_234E2+F7j
		cld
		add	sp, 0Ch
		pop	es
		assume es:nothing
		inc	[bp+arg_6]
		push	di
		push	si
		mov	ax, es
		mov	ds, ax
		xchg	cx, di
		mov	di, 2E80h
		mov	si, di
		add	si, [bp+arg_8]
		sub	cx, si
		shr	cx, 1
		rep movsw
		adc	cx, 1
		rep movsb
		pop	si
		pop	di
		pop	dx
		pop	ds
		sub	di, [bp+arg_8]
		jmp	short loc_235A2
; ---------------------------------------------------------------------------

loc_2360C:				; CODE XREF: sub_234E2+C3j
		dec	dh
		jz	short loc_23613
		jmp	loc_23558
; ---------------------------------------------------------------------------

loc_23613:				; CODE XREF: sub_234E2+12Cj
		jmp	loc_23553
; ---------------------------------------------------------------------------

loc_23616:				; CODE XREF: sub_234E2+8Dj
		mov	di, 2E80h
		mov	ax, seg	dseg
		mov	ds, ax

loc_2361E:				; CODE XREF: sub_234E2+17Ej
		mov	ax, [bp+arg_6]
		cmp	ax, [bp+arg_A]
		jnb	short loc_23662
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_C]
		push	[bp+arg_8]
		push	seg dseg
		push	di
		mov	ax, ss:1682h
		cmp	ax, 1
		jnz	short loc_23646
		call	sub_21E16
		jmp	short loc_23657
; ---------------------------------------------------------------------------

loc_23646:				; CODE XREF: sub_234E2+15Bj
		cmp	ax, 2
		jnz	short loc_23652
		call	sub_21F68
		jmp	short loc_23657
; ---------------------------------------------------------------------------

loc_23652:				; CODE XREF: sub_234E2+167j
		call	sub_21CC4

loc_23657:				; CODE XREF: sub_234E2+162j
					; sub_234E2+16Ej
		add	sp, 0Ch
		inc	[bp+arg_6]
		add	di, [bp+arg_8]
		jmp	short loc_2361E
; ---------------------------------------------------------------------------

loc_23662:				; CODE XREF: sub_234E2+142j
		xor	ax, ax
		pop	si
		pop	di
		pop	ds
		leave
		retf
sub_234E2	endp

; ---------------------------------------------------------------------------
		db 17h dup(0)
seg011		ends

; ===========================================================================

; Segment type:	Pure code
seg012		segment	byte public 'CODE' use16
		assume cs:seg012
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
byte_23680	db 9 dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23689	proc far		; CODE XREF: sub_1DC31+11DP

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	0, 0
		push	es
		push	ds
		push	di
		push	si
		cld
		mov	bx, [bp+arg_4]
		add	bx, bx
		mov	cx, [bx+2D72h]
		mov	ax, cx
		mul	[bp+arg_A]
		add	ax, [bp+arg_8]
		mov	si, ax
		mov	bx, [bp+arg_4]
		shl	bx, 4
		mov	ax, [bp+arg_6]
		shl	ax, 2
		add	bx, ax
		add	si, [bx+139Eh]
		mov	ds, word ptr [bx+13A0h]
		mov	bx, cx
		les	di, [bp+arg_0]

loc_236C0:				; CODE XREF: sub_23689+5Aj
		push	di
		push	si
		mov	dx, [bp+arg_C]

loc_236C5:				; CODE XREF: sub_23689+50j
		lodsb
		mov	ah, al
		mov	cx, 8

loc_236CB:				; CODE XREF: sub_23689+4Dj
		xor	al, al
		shl	ah, 1
		cmc
		sbb	al, 0
		stosb
		add	di, 7Fh	; ''
		loop	loc_236CB
		dec	dx
		jnz	short loc_236C5
		pop	si
		pop	di
		add	si, bx
		inc	di
		dec	[bp+arg_E]
		jnz	short loc_236C0
		pop	si
		pop	di
		pop	ds
		pop	es
		leave
		retf
sub_23689	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_236EB	proc far		; CODE XREF: sub_1D805:loc_1D99EP
					; sub_1D9E9:loc_1DACDP
		enter	0, 0
		push	di
		push	si
		cld
		mov	bx, word_2B10A
		add	bx, bx
		mov	ax, [bx+149Eh]
		cmp	ax, 4
		jb	short loc_23713
		sub	ax, 4
		mov	bx, ax
		add	bx, bx
		mov	ax, [bx+2D92h]
		mov	ds:2910h, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		jmp	short loc_2373F
; ---------------------------------------------------------------------------

loc_23713:				; CODE XREF: sub_236EB+14j
		cmp	ax, 2
		jnz	short loc_2373F
		pushf
		cli
		mov	dx, 3CEh
		mov	ax, 0F00h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	ax, 1
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; enable set/reset
		mov	ax, 3
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; data rotate and function select for write mode 00. Bits:
					; 0-2: set rotate count	for write mode 00
					; 3-4: fn for write modes 00 and 02
					;      00=no change; 01=AND; 10=OR; 11=XOR
		mov	ax, 5
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; mode register.Data bits:
					; 0-1: Write mode 0-2
					; 2: test condition
					; 3: read mode:	1=color	compare, 0=direct
					; 4: 1=use odd/even RAM	addressing
					; 5: 1=use CGA mid-res map (2-bits/pixel)
		mov	ax, 0FF08h
		out	dx, ax		; EGA: graph 1 and 2 addr reg:
					; unknown register
		mov	dx, 3C4h
		mov	cl, byte ptr word_2B10C
		mov	ax, 102h
		shl	ah, cl
		out	dx, ax		; EGA: sequencer address reg
					; sequencer reset.
					; Bits of data 0-1 indicate asynchronous/synchronous reset.
		popf

loc_2373F:				; CODE XREF: sub_236EB+26j
					; sub_236EB+2Bj
		pop	si

loc_23740:
		pop	di
		leave
		retf
sub_236EB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23743	proc far		; CODE XREF: sub_1D805:loc_1D9AAP
					; sub_1D9E9:loc_1DAD9P
		enter	0, 0
		push	di
		push	si
		cld
		les	di, dword_2B104
		mov	cx, word_2B110
		xor	ax, ax
		rep stosb
		push	ds
		push	bp
		mov	ah, byte ptr word_2B10E
		mov	al, 1
		mov	cx, word_2B116
		mov	dx, word_2B118
		mov	si, word_2B11A
		mov	bp, word_2B11C
		mov	ds, word_2B108

loc_23772:				; CODE XREF: sub_23743+44j
					; sub_23743+4Fj
		and	dh, 7Fh
		mov	bx, cx
		and	bl, 80h
		or	bl, dh
		cmp	byte ptr [bx], 0FFh
		rcl	al, 1
		jb	short loc_23789
		add	cx, si
		add	dx, bp
		jmp	short loc_23772
; ---------------------------------------------------------------------------

loc_23789:				; CODE XREF: sub_23743+3Ej
		stosb
		mov	al, 1
		add	cx, si
		add	dx, bp
		dec	ah
		jnz	short loc_23772
		pop	bp
		pop	ds
		mov	cx, word_2B112
		xor	ax, ax
		rep stosb
		mov	ax, word_2B11E
		add	word_2B116, ax
		mov	ax, word_2B120
		add	word_2B118, ax
		mov	ax, word_2B114
		add	word ptr dword_2B104, ax
		pop	si
		pop	di
		leave
		retf
sub_23743	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_237B7	proc far		; CODE XREF: sub_1D805+1DBP
					; sub_1D9E9+126P
		enter	0, 0
		push	di
		push	si
		cld
		pop	si

loc_237BF:
		pop	di

locret_237C0:
		leave
		retf
sub_237B7	endp

seg012		ends

; ===========================================================================

; Segment type:	Pure code
seg013		segment	byte public 'CODE' use16
		assume cs:seg013
		;org 2
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

ConvertKeyCode	proc far		; CODE XREF: GetKeyCode+9p

var_2		= word ptr -2
arg_0		= word ptr  6

		enter	2, 0
		push	si
		mov	si, [bp+arg_0]
		mov	[bp+var_2], si
		mov	cx, 35h		; switch 53 cases
		mov	bx, offset word_2385F

loc_237D3:				; CODE XREF: ConvertKeyCode+1Cj
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_2]
		jz	short loc_237E2
		add	bx, 2
		loop	loc_237D3
		jmp	short loc_23844	; jumptable 000237E2 default case
; ---------------------------------------------------------------------------

loc_237E2:				; CODE XREF: ConvertKeyCode+17j
		jmp	word ptr cs:[bx+6Ah] ; switch jump

loc_237E6:				; DATA XREF: seg013:0109o
		mov	si, 13h		; jumptable 000237E2 cases 8,19,49,52,72,83,104,115,184,196
		jmp	short loc_23846
; ---------------------------------------------------------------------------

loc_237EB:				; CODE XREF: ConvertKeyCode:loc_237E2j
					; DATA XREF: seg013:0109o
		mov	si, 4		; jumptable 000237E2 cases 4,12,51,54,68,76,100,108,188,216
		jmp	short loc_23846
; ---------------------------------------------------------------------------

loc_237F0:				; CODE XREF: ConvertKeyCode:loc_237E2j
					; DATA XREF: seg013:0109o
		mov	si, 5		; jumptable 000237E2 cases 5,11,53,56,69,75,101,107,178,201
		jmp	short loc_23846
; ---------------------------------------------------------------------------

loc_237F5:				; CODE XREF: ConvertKeyCode:loc_237E2j
					; DATA XREF: seg013:0109o
		mov	si, 18h		; jumptable 000237E2 cases 10,24,50,74,88,106,120,187,207
		jmp	short loc_23846
; ---------------------------------------------------------------------------

loc_237FA:				; CODE XREF: ConvertKeyCode:loc_237E2j
					; DATA XREF: seg013:0109o
		mov	si, 0Dh		; jumptable 000237E2 cases 32,77,89,109,121,211,221
		jmp	short loc_23846
; ---------------------------------------------------------------------------

loc_237FF:				; CODE XREF: ConvertKeyCode:loc_237E2j
					; DATA XREF: seg013:0109o
		mov	si, 1Bh		; jumptable 000237E2 cases 9,27,48,78,110,208
		jmp	short loc_23846
; ---------------------------------------------------------------------------

loc_23804:				; CODE XREF: ConvertKeyCode:loc_237E2j
					; DATA XREF: seg013:0109o
		test	byte ptr ds:28E4h, 4 ; jumptable 000237E2 case 0
		jz	short loc_23842
		call	_kbhit
		or	ax, ax
		jz	short loc_23842
		call	getch
		mov	si, ax
		mov	bx, si
		sub	bx, 48h	; 'H'
		cmp	bx, 8
		ja	short loc_23840
		add	bx, bx
		jmp	cs:off_2384D[bx]

loc_2382C:				; DATA XREF: seg013:off_2384Do
		mov	si, 13h
		jmp	short loc_23842
; ---------------------------------------------------------------------------

loc_23831:				; CODE XREF: ConvertKeyCode+65j
					; DATA XREF: seg013:off_2384Do
		mov	si, 4
		jmp	short loc_23842
; ---------------------------------------------------------------------------

loc_23836:				; CODE XREF: ConvertKeyCode+65j
					; DATA XREF: seg013:off_2384Do
		mov	si, 5
		jmp	short loc_23842
; ---------------------------------------------------------------------------

loc_2383B:				; CODE XREF: ConvertKeyCode+65j
					; DATA XREF: seg013:off_2384Do
		mov	si, 18h
		jmp	short loc_23842
; ---------------------------------------------------------------------------

loc_23840:				; CODE XREF: ConvertKeyCode+61j
					; ConvertKeyCode+65j
					; DATA XREF: ...
		jmp	short $+2

loc_23842:				; CODE XREF: ConvertKeyCode+47j
					; ConvertKeyCode+50j ...
		jmp	short loc_23846
; ---------------------------------------------------------------------------

loc_23844:				; CODE XREF: ConvertKeyCode+1Ej
		jmp	short $+2	; jumptable 000237E2 default case

loc_23846:				; CODE XREF: ConvertKeyCode+27j
					; ConvertKeyCode+2Cj ...
		mov	ax, si
		jmp	short $+2
		pop	si
		leave
		retf
ConvertKeyCode	endp

; ---------------------------------------------------------------------------
off_2384D	dw offset loc_23836	; 0 ; DATA XREF: ConvertKeyCode+65r
		dw offset loc_23840	; 1
		dw offset loc_23840	; 2
		dw offset loc_2382C	; 3
		dw offset loc_23840	; 4
		dw offset loc_23831	; 5
		dw offset loc_23840	; 6
		dw offset loc_23840	; 7
		dw offset loc_2383B	; 8
word_2385F	dw     0,    4,	   5,	 8; 0 ;	DATA XREF: ConvertKeyCode+Eo
		dw     9,  0Ah,	 0Bh,  0Ch; 4 ;	value table for	switch statement
		dw   13h,  18h,	 1Bh,  20h; 8
		dw   30h,  31h,	 32h,  33h; 12
		dw   34h,  35h,	 36h,  38h; 16
		dw   44h,  45h,	 48h,  4Ah; 20
		dw   4Bh,  4Ch,	 4Dh,  4Eh; 24
		dw   53h,  58h,	 59h,  64h; 28
		dw   65h,  68h,	 6Ah,  6Bh; 32
		dw   6Ch,  6Dh,	 6Eh,  73h; 36
		dw   78h,  79h,	0B2h, 0B8h; 40
		dw  0BBh, 0BCh,	0C4h, 0C9h; 44
		dw  0CFh, 0D0h,	0D3h, 0D8h; 48
		dw  0DDh		; 52
		dw offset loc_23804, offset loc_237EB, offset loc_237F0, offset	loc_237E6; 0 ; jump table for switch statement
		dw offset loc_237FF, offset loc_237F5, offset loc_237F0, offset	loc_237EB; 4
		dw offset loc_237E6, offset loc_237F5, offset loc_237FF, offset	loc_237FA; 8
		dw offset loc_237FF, offset loc_237E6, offset loc_237F5, offset	loc_237EB; 12
		dw offset loc_237E6, offset loc_237F0, offset loc_237EB, offset	loc_237F0; 16
		dw offset loc_237EB, offset loc_237F0, offset loc_237E6, offset	loc_237F5; 20
		dw offset loc_237F0, offset loc_237EB, offset loc_237FA, offset	loc_237FF; 24
		dw offset loc_237E6, offset loc_237F5, offset loc_237FA, offset	loc_237EB; 28
		dw offset loc_237F0, offset loc_237E6, offset loc_237F5, offset	loc_237F0; 32
		dw offset loc_237EB, offset loc_237FA, offset loc_237FF, offset	loc_237E6; 36
		dw offset loc_237F5, offset loc_237FA, offset loc_237F0, offset	loc_237E6; 40
		dw offset loc_237F5, offset loc_237EB, offset loc_237E6, offset	loc_237F0; 44
		dw offset loc_237F5, offset loc_237FF, offset loc_237FA, offset	loc_237EB; 48
		dw offset loc_237FA	; 52

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23933	proc far		; CODE XREF: sub_23A31+4p sub_23A5A+4p ...

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		cmp	word ptr ds:28EAh, 2
		jnz	short loc_239B9
		mov	word ptr [bp+inregs], 5
		mov	word ptr [bp+inregs+2],	0
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah
		mov	ax, word_2B126
		add	ax, word ptr [bp+outregs+2]
		mov	word_2B126, ax
		mov	word ptr [bp+inregs], 5
		mov	word ptr [bp+inregs+2],	1
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah
		mov	ax, word_2B128
		add	ax, word ptr [bp+outregs+2]
		mov	word_2B128, ax
		mov	word ptr [bp+inregs], 0Bh
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah
		mov	ax, word_2B122
		add	ax, word ptr [bp+outregs+4]
		mov	word_2B122, ax
		mov	ax, word_2B124
		add	ax, word ptr [bp+outregs+6]
		mov	word_2B124, ax
		jmp	short locret_23A2F
; ---------------------------------------------------------------------------

loc_239B9:				; CODE XREF: sub_23933+9j
		cmp	word ptr ds:28EAh, 1
		jnz	short locret_23A2F
		mov	word ptr [bp+inregs], 5
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah
		mov	ax, word_2B126
		add	ax, word ptr [bp+outregs+2]
		mov	word_2B126, ax
		mov	word ptr [bp+inregs], 7
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah
		mov	ax, word_2B126
		add	ax, word ptr [bp+outregs+2]
		mov	word_2B126, ax
		mov	word ptr [bp+inregs], 0Bh
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah
		mov	ax, word_2B122
		add	ax, word ptr [bp+outregs+4]
		mov	word_2B122, ax
		mov	ax, word_2B124
		add	ax, word ptr [bp+outregs+6]
		mov	word_2B124, ax

locret_23A2F:				; CODE XREF: sub_23933+84j
					; sub_23933+8Bj
		leave
		retf
sub_23933	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23A31	proc far		; CODE XREF: sub_23BA4+19p
		push	bp
		mov	bp, sp
		push	cs
		call	near ptr sub_23933
		xor	ax, ax
		mov	word_2B128, ax
		mov	word_2B126, ax
		mov	word_2B124, ax
		mov	word_2B122, ax
		mov	ax, ds:28ECh
		inc	ax
		shr	ax, 1
		mov	word_2B12A, ax
		mov	ax, ds:28EEh
		inc	ax
		shr	ax, 1
		mov	word_2B12C, ax
		pop	bp
		retf
sub_23A31	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23A5A	proc far		; CODE XREF: CheckKeyPress+1Bp
					; GetKeyPress+19p
		push	bp
		mov	bp, sp
		push	cs
		call	near ptr sub_23933
		cmp	word_2B126, 0
		jle	short loc_23A6D
		mov	ax, 0Dh
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23A6D:				; CODE XREF: sub_23A5A+Cj
		cmp	word_2B128, 0
		jle	short loc_23A79
		mov	ax, 1Bh
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23A79:				; CODE XREF: sub_23A5A+18j
		mov	ax, word_2B12A
		neg	ax
		cmp	ax, word_2B122
		jl	short loc_23A89
		mov	ax, 13h
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23A89:				; CODE XREF: sub_23A5A+28j
		mov	ax, word_2B122
		cmp	ax, word_2B12A
		jl	short loc_23A97
		mov	ax, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23A97:				; CODE XREF: sub_23A5A+36j
		mov	ax, word_2B12C
		neg	ax
		cmp	ax, word_2B124
		jl	short loc_23AA7
		mov	ax, 5
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23AA7:				; CODE XREF: sub_23A5A+46j
		mov	ax, word_2B124
		cmp	ax, word_2B12C
		jl	short loc_23AB5
		mov	ax, 18h
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23AB5:				; CODE XREF: sub_23A5A+54j
		xor	ax, ax
		pop	bp
		retf
sub_23A5A	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23ABB	proc far		; CODE XREF: GetKeyPress+21p
		push	bp
		mov	bp, sp
		push	cs
		call	near ptr sub_23933
		cmp	word_2B126, 0
		jle	short loc_23AD2
		dec	word_2B126
		mov	ax, 0Dh
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23AD2:				; CODE XREF: sub_23ABB+Cj
		cmp	word_2B128, 0
		jle	short loc_23AE2
		dec	word_2B128
		mov	ax, 1Bh
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23AE2:				; CODE XREF: sub_23ABB+1Cj
		mov	ax, word_2B12A
		neg	ax
		cmp	ax, word_2B122
		jl	short loc_23AFF
		mov	ax, word_2B12A
		add	word_2B122, ax
		mov	ax, ds:28ECh
		mov	word_2B12A, ax
		mov	ax, 13h
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23AFF:				; CODE XREF: sub_23ABB+30j
		mov	ax, word_2B122
		cmp	ax, word_2B12A
		jl	short loc_23B1A
		mov	ax, word_2B12A
		sub	word_2B122, ax
		mov	ax, ds:28ECh
		mov	word_2B12A, ax
		mov	ax, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23B1A:				; CODE XREF: sub_23ABB+4Bj
		mov	ax, word_2B12C
		neg	ax
		cmp	ax, word_2B124
		jl	short loc_23B37
		mov	ax, word_2B12C
		add	word_2B124, ax
		mov	ax, ds:28EEh
		mov	word_2B12C, ax
		mov	ax, 5
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23B37:				; CODE XREF: sub_23ABB+68j
		mov	ax, word_2B124
		cmp	ax, word_2B12C
		jl	short loc_23B52
		mov	ax, word_2B12C
		sub	word_2B124, ax
		mov	ax, ds:28EEh
		mov	word_2B12C, ax
		mov	ax, 18h
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23B52:				; CODE XREF: sub_23ABB+83j
		xor	ax, ax
		pop	bp
		retf
sub_23ABB	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

CheckKeyPress	proc far		; CODE XREF: seg002:2C8DP
					; sub_22C95+56P ...

var_2		= word ptr -2

		enter	2, 0
		call	_flushall
		call	_kbhit
		mov	[bp+var_2], ax
		or	ax, ax
		jz	short loc_23B72
		mov	ax, [bp+var_2]
		leave
		retf
; ---------------------------------------------------------------------------

loc_23B72:				; CODE XREF: CheckKeyPress+13j
		push	cs
		call	near ptr sub_23A5A
		leave
		retf
CheckKeyPress	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetKeyPress	proc far		; CODE XREF: GetKeyCode+4p
		push	bp
		mov	bp, sp
		call	_flushall

loc_23B82:				; CODE XREF: GetKeyPress:loc_23BA0j
		call	_kbhit
		or	ax, ax
		jz	short loc_23B92
		call	getch
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23B92:				; CODE XREF: GetKeyPress+Fj
		push	cs
		call	near ptr sub_23A5A
		or	ax, ax
		jz	short loc_23BA0
		push	cs
		call	near ptr sub_23ABB
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_23BA0:				; CODE XREF: GetKeyPress+1Ej
		jmp	short loc_23B82
GetKeyPress	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23BA4	proc far		; CODE XREF: scnExec70+35EP
					; seg002:2C62P	...
		push	bp
		mov	bp, sp
		call	_flushall
		jmp	short loc_23BB3
; ---------------------------------------------------------------------------

loc_23BAE:				; CODE XREF: sub_23BA4+16j
		call	getch

loc_23BB3:				; CODE XREF: sub_23BA4+8j
		call	_kbhit
		or	ax, ax
		jnz	short loc_23BAE
		push	cs
		call	near ptr sub_23A31
		pop	bp
		retf
sub_23BA4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

GetKeyCode	proc far		; CODE XREF: scnExec70:loc_1B316P
					; seg002:2C96P	...
		push	bp
		mov	bp, sp
		push	cs
		call	near ptr GetKeyPress
		push	ax
		push	cs
		call	near ptr ConvertKeyCode
		pop	cx
		pop	bp
		retf
GetKeyCode	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23BD3	proc far		; CODE XREF: seg002:260BP seg002:280BP

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		push	si
		xor	si, si
		test	byte ptr ds:28E4h, 1
		jz	short loc_23C2D
		mov	byte ptr [bp+inregs+1],	2
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		test	byte ptr [bp+outregs], 1
		jz	short loc_23C02
		or	si, 3

loc_23C02:				; CODE XREF: sub_23BD3+2Aj
		test	byte ptr [bp+outregs], 2
		jz	short loc_23C0B
		or	si, 40h

loc_23C0B:				; CODE XREF: sub_23BD3+33j
		test	byte ptr [bp+outregs], 4
		jz	short loc_23C14
		or	si, 10h

loc_23C14:				; CODE XREF: sub_23BD3+3Cj
		test	byte ptr [bp+outregs], 8
		jz	short loc_23C1E
		or	si, 0A08h

loc_23C1E:				; CODE XREF: sub_23BD3+45j
		test	byte ptr [bp+outregs], 10h
		jz	short loc_23C28
		or	si, 504h

loc_23C28:				; CODE XREF: sub_23BD3+4Fj
		or	si, 20h
		jmp	short loc_23C54
; ---------------------------------------------------------------------------

loc_23C2D:				; CODE XREF: sub_23BD3+Cj
		test	byte ptr ds:28E4h, 4
		jz	short loc_23C54
		mov	byte ptr [bp+inregs+1],	12h
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	16h		; intno
		call	_int86
		add	sp, 0Ah
		mov	ax, word ptr [bp+outregs]
		and	ax, 8FFFh
		mov	si, ax

loc_23C54:				; CODE XREF: sub_23BD3+58j
					; sub_23BD3+5Fj
		mov	ax, si
		jmp	short $+2
		pop	si
		leave
		retf
sub_23BD3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23C5B	proc far		; CODE XREF: s_initall:loc_1EF4FP

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		cmp	word_2B12E, 0
		jz	short loc_23C68
		jmp	short loc_23CB7
; ---------------------------------------------------------------------------

loc_23C68:				; CODE XREF: sub_23C5B+9j
		mov	word ptr ds:28EAh, 0
		push	33h ; '3'       ; interruptno

loc_23C70:
		call	_getvect
		pop	cx
		or	ax, dx
		jz	short loc_23CAD
		mov	word ptr [bp+inregs], 0
		mov	word ptr [bp+inregs+2],	0
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_23CAD
		cmp	word ptr [bp+outregs+2], 2
		jnz	short loc_23CA7
		mov	ax, 2
		jmp	short loc_23CAA
; ---------------------------------------------------------------------------

loc_23CA7:				; CODE XREF: sub_23C5B+45j
		mov	ax, 1

loc_23CAA:				; CODE XREF: sub_23C5B+4Aj
		mov	ds:28EAh, ax

loc_23CAD:				; CODE XREF: sub_23C5B+1Dj
					; sub_23C5B+3Fj
		push	cs
		call	near ptr sub_23BA4
		mov	word_2B12E, 1

loc_23CB7:				; CODE XREF: sub_23C5B+Bj
		xor	ax, ax
		leave
		retf
sub_23C5B	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23CBD	proc far		; CODE XREF: s_initall:loc_1EF6DP
					; sub_1EF88+DP

outregs		= REGS ptr -20h
inregs		= REGS ptr -10h

		enter	20h, 0
		cmp	word_2B12E, 0
		jnz	short loc_23CCA
		jmp	short loc_23CF4
; ---------------------------------------------------------------------------

loc_23CCA:				; CODE XREF: sub_23CBD+9j
		push	cs
		call	near ptr sub_23BA4
		cmp	word ptr ds:28EAh, 0
		jz	short loc_23CEE
		mov	word ptr [bp+inregs], 0
		push	ss
		lea	ax, [bp+outregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	33h ; '3'       ; intno
		call	_int86
		add	sp, 0Ah

loc_23CEE:				; CODE XREF: sub_23CBD+16j
		mov	word_2B12E, 0

loc_23CF4:				; CODE XREF: sub_23CBD+Bj
		xor	ax, ax
		leave
		retf
sub_23CBD	endp

seg013		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg014		segment	byte public 'CODE' use16
		assume cs:seg014
		;org 8
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_23CFA(char *s, int, __int32)
sub_23CFA	proc far		; CODE XREF: LoadCTMIDI_DRV+Ep
					; LoadAUXDRV_DRV+Ep

ffblk		= ffblk	ptr -0A2h
dest		= byte ptr -76h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= byte ptr -0Eh
src		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
s		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	0A2h, 0
		push	si
		push	di
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	si, 1
		push	ds
		push	offset name	; "SOUND"
		call	_getenv
		add	sp, 4
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		or	ax, dx
		jz	short loc_23D6E
		push	ds
		push	offset src	; "\\DRV\\"
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		push	dx
		push	ax		; dest
		call	_strcat
		add	sp, 8
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcat
		add	sp, 8
		push	0		; attrib
		push	ss
		lea	ax, [bp+ffblk]
		push	ax		; ffblk
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_findfirst
		add	sp, 0Ah
		mov	si, ax

loc_23D6E:				; CODE XREF: sub_23CFA+27j
		or	si, si
		jz	short loc_23D9C
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		push	0		; attrib
		push	ss
		lea	ax, [bp+ffblk]
		push	ax		; ffblk
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_findfirst
		add	sp, 0Ah
		mov	si, ax

loc_23D9C:				; CODE XREF: sub_23CFA+76j
		or	si, si
		jz	short loc_23DB5
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		push	ds
		push	offset aDriverFileSDoe ; "\nDriver file	%s does	not exist."
		call	_printf
		add	sp, 8
		jmp	loc_23F7E
; ---------------------------------------------------------------------------

loc_23DB5:				; CODE XREF: sub_23CFA+A4j
		push	ss
		lea	ax, [bp+dest]
		push	ax
		call	sub_2916E
		add	sp, 4
		mov	si, ax
		cmp	ax, 0FFFFh
		jnz	short loc_23DDD
		push	ss
		lea	ax, [bp+dest]
		push	ax
		push	ds
		push	offset aOpenSError_ ; "Open %s error.\n"
		call	_printf
		add	sp, 8
		jmp	loc_23F7E
; ---------------------------------------------------------------------------

loc_23DDD:				; CODE XREF: sub_23CFA+CDj
		push	si		; handle
		call	_filelength
		pop	cx
		mov	[bp+var_10], dx
		mov	[bp+var_12], ax
		xor	di, di
		jmp	loc_23F70
; ---------------------------------------------------------------------------

loc_23DEF:				; CODE XREF: sub_23CFA+27Aj
		mov	dx, [bp+var_10]
		mov	ax, [bp+var_12]
		add	ax, 0Fh
		adc	dx, 0
		push	dx
		push	ax
		call	malloc_maybe
		add	sp, 4
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		or	ax, dx
		jnz	short loc_23E12
		jmp	loc_23F61
; ---------------------------------------------------------------------------

loc_23E12:				; CODE XREF: sub_23CFA+113j
		les	bx, [bp+arg_6]
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	ax, [bp+var_8]
		add	ax, 0Fh
		shr	ax, 4
		add	[bp+var_6], ax
		mov	[bp+var_8], 0
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		push	[bp+var_12]
		push	[bp+var_2]
		push	[bp+var_4]
		push	si
		call	sub_29128
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_23E69
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	[bp+arg_4], 0

loc_23E69:				; CODE XREF: sub_23CFA+15Ej
		cmp	[bp+arg_4], 0
		jnz	short loc_23E72
		jmp	loc_23F42
; ---------------------------------------------------------------------------

loc_23E72:				; CODE XREF: sub_23CFA+173j
		push	0		; fromwhere
		push	0
		push	0		; offset
		push	si		; handle
		call	_lseek
		add	sp, 8
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		call	_strupr
		add	sp, 4
		push	ds
		push	offset s2	; "CT-VOICE.DRV"
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_23ED6
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr dword_2BE9E+2,	dx
		mov	word ptr dword_2BE9E, ax
		push	ss
		lea	ax, [bp+var_12]
		push	ax
		push	6
		call	sub_2967B
		add	sp, 6
		or	ax, ax
		jz	short loc_23ED4
		push	ds
		push	offset aErrorRetrievin ; "\nError retrieving driver size."
		call	_printf
		add	sp, 4
		mov	di, 1

loc_23ED4:				; CODE XREF: sub_23CFA+1C9j
		jmp	short loc_23F1F
; ---------------------------------------------------------------------------

loc_23ED6:				; CODE XREF: sub_23CFA+1A9j
		push	ds
		push	offset aCtvdsk_drv ; "CTVDSK.DRV"
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_23F1D
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr dword_2BE96+2,	dx
		mov	word ptr dword_2BE96, ax
		push	ss
		lea	ax, [bp+var_12]
		push	ax
		push	6
		call	sub_2922B
		add	sp, 6
		or	ax, ax
		jz	short loc_23F1B
		push	ds
		push	offset aErrorRetriev_0 ; "\nError retrieving driver size."
		call	_printf
		add	sp, 4
		mov	di, 1

loc_23F1B:				; CODE XREF: sub_23CFA+210j
		jmp	short loc_23F1F
; ---------------------------------------------------------------------------

loc_23F1D:				; CODE XREF: sub_23CFA+1F0j
		jmp	short loc_23F77
; ---------------------------------------------------------------------------

loc_23F1F:				; CODE XREF: sub_23CFA:loc_23ED4j
					; sub_23CFA:loc_23F1Bj
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		call	sub_1275D
		add	sp, 4
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	[bp+arg_4], 0
		jmp	short loc_23F5F
; ---------------------------------------------------------------------------

loc_23F42:				; CODE XREF: sub_23CFA+175j
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jnz	short loc_23F5C
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		call	sub_1275D
		add	sp, 4

loc_23F5C:				; CODE XREF: sub_23CFA+24Ej
		mov	di, 1

loc_23F5F:				; CODE XREF: sub_23CFA+246j
		jmp	short loc_23F70
; ---------------------------------------------------------------------------

loc_23F61:				; CODE XREF: sub_23CFA+115j
		push	ds
		push	offset aMemoryAllocati ; "Memory allocation error\n"
		call	_printf
		add	sp, 4
		mov	di, 1

loc_23F70:				; CODE XREF: sub_23CFA+F2j
					; sub_23CFA:loc_23F5Fj
		or	di, di
		jnz	short loc_23F77
		jmp	loc_23DEF
; ---------------------------------------------------------------------------

loc_23F77:				; CODE XREF: sub_23CFA:loc_23F1Dj
					; sub_23CFA+278j
		push	si
		call	sub_29199
		pop	cx

loc_23F7E:				; CODE XREF: sub_23CFA+B8j
					; sub_23CFA+E0j
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
sub_23CFA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23F8A	proc far		; CODE XREF: sub_24559+15p

var_4		= dword	ptr -4

		enter	4, 0
		test	byte ptr ds:28E4h, 1
		jz	short loc_23FC5
		mov	word ptr [bp+var_4+2], 0
		mov	word ptr [bp+var_4], 184h
		push	5		; maxlen
		push	ds
		push	offset aMsdrv	; "MsDRV"
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		add	ax, 2
		push	word ptr es:[bx+2]
		push	ax		; s1
		call	_strncmp

loc_23FB8:				; CODE XREF: sub_24394+43j
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_23FC1
		jmp	short loc_23FEF
; ---------------------------------------------------------------------------

loc_23FC1:				; CODE XREF: sub_23F8A+33j
		jmp	short loc_23FF3
; ---------------------------------------------------------------------------
		jmp	short locret_23FF8
; ---------------------------------------------------------------------------

loc_23FC5:				; CODE XREF: sub_23F8A+9j
		push	ds
		push	offset aBlaster	; "BLASTER"
		call	_getenv
		add	sp, 4
		mov	ds:35DEh, dx
		mov	ds:35DCh, ax
		or	ax, dx
		jnz	short loc_23FF3
		cmp	word_29C31, 0
		jz	short loc_23FEF
		push	ds
		push	offset aBlasterEnviron ; "\nBLASTER environment	not set."
		call	_printf
		add	sp, 4

loc_23FEF:				; CODE XREF: sub_23F8A+35j
					; sub_23F8A+57j
		xor	ax, ax
		leave
		retf
; ---------------------------------------------------------------------------

loc_23FF3:				; CODE XREF: sub_23F8A:loc_23FC1j
					; sub_23F8A+50j
		mov	ax, 0FFFFh
		leave
		retf
; ---------------------------------------------------------------------------

locret_23FF8:				; CODE XREF: sub_23F8A+39j
		leave
		retf
sub_23F8A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_23FFA	proc far		; CODE XREF: sub_24559+1Dp
					; sub_24C74+39p ...
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_24012
		push	es
		push	ds
		pusha
		mov	ah, 1
		pushf
		int	61h		; reserved for user interrupt
		popf
		popa
		pop	ds
		pop	es
		jmp	short $+2

loc_24012:				; CODE XREF: sub_23FFA+8j
		pop	bp
		retf
sub_23FFA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24014	proc far		; CODE XREF: sub_24559+21p

var_2		= word ptr -2

		enter	2, 0
		xor	dx, dx
		test	byte ptr ds:28E4h, 1
		jz	short loc_24082
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 1800h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_2], ax
		popa
		pop	ds
		pop	es
		cmp	[bp+var_2], 0
		jz	short loc_2403D
		or	dx, 200h

loc_2403D:				; CODE XREF: sub_24014+23j
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 0E000h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_2], ax
		popa
		pop	ds
		pop	es
		cmp	[bp+var_2], 1
		jnz	short loc_24058
		or	dx, 1

loc_24058:				; CODE XREF: sub_24014+3Fj
		cmp	[bp+var_2], 2
		jnz	short loc_24061
		or	dx, 3

loc_24061:				; CODE XREF: sub_24014+48j
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 0F100h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_2], ax
		popa
		pop	ds
		pop	es
		cmp	[bp+var_2], 0
		jz	short loc_2407C
		or	dx, 10h

loc_2407C:				; CODE XREF: sub_24014+63j
		mov	ax, dx
		leave
		retf
; ---------------------------------------------------------------------------
		jmp	short locret_24087
; ---------------------------------------------------------------------------

loc_24082:				; CODE XREF: sub_24014+Bj
		mov	ax, 200h
		leave
		retf
; ---------------------------------------------------------------------------

locret_24087:				; CODE XREF: sub_24014+6Cj
		leave
		retf
sub_24014	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24089	proc far		; CODE XREF: LoadMusic+10Fp

var_C		= word ptr -0Ch
size		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
ptr		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	0Ch, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2409B
		jmp	short loc_240FB
; ---------------------------------------------------------------------------

loc_2409B:				; CODE XREF: sub_24089+Ej
		test	byte ptr ds:28E4h, 1
		jz	short loc_24100
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 2020h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_C], cx
		mov	[bp+size], ax
		mov	[bp+var_6], es
		mov	[bp+var_8], di
		popa
		pop	ds
		pop	es
		mov	ax, [bp+var_6]
		mov	dx, [bp+var_8]
		mov	word ptr [bp+ptr+2], ax
		mov	word ptr [bp+ptr], dx
		mov	ax, si
		shr	ax, 4
		cmp	ax, [bp+var_C]
		jbe	short loc_240D5
		jmp	short loc_240FB
; ---------------------------------------------------------------------------

loc_240D5:				; CODE XREF: sub_24089+48j
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2] ; __int32
		mov	ax, si
		shr	ax, 4
		push	ax		; n
		push	[bp+size]	; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		mov	dx, si
		shr	dx, 4
		cmp	ax, dx
		jz	short loc_24100

loc_240FB:				; CODE XREF: sub_24089+10j
					; sub_24089+4Aj
		mov	ax, 0FFFFh
		jmp	short loc_24104
; ---------------------------------------------------------------------------

loc_24100:				; CODE XREF: sub_24089+17j
					; sub_24089+70j
		xor	ax, ax
		jmp	short $+2

loc_24104:				; CODE XREF: sub_24089+75j
		pop	di
		pop	si
		leave
		retf
sub_24089	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24108	proc far		; CODE XREF: LoadMusic+12Cp

var_C		= word ptr -0Ch
size		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
ptr		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	0Ch, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2411A
		jmp	short loc_24188
; ---------------------------------------------------------------------------

loc_2411A:				; CODE XREF: sub_24108+Ej
		test	byte ptr ds:28E4h, 1
		jz	short loc_2418D
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 2030h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_C], cx
		mov	[bp+size], ax
		mov	[bp+var_6], es
		mov	[bp+var_8], di
		popa
		pop	ds
		pop	es
		mov	ax, [bp+var_6]
		mov	dx, [bp+var_8]
		mov	word ptr [bp+ptr+2], ax
		mov	word ptr [bp+ptr], dx
		mov	ax, si
		mov	bx, 30h	; '0'
		xor	dx, dx
		div	bx
		cmp	ax, [bp+var_C]
		jbe	short loc_24158
		jmp	short loc_24188
; ---------------------------------------------------------------------------

loc_24158:				; CODE XREF: sub_24108+4Cj
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2] ; __int32
		mov	ax, si
		mov	bx, 30h	; '0'
		xor	dx, dx
		div	bx
		push	ax		; n
		push	[bp+size]	; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		push	ax
		mov	ax, si
		mov	bx, 30h	; '0'
		xor	dx, dx
		div	bx
		pop	dx
		cmp	dx, ax
		jz	short loc_2418D

loc_24188:				; CODE XREF: sub_24108+10j
					; sub_24108+4Ej
		mov	ax, 0FFFFh
		jmp	short loc_24191
; ---------------------------------------------------------------------------

loc_2418D:				; CODE XREF: sub_24108+17j
					; sub_24108+7Ej
		xor	ax, ax
		jmp	short $+2

loc_24191:				; CODE XREF: sub_24108+83j
		pop	di
		pop	si
		leave
		retf
sub_24108	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24195	proc far		; CODE XREF: LoadMusic+176p
					; LoadMusic+1B0p ...

var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
ptr		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	10h, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_241A7
		jmp	short loc_24219
; ---------------------------------------------------------------------------

loc_241A7:				; CODE XREF: sub_24195+Ej
		test	byte ptr ds:28E4h, 1
		jz	short loc_2421E
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 2000h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_A], cx
		mov	[bp+var_C], dx
		mov	[bp+var_6], es
		mov	[bp+var_8], di
		popa
		pop	ds
		pop	es
		mov	ax, [bp+var_6]
		mov	dx, [bp+var_8]
		mov	word ptr [bp+ptr+2], ax
		mov	word ptr [bp+ptr], dx
		mov	ax, [bp+var_C]
		xor	dx, dx
		mov	cl, 8
		call	LXLSH@
		add	ax, [bp+var_A]
		adc	dx, 0
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		xor	ax, ax
		cmp	ax, [bp+var_E]
		jl	short loc_241FD
		jg	short loc_241FB
		cmp	si, [bp+var_10]
		jbe	short loc_241FD

loc_241FB:				; CODE XREF: sub_24195+5Fj
		jmp	short loc_24219
; ---------------------------------------------------------------------------

loc_241FD:				; CODE XREF: sub_24195+5Dj
					; sub_24195+64j
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2] ; __int32
		push	1		; n
		push	si		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		cmp	ax, 1
		jz	short loc_2421E

loc_24219:				; CODE XREF: sub_24195+10j
					; sub_24195:loc_241FBj
		mov	ax, 0FFFFh
		jmp	short loc_24222
; ---------------------------------------------------------------------------

loc_2421E:				; CODE XREF: sub_24195+17j
					; sub_24195+82j
		xor	ax, ax
		jmp	short $+2

loc_24222:				; CODE XREF: sub_24195+87j
		pop	di
		pop	si
		leave
		retf
sub_24195	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24226	proc far		; CODE XREF: sub_24823+20p
					; sub_24823+4Ap

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24232
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_24232:				; CODE XREF: sub_24226+8j
		test	byte ptr ds:28E4h, 1
		jz	short loc_24260
		cmp	[bp+arg_0], 0
		jnz	short loc_2424E
		push	es
		push	ds
		pusha
		mov	ax, 2100h
		pushf
		int	61h		; reserved for user interrupt
		popf
		popa
		pop	ds
		pop	es
		jmp	short loc_2425E
; ---------------------------------------------------------------------------

loc_2424E:				; CODE XREF: sub_24226+17j
		push	es
		push	ds
		pusha
		mov	ax, 2101h
		mov	dx, [bp+arg_0]
		pushf
		int	61h		; reserved for user interrupt
		popf
		popa
		pop	ds
		pop	es

loc_2425E:				; CODE XREF: sub_24226+26j
		jmp	short loc_24262
; ---------------------------------------------------------------------------

loc_24260:				; CODE XREF: sub_24226+11j
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_24262:				; CODE XREF: sub_24226:loc_2425Ej
		pop	bp
		retf
sub_24226	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24264	proc far		; CODE XREF: sub_248F0+16p
					; sub_248F0+68p ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24270
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_24270:				; CODE XREF: sub_24264+8j
		test	byte ptr ds:28E4h, 1
		jz	short loc_2429E
		cmp	[bp+arg_0], 0
		jnz	short loc_2428C
		push	es
		push	ds
		pusha
		mov	ax, 2200h
		pushf
		int	61h		; reserved for user interrupt
		popf
		popa
		pop	ds
		pop	es
		jmp	short loc_2429C
; ---------------------------------------------------------------------------

loc_2428C:				; CODE XREF: sub_24264+17j
		push	es
		push	ds
		pusha
		mov	ax, 2201h
		mov	dx, [bp+arg_0]
		pushf
		int	61h		; reserved for user interrupt
		popf
		popa
		pop	ds
		pop	es

loc_2429C:				; CODE XREF: sub_24264+26j
		jmp	short loc_242DB
; ---------------------------------------------------------------------------

loc_2429E:				; CODE XREF: sub_24264+11j
		cmp	[bp+arg_0], 0
		jz	short loc_242D1
		push	ds
		push	35D2h
		call	sub_294EA
		add	sp, 4
		push	0
		push	0
		push	12Ch
		push	0
		push	2
		call	sub_293A0
		add	sp, 0Ah
		call	sub_2959F
		jmp	short $+2

loc_242CA:				; CODE XREF: sub_24264+6Bj
		cmp	word ptr ds:35D2h, 0
		jnz	short loc_242CA

loc_242D1:				; CODE XREF: sub_24264+3Ej
		call	sub_298E5
		mov	byte_2B134, 0

loc_242DB:				; CODE XREF: sub_24264:loc_2429Cj
		pop	bp
		retf
sub_24264	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_242DD	proc far		; CODE XREF: sub_249C6+Bp
					; sub_24A00+1Fp ...

var_2		= word ptr -2

		enter	2, 0
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_242EA
		jmp	short loc_24318
; ---------------------------------------------------------------------------

loc_242EA:				; CODE XREF: sub_242DD+9j
		test	byte ptr ds:28E4h, 1
		jz	short loc_2430A
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 2001h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_2], ax
		popa
		pop	ds
		pop	es
		mov	ax, [bp+var_2]
		leave
		retf
; ---------------------------------------------------------------------------
		jmp	short locret_2431C
; ---------------------------------------------------------------------------

loc_2430A:				; CODE XREF: sub_242DD+12j
		cmp	word ptr ds:35D0h, 0
		jz	short loc_24318
		mov	ax, 1
		leave
		retf
; ---------------------------------------------------------------------------
		jmp	short locret_2431C
; ---------------------------------------------------------------------------

loc_24318:				; CODE XREF: sub_242DD+Bj
					; sub_242DD+32j
		xor	ax, ax
		leave
		retf
; ---------------------------------------------------------------------------

locret_2431C:				; CODE XREF: sub_242DD+2Bj
					; sub_242DD+39j
		leave
		retf
sub_242DD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2431E	proc far		; CODE XREF: sub_24A00+14p
					; sub_24A00+2Dp

var_2		= word ptr -2

		enter	2, 0
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2432E
		mov	ax, 0FFFFh
		leave
		retf
; ---------------------------------------------------------------------------

loc_2432E:				; CODE XREF: sub_2431E+9j
		test	byte ptr ds:28E4h, 1
		jz	short loc_2434E
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 2003h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_2], dx
		popa
		pop	ds
		pop	es
		mov	ax, [bp+var_2]
		leave
		retf
; ---------------------------------------------------------------------------
		jmp	short locret_24360
; ---------------------------------------------------------------------------

loc_2434E:				; CODE XREF: sub_2431E+15j
		cmp	word ptr ds:35D0h, 0
		jz	short loc_2435B
		xor	ax, ax
		leave
		retf
; ---------------------------------------------------------------------------
		jmp	short locret_24360
; ---------------------------------------------------------------------------

loc_2435B:				; CODE XREF: sub_2431E+35j
		mov	ax, 1
		leave
		retf
; ---------------------------------------------------------------------------

locret_24360:				; CODE XREF: sub_2431E+2Ej
					; sub_2431E+3Bj
		leave
		retf
sub_2431E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24362	proc far		; CODE XREF: sub_249F3+7p

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2436E
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_2436E:				; CODE XREF: sub_24362+8j
		test	byte ptr ds:28E4h, 1
		jz	short loc_2438C
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 2004h
		mov	dx, [bp+arg_0]
		mov	bp, 0
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		popa
		pop	ds
		pop	es
		jmp	short loc_24392
; ---------------------------------------------------------------------------

loc_2438C:				; CODE XREF: sub_24362+11j
		mov	word ptr ds:35D0h, 0

loc_24392:				; CODE XREF: sub_24362+28j
		pop	bp
		retf
sub_24362	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24394	proc far		; CODE XREF: sub_24663+Fp
					; sub_24663+1Cp ...

var_3		= byte ptr -3
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	4, 0
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_243A1
		jmp	short loc_243EB
; ---------------------------------------------------------------------------

loc_243A1:				; CODE XREF: sub_24394+9j
		test	byte ptr ds:28E4h, 1
		jz	short loc_243CC
		mov	al, byte ptr [bp+arg_0]
		mov	[bp+var_3], al
		push	es
		push	ds
		pusha
		push	bp
		mov	al, [bp+var_3]
		mov	ah, 8
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_2], dx
		popa
		pop	ds
		pop	es
		mov	ax, [bp+var_2]
		and	ax, 7Fh
		leave
		retf
; ---------------------------------------------------------------------------
		jmp	short locret_243EF
; ---------------------------------------------------------------------------

loc_243CC:				; CODE XREF: sub_24394+12j
		mov	bx, [bp+arg_0]
		dec	bx
		cmp	bx, 5
		ja	short loc_243EB
		add	bx, bx
		jmp	cs:off_243F1[bx]

loc_243DC:				; DATA XREF: seg014:off_243F1o
		push	2
		call	sub_29485
		pop	cx
		and	ax, 0FFh
		shr	ax, 1
		leave
		retf
; ---------------------------------------------------------------------------

loc_243EB:				; CODE XREF: sub_24394+Bj
					; sub_24394+3Fj ...
		xor	ax, ax
		leave
		retf
; ---------------------------------------------------------------------------

locret_243EF:				; CODE XREF: sub_24394+36j
		leave
		retf
sub_24394	endp

; ---------------------------------------------------------------------------
off_243F1	dw offset loc_243DC	; DATA XREF: sub_24394+43r
		dw offset loc_243EB
		dw offset loc_243EB
		dw offset loc_243EB
		dw offset loc_243EB
		dw offset loc_243EB

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_243FD	proc far		; CODE XREF: sub_246B6+21p
					; sub_246B6+3Dp ...

var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2440A
		leave
		retf
; ---------------------------------------------------------------------------

loc_2440A:				; CODE XREF: sub_243FD+9j
		test	byte ptr ds:28E4h, 1
		jz	short loc_24430
		mov	al, byte ptr [bp+arg_0]
		mov	[bp+var_1], al
		push	es
		push	ds
		pusha
		push	bp
		mov	al, [bp+var_1]
		mov	ah, 9
		mov	dx, [bp+arg_2]
		mov	bp, 0
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		popa
		pop	ds
		pop	es
		jmp	short locret_2445C
; ---------------------------------------------------------------------------

loc_24430:				; CODE XREF: sub_243FD+12j
		mov	bx, [bp+arg_0]
		dec	bx
		cmp	bx, 5
		ja	short loc_24458
		add	bx, bx
		jmp	cs:off_2445E[bx]

loc_24440:				; DATA XREF: seg014:off_2445Eo
		mov	ax, [bp+arg_0]
		shl	ax, 8
		add	ax, [bp+arg_0]
		add	ax, ax
		push	ax
		push	2
		call	sub_29586
		add	sp, 4
		jmp	short locret_2445A
; ---------------------------------------------------------------------------

loc_24458:				; CODE XREF: sub_243FD+3Aj
					; sub_243FD+3Ej
					; DATA XREF: ...
		jmp	short $+2

locret_2445A:				; CODE XREF: sub_243FD+59j
		leave
		retf
; ---------------------------------------------------------------------------

locret_2445C:				; CODE XREF: sub_243FD+31j
		leave
		retf
sub_243FD	endp

; ---------------------------------------------------------------------------
off_2445E	dw offset loc_24440	; DATA XREF: sub_243FD+3Er
		dw offset loc_24458
		dw offset loc_24458
		dw offset loc_24458
		dw offset loc_24458
		dw offset loc_24458

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2446A	proc far		; CODE XREF: LoadSFX+69p

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
ptr		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		enter	0Ah, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2447C
		jmp	short loc_244CA
; ---------------------------------------------------------------------------

loc_2447C:				; CODE XREF: sub_2446A+Ej
		test	byte ptr ds:28E4h, 1
		jz	short loc_244D1
		push	es
		push	ds
		pusha
		push	bp
		mov	ax, 4800h
		pushf
		int	61h		; reserved for user interrupt
		popf
		pop	bp
		mov	[bp+var_A], cx
		mov	[bp+var_6], es
		mov	[bp+var_8], di
		popa
		pop	ds
		pop	es
		mov	ax, [bp+var_6]
		mov	dx, [bp+var_8]
		mov	word ptr [bp+ptr+2], ax
		mov	word ptr [bp+ptr], dx
		cmp	[bp+var_A], si
		jnb	short loc_244AE
		jmp	short loc_244CA
; ---------------------------------------------------------------------------

loc_244AE:				; CODE XREF: sub_2446A+40j
		push	word ptr [bp+arg_2+2]
		push	word ptr [bp+arg_2] ; __int32
		push	1		; n
		push	si		; size
		push	word ptr [bp+ptr+2]
		push	word ptr [bp+ptr] ; ptr
		call	fread1
		add	sp, 0Ch
		cmp	ax, 1
		jz	short loc_244CF

loc_244CA:				; CODE XREF: sub_2446A+10j
					; sub_2446A+42j
		mov	ax, 0FFFFh
		jmp	short loc_244D5
; ---------------------------------------------------------------------------

loc_244CF:				; CODE XREF: sub_2446A+5Ej
		jmp	short $+2

loc_244D1:				; CODE XREF: sub_2446A+17j
		xor	ax, ax
		jmp	short $+2

loc_244D5:				; CODE XREF: sub_2446A+63j
		pop	di
		pop	si
		leave
		retf
sub_2446A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_244D9	proc far		; CODE XREF: sub_24E03+19p
					; sub_24E03+44p

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_244E5
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_244E5:				; CODE XREF: sub_244D9+8j
		test	byte ptr ds:28E4h, 1
		jz	short loc_244FE
		push	es
		push	ds
		pusha
		mov	ax, 4000h
		mov	bx, [bp+arg_0]
		pushf
		int	61h		; reserved for user interrupt
		popf
		popa
		pop	ds
		pop	es
		jmp	short loc_24547
; ---------------------------------------------------------------------------

loc_244FE:				; CODE XREF: sub_244D9+11j
		mov	bx, [bp+arg_0]
		cmp	bx, 7
		ja	short loc_24545
		add	bx, bx
		jmp	cs:off_24549[bx]

loc_2450D:				; DATA XREF: seg014:off_24549o
		push	ds
		push	offset a0camera_wav ; "0camera.wav"
		jmp	short loc_2453B
; ---------------------------------------------------------------------------

loc_24513:				; CODE XREF: sub_244D9+2Fj
					; DATA XREF: seg014:085Bo
		push	ds
		push	offset a1knock_wav ; "1knock.wav"
		jmp	short loc_2453B
; ---------------------------------------------------------------------------

loc_24519:				; CODE XREF: sub_244D9+2Fj
					; DATA XREF: seg014:085Do
		push	ds
		push	offset a2paso_wav ; "2paso.wav"
		jmp	short loc_2453B
; ---------------------------------------------------------------------------

loc_2451F:				; CODE XREF: sub_244D9+2Fj
					; DATA XREF: seg014:085Fo
		push	ds
		push	offset a3ping_wav ; "3ping.wav"
		jmp	short loc_2453B
; ---------------------------------------------------------------------------

loc_24525:				; CODE XREF: sub_244D9+2Fj
					; DATA XREF: seg014:0861o
		push	ds
		push	offset a4ping_wav ; "4ping.wav"
		jmp	short loc_2453B
; ---------------------------------------------------------------------------

loc_2452B:				; CODE XREF: sub_244D9+2Fj
					; DATA XREF: seg014:0863o
		push	ds
		push	offset a5ping1_wav ; "5ping1.wav"
		jmp	short loc_2453B
; ---------------------------------------------------------------------------

loc_24531:				; CODE XREF: sub_244D9+2Fj
					; DATA XREF: seg014:0865o
		push	ds
		push	offset a6ring_wav ; "6ring.wav"
		jmp	short loc_2453B
; ---------------------------------------------------------------------------

loc_24537:				; CODE XREF: sub_244D9+2Fj
					; DATA XREF: seg014:0867o
		push	ds
		push	offset a7busy_wav ; "7busy.wav"

loc_2453B:				; CODE XREF: sub_244D9+38j
					; sub_244D9+3Ej ...
		call	sub_25374
		add	sp, 4
		jmp	short loc_24547
; ---------------------------------------------------------------------------

loc_24545:				; CODE XREF: sub_244D9+2Bj
		jmp	short $+2

loc_24547:				; CODE XREF: sub_244D9+23j
					; sub_244D9+6Aj
		pop	bp
		retf
sub_244D9	endp

; ---------------------------------------------------------------------------
off_24549	dw offset loc_2450D	; DATA XREF: sub_244D9+2Fr
		dw offset loc_24513
		dw offset loc_24519
		dw offset loc_2451F
		dw offset loc_24525
		dw offset loc_2452B
		dw offset loc_24531
		dw offset loc_24537

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24559	proc far		; CODE XREF: s_initall:loc_1EF5CP
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_24591
		cmp	word_2B135, 0
		jz	short loc_2456D
		jmp	loc_2462C
; ---------------------------------------------------------------------------

loc_2456D:				; CODE XREF: sub_24559+Fj
		push	cs
		call	near ptr sub_23F8A
		or	ax, ax
		jz	short loc_24582
		push	cs
		call	near ptr sub_23FFA
		push	cs
		call	near ptr sub_24014
		mov	ds:28F0h, ax
		jmp	short loc_24588
; ---------------------------------------------------------------------------

loc_24582:				; CODE XREF: sub_24559+1Aj
		mov	word ptr ds:28F0h, 0

loc_24588:				; CODE XREF: sub_24559+27j
		mov	word_2B135, 1
		jmp	loc_2462C
; ---------------------------------------------------------------------------

loc_24591:				; CODE XREF: sub_24559+8j
		push	ds
		push	offset aBlaster_0 ; "BLASTER"
		call	_getenv
		add	sp, 4
		mov	ds:35DEh, dx
		mov	ds:35DCh, ax
		or	ax, dx
		jnz	short loc_245C3
		cmp	word_29C31, 0
		jz	short loc_245BB
		push	ds
		push	offset aBlasterEnvir_0 ; "\nBLASTER environment	not set."
		call	_puts
		add	sp, 4

loc_245BB:				; CODE XREF: sub_24559+54j
		mov	word ptr ds:28F0h, 0
		jmp	short loc_2462C
; ---------------------------------------------------------------------------

loc_245C3:				; CODE XREF: sub_24559+4Dj
		mov	word ptr ds:28F0h, 200h
		push	word ptr ds:35DEh
		push	word ptr ds:35DCh
		nop
		push	cs
		call	near ptr LoadCTMIDI_DRV
		add	sp, 4
		or	ax, ax
		jz	short loc_245F8
		cmp	word_29C31, 0
		jz	short loc_245F0
		push	ds
		push	offset aErrorCtmididrv ; "\nerror CTMIDIDRV"
		call	_puts
		add	sp, 4

loc_245F0:				; CODE XREF: sub_24559+89j
		mov	word ptr ds:28F0h, 0
		jmp	short loc_2462C
; ---------------------------------------------------------------------------

loc_245F8:				; CODE XREF: sub_24559+82j
		push	word ptr ds:35DEh
		push	word ptr ds:35DCh
		nop
		push	cs
		call	near ptr LoadAUXDRV_DRV
		add	sp, 4
		or	ax, ax
		jz	short loc_24627
		mov	word ptr ds:28F0h, 0
		cmp	word_29C31, 0
		jz	short loc_24625
		push	ds
		push	offset aErrorCtauxdrv ;	"error CTAUXDRV"
		call	_puts
		add	sp, 4

loc_24625:				; CODE XREF: sub_24559+BEj
		jmp	short loc_2462C
; ---------------------------------------------------------------------------

loc_24627:				; CODE XREF: sub_24559+B1j
		call	sub_29840

loc_2462C:				; CODE XREF: sub_24559+11j
					; sub_24559+35j ...
		xor	ax, ax
		pop	bp
		retf
sub_24559	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24632	proc far		; CODE XREF: sub_1EF88+6P
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_2464F
		cmp	word_2B135, 0
		jnz	short loc_24645
		jmp	short loc_2465D
; ---------------------------------------------------------------------------

loc_24645:				; CODE XREF: sub_24632+Fj
		mov	word_2B135, 0
		jmp	short loc_2465D
; ---------------------------------------------------------------------------
		jmp	short loc_24661
; ---------------------------------------------------------------------------

loc_2464F:				; CODE XREF: sub_24632+8j
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24658
		jmp	short loc_2465D
; ---------------------------------------------------------------------------

loc_24658:				; CODE XREF: sub_24632+22j
		call	sub_29855

loc_2465D:				; CODE XREF: sub_24632+11j
					; sub_24632+19j ...
		xor	ax, ax
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_24661:				; CODE XREF: sub_24632+1Bj
		pop	bp
		retf
sub_24632	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24663	proc far		; CODE XREF: sub_24823+2Bp
					; sub_248F0+2Ap ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2466F
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_2466F:				; CODE XREF: sub_24663+8j
		push	1
		push	cs
		call	near ptr sub_24394
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		push	3
		push	cs
		call	near ptr sub_24394
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+2], ax
		push	4
		push	cs
		call	near ptr sub_24394
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+4], ax
		push	5
		push	cs
		call	near ptr sub_24394
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+6], ax
		push	6
		push	cs
		call	near ptr sub_24394
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+8], ax
		pop	bp
		retf
sub_24663	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_246B6	proc far		; CODE XREF: sub_2474F+70p
					; sub_247C8+53p ...

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_246C2
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_246C2:				; CODE XREF: sub_246B6+8j
		test	byte ptr word_29C3D, 1
		jz	short loc_246CD
		xor	ax, ax
		jmp	short loc_246D3
; ---------------------------------------------------------------------------

loc_246CD:				; CODE XREF: sub_246B6+11j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]

loc_246D3:				; CODE XREF: sub_246B6+15j
		push	ax
		push	1
		push	cs
		call	near ptr sub_243FD
		add	sp, 4
		test	byte ptr word_29C3D, 2
		jz	short loc_246E8
		xor	ax, ax
		jmp	short loc_246EF
; ---------------------------------------------------------------------------

loc_246E8:				; CODE XREF: sub_246B6+2Cj
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]

loc_246EF:				; CODE XREF: sub_246B6+30j
		push	ax
		push	3
		push	cs
		call	near ptr sub_243FD
		add	sp, 4
		test	byte ptr word_29C3D, 4
		jz	short loc_24704
		xor	ax, ax
		jmp	short loc_2470B
; ---------------------------------------------------------------------------

loc_24704:				; CODE XREF: sub_246B6+48j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]

loc_2470B:				; CODE XREF: sub_246B6+4Cj
		push	ax
		push	4
		push	cs
		call	near ptr sub_243FD
		add	sp, 4
		test	byte ptr word_29C3D, 8
		jz	short loc_24720
		xor	ax, ax
		jmp	short loc_24727
; ---------------------------------------------------------------------------

loc_24720:				; CODE XREF: sub_246B6+64j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]

loc_24727:				; CODE XREF: sub_246B6+68j
		push	ax
		push	5
		push	cs
		call	near ptr sub_243FD
		add	sp, 4
		test	byte ptr word_29C3D, 10h
		jz	short loc_2473C
		xor	ax, ax
		jmp	short loc_24743
; ---------------------------------------------------------------------------

loc_2473C:				; CODE XREF: sub_246B6+80j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]

loc_24743:				; CODE XREF: sub_246B6+84j
		push	ax
		push	6
		push	cs
		call	near ptr sub_243FD
		add	sp, 4
		pop	bp
		retf
sub_246B6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2474F	proc far		; CODE XREF: sub_24823+39p
					; sub_24823+64p ...

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	0Ah, 0
		push	si
		mov	si, [bp+arg_4]
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24760
		jmp	short loc_247C5
; ---------------------------------------------------------------------------

loc_24760:				; CODE XREF: sub_2474F+Dj
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		imul	si
		sar	ax, 8
		mov	[bp+var_A], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		imul	si
		sar	ax, 9
		add	ax, 40h	; '@'
		mov	[bp+var_8], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		imul	si
		sar	ax, 8
		imul	ax, 3
		sar	ax, 2
		add	ax, 20h	; ' '
		mov	[bp+var_6], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		imul	si
		sar	ax, 8
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		imul	si
		sar	ax, 9
		add	ax, 40h	; '@'
		mov	[bp+var_2], ax
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_246B6
		add	sp, 4

loc_247C5:				; CODE XREF: sub_2474F+Fj
		pop	si
		leave
		retf
sub_2474F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_247C8	proc far		; CODE XREF: sub_24E03+34p

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	0Ah, 0
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_247D5
		leave
		retf
; ---------------------------------------------------------------------------

loc_247D5:				; CODE XREF: sub_247C8+9j
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		mov	[bp+var_A], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_8], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		imul	[bp+arg_4]
		sar	ax, 8
		imul	ax, 3
		sar	ax, 2
		add	ax, 20h	; ' '
		mov	[bp+var_6], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		mov	[bp+var_4], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		mov	[bp+var_2], ax
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_246B6
		add	sp, 4
		leave
		retf
sub_247C8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24823	proc far		; CODE XREF: seg002:2DAEP seg002:330CP ...

var_C		= byte ptr -0Ch
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Ch, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		test	byte ptr ds:28E4h, 1
		jnz	short loc_24836
		jmp	loc_248C3
; ---------------------------------------------------------------------------

loc_24836:				; CODE XREF: sub_24823+Ej
		or	si, si
		jz	short loc_24841
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24848

loc_24841:				; CODE XREF: sub_24823+15j
		push	si
		push	cs
		call	near ptr sub_24226
		jmp	short loc_248B8
; ---------------------------------------------------------------------------

loc_24848:				; CODE XREF: sub_24823+1Cj
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	cs
		call	near ptr sub_24663
		add	sp, 4
		push	0
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	cs
		call	near ptr sub_2474F
		add	sp, 6
		push	2
		call	sub_1EFC4
		pop	cx
		push	0
		push	cs
		call	near ptr sub_24226
		pop	cx
		push	2
		call	sub_1EFC4
		pop	cx
		mov	[bp+var_2], si
		xor	di, di
		jmp	short loc_2489F
; ---------------------------------------------------------------------------

loc_24880:				; CODE XREF: sub_24823+80j
		push	di
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	cs
		call	near ptr sub_2474F
		add	sp, 6
		dec	[bp+var_2]
		jg	short loc_2489E
		push	[bp+arg_2]
		call	sub_1EFC4
		pop	cx
		mov	[bp+var_2], si

loc_2489E:				; CODE XREF: sub_24823+6Dj
		inc	di

loc_2489F:				; CODE XREF: sub_24823+5Bj
		cmp	di, 100h
		jl	short loc_24880
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	cs
		call	near ptr sub_246B6
		add	sp, 4
		push	1
		call	sub_1EFC4

loc_248B8:				; CODE XREF: sub_24823+23j
		pop	cx
		push	2
		call	sub_1EFC4
		pop	cx
		jmp	short loc_248EC
; ---------------------------------------------------------------------------

loc_248C3:				; CODE XREF: sub_24823+10j
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_248CC
		jmp	short loc_248EC
; ---------------------------------------------------------------------------

loc_248CC:				; CODE XREF: sub_24823+A5j
		mov	ax, word_2B130
		or	ax, word_2B132
		jz	short loc_248EA
		push	word_2B132
		push	word_2B130
		nop
		push	cs
		call	near ptr sub_24F8B
		add	sp, 4
		mov	byte_2B134, 1

loc_248EA:				; CODE XREF: sub_24823+B0j
		jmp	short $+2

loc_248EC:				; CODE XREF: sub_24823+9Ej
					; sub_24823+A7j
		pop	di
		pop	si
		leave
		retf
sub_24823	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_248F0	proc far		; CODE XREF: func+28P seg002:2DF2P ...

var_A		= byte ptr -0Ah
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Ah, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		or	di, di
		jz	short loc_24904
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_2490D

loc_24904:				; CODE XREF: sub_248F0+Bj
		push	di
		push	cs
		call	near ptr sub_24264
		pop	cx
		jmp	loc_249C2
; ---------------------------------------------------------------------------

loc_2490D:				; CODE XREF: sub_248F0+12j
		test	byte ptr ds:28E4h, 1
		jz	short loc_24969
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_24663
		add	sp, 4
		call	sub_1F0F9
		mov	si, 100h
		jmp	short loc_24942
; ---------------------------------------------------------------------------

loc_2492A:				; CODE XREF: sub_248F0+54j
		push	si
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_2474F
		add	sp, 6
		push	[bp+arg_2]
		call	sub_1F08D
		pop	cx
		sub	si, di

loc_24942:				; CODE XREF: sub_248F0+38j
		or	si, si
		jg	short loc_2492A
		xor	si, si
		push	si
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_2474F
		add	sp, 6
		push	0
		push	cs
		call	near ptr sub_24264
		pop	cx
		jmp	short $+2

loc_2495E:				; CODE XREF: sub_248F0+75j
		nop
		push	cs
		call	near ptr sub_249C6
		or	ax, ax
		jnz	short loc_2495E
		jmp	short loc_249B6
; ---------------------------------------------------------------------------

loc_24969:				; CODE XREF: sub_248F0+22j
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24972
		jmp	short loc_249C2
; ---------------------------------------------------------------------------

loc_24972:				; CODE XREF: sub_248F0+7Ej
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_24663
		add	sp, 4
		push	ds
		push	35D2h
		call	sub_294EA
		add	sp, 4
		push	0
		push	0
		push	12Ch
		push	0
		push	2
		call	sub_293A0
		add	sp, 0Ah
		call	sub_2959F
		jmp	short $+2

loc_249A4:				; CODE XREF: sub_248F0+B9j
		cmp	word ptr ds:35D2h, 0
		jnz	short loc_249A4
		push	di
		push	cs
		call	near ptr sub_24264
		pop	cx
		call	sub_298E5

loc_249B6:				; CODE XREF: sub_248F0+77j
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_246B6
		add	sp, 4

loc_249C2:				; CODE XREF: sub_248F0+1Aj
					; sub_248F0+80j
		pop	di
		pop	si
		leave
		retf
sub_248F0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_249C6	proc far		; CODE XREF: func:loc_19A5BP
					; RunSCE:scnExecEndP ...
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_249D8
		push	cs
		call	near ptr sub_242DD
		pop	bp
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_249F1
; ---------------------------------------------------------------------------

loc_249D8:				; CODE XREF: sub_249C6+8j
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_249E1
		jmp	short loc_249ED
; ---------------------------------------------------------------------------

loc_249E1:				; CODE XREF: sub_249C6+17j
		cmp	word ptr ds:35D0h, 0
		jz	short loc_249ED
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_249ED:				; CODE XREF: sub_249C6+19j
					; sub_249C6+20j
		xor	ax, ax
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_249F1:				; CODE XREF: sub_249C6+10j
		pop	bp
		retf
sub_249C6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_249F3	proc far		; CODE XREF: seg002:2E1EP

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_24362
		pop	cx
		pop	bp
		retf
sub_249F3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24A00	proc far		; CODE XREF: seg002:2E42P
					; sub_24C74+71p

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24A0C
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_24A0C:				; CODE XREF: sub_24A00+8j
		test	byte ptr ds:28E4h, 1
		jz	short loc_24A2C

loc_24A13:				; CODE XREF: sub_24A00:loc_24A28j
		push	cs
		call	near ptr sub_2431E
		cmp	ax, [bp+arg_0]
		jl	short loc_24A1E
		jmp	short loc_24A2A
; ---------------------------------------------------------------------------

loc_24A1E:				; CODE XREF: sub_24A00+1Aj
		push	cs
		call	near ptr sub_242DD
		or	ax, ax
		jnz	short loc_24A28
		jmp	short loc_24A2A
; ---------------------------------------------------------------------------

loc_24A28:				; CODE XREF: sub_24A00+24j
		jmp	short loc_24A13
; ---------------------------------------------------------------------------

loc_24A2A:				; CODE XREF: sub_24A00+1Cj
					; sub_24A00+26j
		jmp	short loc_24A43
; ---------------------------------------------------------------------------

loc_24A2C:				; CODE XREF: sub_24A00+11j
					; sub_24A00:loc_24A41j
		push	cs
		call	near ptr sub_2431E
		cmp	ax, 1
		jl	short loc_24A37
		jmp	short loc_24A43
; ---------------------------------------------------------------------------

loc_24A37:				; CODE XREF: sub_24A00+33j
		push	cs
		call	near ptr sub_242DD
		or	ax, ax
		jnz	short loc_24A41
		jmp	short loc_24A43
; ---------------------------------------------------------------------------

loc_24A41:				; CODE XREF: sub_24A00+3Dj
		jmp	short loc_24A2C
; ---------------------------------------------------------------------------

loc_24A43:				; CODE XREF: sub_24A00:loc_24A2Aj
					; sub_24A00+35j ...
		pop	bp
		retf
sub_24A00	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24A45	proc far		; CODE XREF: LoadMusic+72p
					; LoadMusic+89p ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	ax, bx
		sar	ax, 8
		and	ax, 0FFh
		mov	dx, bx
		shl	dx, 8
		and	dx, 0FF00h
		or	ax, dx
		pop	bp
		retf
sub_24A45	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far LoadMusic(char *src)
LoadMusic	proc far		; CODE XREF: sub_24C74+49p
					; sub_24C74+90p

var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
ptr		= dword	ptr -0Ch
var_4		= dword	ptr -4
src		= dword	ptr  6

		enter	12h, 0
		push	si
		push	di
		push	0
		push	0		; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen1
		add	sp, 8
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_24A8B
		jmp	loc_24C5D
; ---------------------------------------------------------------------------

loc_24A8B:				; CODE XREF: LoadMusic+24j
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	1		; n
		push	4		; size
		push	ss
		lea	ax, [bp+ptr+2]
		push	ax		; ptr
		call	fread1
		add	sp, 0Ch
		cmp	ax, 1
		jz	short loc_24AAA
		jmp	loc_24C5D
; ---------------------------------------------------------------------------

loc_24AAA:				; CODE XREF: LoadMusic+43j
		push	4		; maxlen
		push	ds
		push	offset aMf01	; "MF01"
		push	ss
		lea	ax, [bp+ptr+2]
		push	ax		; s1
		call	_strncmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_24AC4
		jmp	loc_24C5D
; ---------------------------------------------------------------------------

loc_24AC4:				; CODE XREF: LoadMusic+5Dj
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EE69
		add	sp, 4
		push	ax
		push	cs
		call	near ptr sub_24A45
		pop	cx
		mov	word ptr [bp+ptr], ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EE69
		add	sp, 4
		push	ax
		push	cs
		call	near ptr sub_24A45
		pop	cx
		mov	[bp+var_E], ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EE69
		add	sp, 4
		push	ax
		push	cs
		call	near ptr sub_24A45
		pop	cx
		mov	[bp+var_10], ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EE69
		add	sp, 4
		push	ax
		push	cs
		call	near ptr sub_24A45
		pop	cx
		mov	si, ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EE69
		add	sp, 4
		push	ax
		push	cs
		call	near ptr sub_24A45
		pop	cx
		mov	di, ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EE69
		add	sp, 4
		push	ax
		push	cs
		call	near ptr sub_24A45
		pop	cx
		mov	[bp+var_12], ax
		push	1		; whence
		push	0
		push	word ptr [bp+ptr] ; offset
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		call	fseek
		add	sp, 0Ah
		cmp	[bp+var_E], 0
		jz	short loc_24B7E
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+var_E]
		push	cs
		call	near ptr sub_24089
		add	sp, 6
		or	ax, ax
		jz	short loc_24B7E
		jmp	loc_24C5D
; ---------------------------------------------------------------------------

loc_24B7E:				; CODE XREF: LoadMusic+103j
					; LoadMusic+117j
		cmp	[bp+var_10], 0
		jz	short loc_24B9B
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+var_10]
		push	cs
		call	near ptr sub_24108
		add	sp, 6
		or	ax, ax
		jz	short loc_24B9B
		jmp	loc_24C5D
; ---------------------------------------------------------------------------

loc_24B9B:				; CODE XREF: LoadMusic+120j
					; LoadMusic+134j
		cmp	[bp+var_12], 0
		jz	short loc_24BEC
		test	byte ptr ds:28F1h, 2
		jz	short loc_24BEC
		push	1		; whence
		push	0
		push	si		; offset
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		call	fseek
		add	sp, 0Ah
		push	1		; whence
		push	0
		push	di		; offset
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		call	fseek
		add	sp, 0Ah
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+var_12]
		push	cs
		call	near ptr sub_24195
		add	sp, 6
		or	ax, ax
		jz	short loc_24BE4
		jmp	short loc_24C5D
; ---------------------------------------------------------------------------

loc_24BE4:				; CODE XREF: LoadMusic+17Ej
		mov	word_2B137, 200h
		jmp	short loc_24C4B
; ---------------------------------------------------------------------------

loc_24BEC:				; CODE XREF: LoadMusic+13Dj
					; LoadMusic+144j
		or	di, di
		jz	short loc_24C26
		test	byte ptr ds:28F0h, 2
		jz	short loc_24C26
		push	1		; whence
		push	0
		push	si		; offset
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		call	fseek
		add	sp, 0Ah
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	di
		push	cs
		call	near ptr sub_24195
		add	sp, 6
		or	ax, ax
		jz	short loc_24C1E
		jmp	short loc_24C5D
; ---------------------------------------------------------------------------

loc_24C1E:				; CODE XREF: LoadMusic+1B8j
		mov	word_2B137, 2
		jmp	short loc_24C4B
; ---------------------------------------------------------------------------

loc_24C26:				; CODE XREF: LoadMusic+18Cj
					; LoadMusic+193j
		or	si, si
		jz	short loc_24C4B
		test	byte ptr ds:28F0h, 1
		jz	short loc_24C4B
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	si
		push	cs
		call	near ptr sub_24195
		add	sp, 6
		or	ax, ax
		jz	short loc_24C45
		jmp	short loc_24C5D
; ---------------------------------------------------------------------------

loc_24C45:				; CODE XREF: LoadMusic+1DFj
		mov	word_2B137, 1

loc_24C4B:				; CODE XREF: LoadMusic+188j
					; LoadMusic+1C2j ...
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EB2E
		add	sp, 4
		xor	ax, ax
		jmp	short loc_24C70
; ---------------------------------------------------------------------------

loc_24C5D:				; CODE XREF: LoadMusic+26j
					; LoadMusic+45j ...
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_1EB2E
		add	sp, 4
		mov	ax, 0FFFFh
		jmp	short $+2

loc_24C70:				; CODE XREF: LoadMusic+1F9j
		pop	di
		pop	si
		leave
		retf
LoadMusic	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_24C74(char *src)
sub_24C74	proc far		; CODE XREF: seg002:2D37P seg002:32E1P

src		= dword	ptr  6

		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jnz	short loc_24C81
		jmp	loc_24D0E
; ---------------------------------------------------------------------------

loc_24C81:				; CODE XREF: sub_24C74+8j
		push	cs
		call	near ptr sub_249C6
		or	ax, ax
		jz	short loc_24C94
		push	0
		push	0
		push	cs
		call	near ptr sub_248F0
		add	sp, 4

loc_24C94:				; CODE XREF: sub_24C74+13j
		mov	word_2B137, 0
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24CA4
		jmp	loc_24D5B
; ---------------------------------------------------------------------------

loc_24CA4:				; CODE XREF: sub_24C74+2Bj
		push	0Ah
		call	sub_1EFC4
		pop	cx
		push	cs
		call	near ptr sub_23FFA
		push	0Ah
		call	sub_1EFC4
		pop	cx
		push	ds
		push	offset aInitdev_mf ; "initdev.mf"
		push	cs
		call	near ptr LoadMusic
		add	sp, 4
		or	ax, ax
		jnz	short loc_24CFD
		push	0Ah
		call	sub_1EFC4
		pop	cx
		push	0
		push	0
		push	cs
		call	near ptr sub_24823
		add	sp, 4
		push	0Ah
		call	sub_1EFC4
		pop	cx
		push	1
		push	cs
		call	near ptr sub_24A00
		pop	cx
		push	0Ah
		call	sub_1EFC4
		pop	cx
		push	cs
		call	near ptr sub_23FFA
		push	0Ah
		call	sub_1EFC4
		pop	cx

loc_24CFD:				; CODE XREF: sub_24C74+51j
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	cs
		call	near ptr LoadMusic
		add	sp, 4
		pop	bp
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_24D5F
; ---------------------------------------------------------------------------

loc_24D0E:				; CODE XREF: sub_24C74+Aj
		push	cs
		call	near ptr sub_249C6
		or	ax, ax
		jz	short loc_24D21
		push	0
		push	0
		push	cs
		call	near ptr sub_248F0
		add	sp, 4

loc_24D21:				; CODE XREF: sub_24C74+A0j
		mov	ax, word_2B130
		or	ax, word_2B132
		jz	short loc_24D46
		push	word_2B132
		push	word_2B130
		call	sub_1275D
		add	sp, 4
		mov	word_2B132, 0
		mov	word_2B130, 0

loc_24D46:				; CODE XREF: sub_24C74+B4j
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		nop
		push	cs
		call	near ptr sub_24FF9
		add	sp, 4
		mov	word_2B132, dx
		mov	word_2B130, ax

loc_24D5B:				; CODE XREF: sub_24C74+2Dj
		xor	ax, ax
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_24D5F:				; CODE XREF: sub_24C74+98j
		pop	bp
		retf
sub_24C74	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far LoadSFX(char *src)
LoadSFX		proc far		; CODE XREF: _main+14EP

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
src		= dword	ptr  6

		enter	8, 0
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24D6F
		jmp	loc_24DFD
; ---------------------------------------------------------------------------

loc_24D6F:				; CODE XREF: LoadSFX+9j
		test	byte ptr ds:28E4h, 1
		jnz	short loc_24D79
		jmp	loc_24DFD
; ---------------------------------------------------------------------------

loc_24D79:				; CODE XREF: LoadSFX+13j
		push	0
		push	0		; s
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		call	fopen1
		add	sp, 8
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_24D9B
		jmp	short loc_24DE8
; ---------------------------------------------------------------------------

loc_24D9B:				; CODE XREF: LoadSFX+36j
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_1EBFB
		add	sp, 4
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	[bp+var_6], 0
		jl	short loc_24DC0
		jg	short loc_24DBE
		cmp	[bp+var_8], 0F000h
		jbe	short loc_24DC0

loc_24DBE:				; CODE XREF: LoadSFX+54j
		jmp	short loc_24DE8
; ---------------------------------------------------------------------------

loc_24DC0:				; CODE XREF: LoadSFX+52j LoadSFX+5Bj
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+var_8]
		push	cs
		call	near ptr sub_2446A
		add	sp, 6
		or	ax, ax
		jz	short loc_24DD6
		jmp	short loc_24DE8
; ---------------------------------------------------------------------------

loc_24DD6:				; CODE XREF: LoadSFX+71j
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_1EB2E
		add	sp, 4
		jmp	short loc_24DFD
; ---------------------------------------------------------------------------
		jmp	short loc_24DFD
; ---------------------------------------------------------------------------

loc_24DE8:				; CODE XREF: LoadSFX+38j
					; LoadSFX:loc_24DBEj ...
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_1EB2E
		add	sp, 4
		mov	ax, 0FFFFh
		leave
		retf
; ---------------------------------------------------------------------------
		jmp	short locret_24E01
; ---------------------------------------------------------------------------

loc_24DFD:				; CODE XREF: LoadSFX+Bj LoadSFX+15j ...
		xor	ax, ax
		leave
		retf
; ---------------------------------------------------------------------------

locret_24E01:				; CODE XREF: LoadSFX+9Aj
		leave
		retf
LoadSFX		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24E03	proc far		; CODE XREF: seg002:2E7EP

var_A		= byte ptr -0Ah
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Ah, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, [bp+arg_2]
		or	di, di
		jz	short loc_24E1A
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24E22

loc_24E1A:				; CODE XREF: sub_24E03+Ej
		push	si
		push	cs
		call	near ptr sub_244D9
		pop	cx
		jmp	short loc_24E5E
; ---------------------------------------------------------------------------

loc_24E22:				; CODE XREF: sub_24E03+15j
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_24663
		add	sp, 4
		push	0F6h ; 'ö'
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_247C8
		add	sp, 6
		push	2
		call	sub_1EFC4
		pop	cx
		push	si
		push	cs
		call	near ptr sub_244D9
		pop	cx
		push	di
		call	sub_1EFC4
		pop	cx
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	cs
		call	near ptr sub_246B6
		add	sp, 4

loc_24E5E:				; CODE XREF: sub_24E03+1Dj
		pop	di
		pop	si
		leave
		retf
sub_24E03	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24E62	proc far		; CODE XREF: RunSCE:scnMainLoop2P
					; sub_22C95:loc_22CE1P	...
		push	bp
		mov	bp, sp
		test	byte ptr ds:28E4h, 1
		jz	short loc_24E6E
		jmp	short loc_24E91
; ---------------------------------------------------------------------------

loc_24E6E:				; CODE XREF: sub_24E62+8j
		cmp	word ptr ds:28F0h, 0
		jnz	short loc_24E77
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_24E77:				; CODE XREF: sub_24E62+11j
		cmp	byte_2B134, 0
		jz	short loc_24E91
		push	cs
		call	near ptr sub_249C6
		or	ax, ax
		jnz	short loc_24E91
		push	0
		push	0
		push	cs
		call	near ptr sub_24823
		add	sp, 4

loc_24E91:				; CODE XREF: sub_24E62+Aj
					; sub_24E62+1Aj ...
		pop	bp
		retf
sub_24E62	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadCTMIDI_DRV	proc far		; CODE XREF: sub_24559+7Ap

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	ds
		push	35D8h		; __int32
		push	0		; int
		push	ds
		push	offset aCtmidi_drv ; "CTMIDI.DRV"
		push	cs
		call	near ptr sub_23CFA
		add	sp, 0Ah
		mov	word ptr dword_2BEA2+2,	dx
		mov	word ptr dword_2BEA2, ax
		or	ax, dx
		jz	short loc_24F08
		call	sub_297F5
		cmp	ax, 100h
		jb	short loc_24EE9
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_29825
		add	sp, 4
		or	ax, ax
		jnz	short loc_24ED4
		xor	ax, ax
		pop	bp
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_24EE7
; ---------------------------------------------------------------------------

loc_24ED4:				; CODE XREF: LoadCTMIDI_DRV+39j
		cmp	word_29C31, 0
		jz	short loc_24EE7
		push	ds
		push	offset aBlasterEnvir_1 ; "\nBLASTER environment	is not valid"
		call	_printf
		add	sp, 4

loc_24EE7:				; CODE XREF: LoadCTMIDI_DRV+3Fj
					; LoadCTMIDI_DRV+46j
		jmp	short loc_24F08
; ---------------------------------------------------------------------------

loc_24EE9:				; CODE XREF: LoadCTMIDI_DRV+27j
		cmp	word_29C31, 0
		jz	short loc_24F08
		push	ds
		push	offset aInvalidCtmidi_ ; "\nInvalid CTMIDI.DRV - "
		call	_printf
		add	sp, 4
		push	ds
		push	offset aINeedCtmidi_dr ; "I need CTMIDI.DRV version 1.00 or highe"...
		call	_printf
		add	sp, 4

loc_24F08:				; CODE XREF: LoadCTMIDI_DRV+1Dj
					; LoadCTMIDI_DRV:loc_24EE7j ...
		mov	ax, 1
		pop	bp
		retf
LoadCTMIDI_DRV	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

LoadAUXDRV_DRV	proc far		; CODE XREF: sub_24559+A9p

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	ds
		push	35D4h		; __int32
		push	0		; int
		push	ds
		push	offset aAuxdrv_drv ; "AUXDRV.DRV"
		push	cs
		call	near ptr sub_23CFA
		add	sp, 0Ah
		mov	word ptr dword_2BE9A+2,	dx
		mov	word ptr dword_2BE9A, ax
		or	ax, dx
		jz	short loc_24F84
		call	sub_29400
		cmp	ax, 303h
		jb	short loc_24F65
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_29413
		add	sp, 4
		or	ax, ax
		jnz	short loc_24F50
		xor	ax, ax
		pop	bp
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_24F63
; ---------------------------------------------------------------------------

loc_24F50:				; CODE XREF: LoadAUXDRV_DRV+39j
		cmp	word_29C31, 0
		jz	short loc_24F63
		push	ds
		push	offset aBlasterEnvir_2 ; "\nBLASTER environment	is not valid"
		call	_printf
		add	sp, 4

loc_24F63:				; CODE XREF: LoadAUXDRV_DRV+3Fj
					; LoadAUXDRV_DRV+46j
		jmp	short loc_24F84
; ---------------------------------------------------------------------------

loc_24F65:				; CODE XREF: LoadAUXDRV_DRV+27j
		cmp	word_29C31, 0
		jz	short loc_24F84
		push	ds
		push	offset aInvalidAuxdrv_ ; "\nInvalid AUXDRV.DRV - "
		call	_printf
		add	sp, 4
		push	ds
		push	offset aINeedAuxdrv_dr ; "I need AUXDRV.DRV version 3.03 or highe"...
		call	_printf
		add	sp, 4

loc_24F84:				; CODE XREF: LoadAUXDRV_DRV+1Dj
					; LoadAUXDRV_DRV:loc_24F63j ...
		mov	ax, 1
		pop	bp
		retf
LoadAUXDRV_DRV	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24F8B	proc far		; CODE XREF: sub_24823+BCp

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		mov	si, 1
		call	sub_2986A
		or	ax, ax
		jnz	short loc_24FDF
		push	ds
		push	35D0h
		call	sub_2989A
		add	sp, 4
		or	ax, ax
		jnz	short loc_24FCA
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_298B5
		add	sp, 4
		or	ax, ax
		jnz	short loc_24FC8
		call	sub_298D0
		or	ax, ax
		jnz	short loc_24FC8
		xor	si, si

loc_24FC8:				; CODE XREF: sub_24F8B+30j
					; sub_24F8B+39j
		jmp	short loc_24FDD
; ---------------------------------------------------------------------------

loc_24FCA:				; CODE XREF: sub_24F8B+1Ej
		cmp	word_29C31, 0
		jz	short loc_24FDD
		push	ds
		push	offset aErrorSettingMi ; "\nError setting MIDI status address."
		call	_printf
		add	sp, 4

loc_24FDD:				; CODE XREF: sub_24F8B:loc_24FC8j
					; sub_24F8B+44j
		jmp	short loc_24FF2
; ---------------------------------------------------------------------------

loc_24FDF:				; CODE XREF: sub_24F8B+Ej
		cmp	word_29C31, 0
		jz	short loc_24FF2
		push	ds
		push	offset aErrorResetting ; "\nError resetting MIDI device."
		call	_printf
		add	sp, 4

loc_24FF2:				; CODE XREF: sub_24F8B:loc_24FDDj
					; sub_24F8B+59j
		mov	ax, si
		jmp	short $+2
		pop	si
		pop	bp
		retf
sub_24F8B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_24FF9	proc far		; CODE XREF: sub_24C74+DAp

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	0Eh, 0
		push	si
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_2916E
		add	sp, 4
		mov	si, ax
		cmp	ax, 0FFFFh
		jnz	short loc_2502A
		jmp	loc_250E9
; ---------------------------------------------------------------------------

loc_2502A:				; CODE XREF: sub_24FF9+2Cj
		push	si		; handle
		call	_filelength
		pop	cx
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		mov	ax, [bp+var_E]
		or	ax, [bp+var_C]
		jnz	short loc_25046
		xor	dx, dx
		xor	ax, ax
		jmp	loc_2510A
; ---------------------------------------------------------------------------

loc_25046:				; CODE XREF: sub_24FF9+44j
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		add	ax, 0Fh
		adc	dx, 0
		push	dx
		push	ax
		call	malloc_maybe
		add	sp, 4
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		or	ax, dx
		jz	short loc_250D4
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax

loc_25072:				; CODE XREF: sub_24FF9+D7j
		mov	ax, [bp+var_4]
		shr	ax, 4
		add	[bp+var_2], ax
		and	[bp+var_4], 0Fh
		push	ss

loc_25080:
		lea	ax, [bp+var_A]
		push	ax
		push	8000h
		push	[bp+var_2]
		push	[bp+var_4]
		push	si
		call	sub_29128
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_250C5
		push	ds
		push	offset aDosReadFileErr ; "\nDOS	: Read file error."
		call	_printf
		add	sp, 4
		mov	[bp+var_A], 0
		push	[bp+var_6]
		push	[bp+var_8]
		call	sub_1275D
		add	sp, 4
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		jmp	short loc_250CB
; ---------------------------------------------------------------------------

loc_250C5:				; CODE XREF: sub_24FF9+9Fj
		mov	ax, [bp+var_A]
		add	[bp+var_4], ax

loc_250CB:				; CODE XREF: sub_24FF9+CAj
		cmp	[bp+var_A], 8000h
		jz	short loc_25072
		jmp	short loc_250E0
; ---------------------------------------------------------------------------

loc_250D4:				; CODE XREF: sub_24FF9+6Bj
		push	ds
		push	offset aMemoryAlloca_0 ; "\nMemory allocation error."
		call	_printf
		add	sp, 4

loc_250E0:				; CODE XREF: sub_24FF9+D9j
		push	si
		call	sub_29199
		pop	cx
		jmp	short loc_25102
; ---------------------------------------------------------------------------

loc_250E9:				; CODE XREF: sub_24FF9+2Ej
		cmp	word_29C31, 0
		jz	short loc_25102
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	ds
		push	offset aOpenSFailed_ ; "\nOpen %s failed."
		call	_printf

loc_250FF:
		add	sp, 8

loc_25102:				; CODE XREF: sub_24FF9+EEj
					; sub_24FF9+F5j
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		jmp	short $+2

loc_2510A:				; CODE XREF: sub_24FF9+4Aj
		pop	si
		leave
		retf
sub_24FF9	endp

seg014		ends

; ===========================================================================

; Segment type:	Pure code
seg015		segment	byte public 'CODE' use16
		assume cs:seg015
		;org 0Dh
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2510D	proc far		; CODE XREF: sub_2523A+Ap
					; sub_2523A+12p ...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		jmp	short $+2

loc_25112:				; CODE XREF: sub_2510D+Dj
		mov	dx, 22Ch
		in	al, dx
		mov	ah, 0
		test	al, 80h
		jnz	short loc_25112
		mov	dx, 22Ch
		mov	al, [bp+arg_0]
		out	dx, al
		pop	bp
		retf
sub_2510D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_25125	proc far		; CODE XREF: sub_25374+4DP
					; sub_25374+55P
		push	bp
		mov	bp, sp
		jmp	short $+2

loc_2512A:				; CODE XREF: sub_25125+Dj
		mov	dx, 22Eh
		in	al, dx
		mov	ah, 0
		test	al, 80h
		jz	short loc_2512A
		mov	dx, 22Ah
		in	al, dx
		pop	bp
		retf
sub_25125	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2513C	proc far		; CODE XREF: sub_25374:loc_253B3P
		push	bp
		mov	bp, sp
		push	si
		mov	dx, 22Eh
		in	al, dx
		mov	dx, 226h
		mov	al, 1
		out	dx, al
		mov	dx, 226h
		in	al, dx
		mov	dx, 226h
		in	al, dx
		mov	dx, 226h
		in	al, dx
		mov	dx, 226h
		in	al, dx
		mov	dx, 226h
		mov	al, 0
		out	dx, al
		xor	si, si
		jmp	short loc_25177
; ---------------------------------------------------------------------------

loc_25164:				; CODE XREF: sub_2513C+3Ej
		mov	dx, 22Eh
		in	al, dx
		test	al, 80h
		jz	short loc_25176
		mov	dx, 22Ah
		in	al, dx
		cmp	al, 0AAh ; 'ª'
		jnz	short loc_25176
		jmp	short loc_2517C
; ---------------------------------------------------------------------------

loc_25176:				; CODE XREF: sub_2513C+2Ej
					; sub_2513C+36j
		inc	si

loc_25177:				; CODE XREF: sub_2513C+26j
		cmp	si, 64h	; 'd'
		jb	short loc_25164

loc_2517C:				; CODE XREF: sub_2513C+38j
		cmp	si, 64h	; 'd'
		jnz	short loc_25195
		push	ds
		push	offset aSoundBlasterNo ; "Sound	Blaster	not found at 0220h\n"
		call	_printf
		add	sp, 4
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_25195:				; CODE XREF: sub_2513C+43j
		pop	si
		pop	bp
		retf
sub_2513C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_25198	proc far		; CODE XREF: sub_25374+409P
		push	bp
		mov	bp, sp
		mov	ax, word_2B41E
		or	ax, word_2B420
		jz	short loc_251C0
		push	word_2B420
		push	word_2B41E
		call	sub_1275D
		add	sp, 4
		mov	word_2B420, 0
		mov	word_2B41E, 0

loc_251C0:				; CODE XREF: sub_25198+Aj
		pop	bp
		retf
sub_25198	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_251C2	proc far		; CODE XREF: sub_25374:loc_25444P

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		push	1
		push	0FFB8h
		call	malloc_maybe
		add	sp, 4
		mov	word_2B420, dx
		mov	word_2B41E, ax
		mov	ax, word_2B41E
		or	ax, word_2B420
		jnz	short loc_251E7
		mov	ax, 0FFFFh
		leave
		retf
; ---------------------------------------------------------------------------

loc_251E7:				; CODE XREF: sub_251C2+1Ej
		mov	ax, word_2B41E
		xor	dx, dx
		push	ax
		mov	ax, word_2B420
		push	dx
		xor	dx, dx
		mov	cl, 4
		call	LXLSH@
		pop	bx
		pop	cx
		add	cx, ax
		adc	bx, dx
		mov	[bp+var_2], bx
		mov	[bp+var_4], cx
		add	[bp+var_4], 0FFFFh
		adc	[bp+var_2], 0
		and	[bp+var_4], 0
		and	[bp+var_2], 0Fh
		mov	dx, [bp+var_2]
		and	dl, 0Fh
		mov	ds:35E4h, dl
		mov	al, ds:35E4h
		mov	ah, 0
		shl	ax, 0Ch
		and	ax, 0F000h
		mov	ds:35E2h, ax
		mov	word ptr ds:35E0h, 0
		xor	ax, ax
		leave
		retf
sub_251C2	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2523A	proc far		; CODE XREF: sub_25374+329P

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	dx, 22Eh
		in	al, dx
		push	40h ; '@'
		push	cs
		call	near ptr sub_2510D
		pop	cx
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_2510D
		pop	cx
		pop	bp
		retf
sub_2523A	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	0D0h ; 'Ð'
		push	cs
		call	near ptr sub_2510D
		pop	cx
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2525F	proc far		; CODE XREF: sub_25374+32FP
		push	bp
		mov	bp, sp
		push	0D1h ; 'Ñ'
		push	cs
		call	near ptr sub_2510D
		pop	cx
		pop	bp
		retf
sub_2525F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2526C	proc far		; CODE XREF: sub_25374:loc_25778P
		push	bp
		mov	bp, sp
		push	0D3h ; 'Ó'
		push	cs
		call	near ptr sub_2510D
		pop	cx
		pop	bp
		retf
sub_2526C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_25279	proc far		; CODE XREF: sub_25374+395P

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		dec	[bp+arg_0]
		mov	dx, 0Ah
		mov	al, 5
		out	dx, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		mov	dx, 0Ch
		mov	al, 0
		out	dx, al		; DMA controller, 8237A-5.
					; clear	byte pointer flip-flop.
		mov	dx, 0Bh
		mov	al, 49h	; 'I'
		out	dx, al		; DMA 8237A-5. mode register bits:
					; 0-1: channel (00=0; 01=1; 10=2; 11=3)
					; 2-3: transfer	type (00=verify=Nop; 01=write; 10=read)
					; 4: 1=enable auto-initialization
					; 5: 1=address increment; 0=address decrement
					; 6-7: 00=demand mode; 01=single; 10=block; 11=cascade
		mov	dx, 2
		mov	al, 0
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		mov	dx, 2
		mov	al, 0
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		mov	dx, 83h	; 'ƒ'
		mov	al, ds:35E4h
		out	dx, al		; DMA page register 74LS612:
					; Channel 1 (address bits 16-23)
		mov	al, byte ptr [bp+arg_0]
		and	al, 0FFh
		mov	dx, 3
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address and word count
		mov	ax, [bp+arg_0]
		shr	ax, 8
		and	al, 0FFh
		mov	dx, 3
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address and word count
		mov	dx, 0Ah
		mov	al, 1
		out	dx, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		push	14h
		push	cs
		call	near ptr sub_2510D
		pop	cx
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_2510D
		pop	cx
		mov	ax, [bp+arg_0]
		shr	ax, 8
		push	ax
		push	cs
		call	near ptr sub_2510D
		pop	cx
		pop	bp
		retf
sub_25279	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		dec	word ptr [bp+6]
		mov	dx, 0Ah
		mov	al, 5
		out	dx, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		mov	dx, 0Ch
		mov	al, 0
		out	dx, al		; DMA controller, 8237A-5.
					; clear	byte pointer flip-flop.

loc_252EE:
		mov	dx, 0Bh
		mov	al, 45h	; 'E'
		out	dx, al		; DMA 8237A-5. mode register bits:
					; 0-1: channel (00=0; 01=1; 10=2; 11=3)
					; 2-3: transfer	type (00=verify=Nop; 01=write; 10=read)
					; 4: 1=enable auto-initialization
					; 5: 1=address increment; 0=address decrement
					; 6-7: 00=demand mode; 01=single; 10=block; 11=cascade
		mov	dx, 2
		mov	al, 0
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		mov	dx, 2
		mov	al, 0
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		mov	dx, 83h	; 'ƒ'
		mov	al, ds:35E4h
		out	dx, al		; DMA page register 74LS612:
					; Channel 1 (address bits 16-23)
		mov	al, [bp+6]
		and	al, 0FFh
		mov	dx, 3
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address and word count
		mov	ax, [bp+6]
		shr	ax, 8
		and	al, 0FFh
		mov	dx, 3
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address and word count
		mov	dx, 0Ah
		mov	al, 1
		out	dx, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		push	24h ; '$'
		push	cs
		call	near ptr sub_2510D
		pop	cx
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_2510D
		pop	cx
		mov	ax, [bp+6]
		shr	ax, 8
		push	ax
		push	cs
		call	near ptr sub_2510D
		pop	cx
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	dx, 3
		in	al, dx		; DMA controller, 8237A-5.
					; channel 1 current word count
		mov	ah, 0
		mov	bx, ax
		mov	dx, 3
		in	al, dx		; DMA controller, 8237A-5.
					; channel 1 current word count
		mov	ah, 0
		shl	ax, 8
		or	bx, ax
		cmp	bx, 0FFFFh
		jnz	short loc_2535E
		mov	dx, 22Eh
		in	al, dx

loc_2535E:				; CODE XREF: seg015:0258j
		mov	ax, bx
		pop	bp
		retf
; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_25364	proc far		; CODE XREF: sub_25374+39BP
					; sub_25374:loc_2575EP
		push	bp
		mov	bp, sp
		mov	dx, 8
		in	al, dx		; DMA 8237A-5. status register bits:
					; 0-3: channel 0-3 has reached terminal	count
					; 4-7: channel 0-3 has a request pending
		mov	ah, 0

loc_2536D:
		and	ax, 2

loc_25370:
		pop	bp
		retf
sub_25364	endp

seg015		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg016		segment	byte public 'CODE' use16
		assume cs:seg016
		;org 2
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_25374(char *path)
sub_25374	proc far		; CODE XREF: sub_244D9:loc_2453BP

var_4		= dword	ptr -4
path		= dword	ptr  6

		enter	4, 0
		push	si
		push	di
		xor	di, di
		push	ds
		push	offset aRb_0	; "rb"
		push	word ptr [bp+path+2]
		push	word ptr [bp+path] ; path
		call	_fopen
		add	sp, 8
		mov	ds:35EFh, dx
		mov	ds:35EDh, ax
		or	ax, dx
		jnz	short loc_253B3
		push	word ptr [bp+path+2]
		push	word ptr [bp+path]
		push	ds
		push	offset aErrorOpening_w ; "Error	opening	.WAV file [%s]\n"
		call	_printf
		add	sp, 8
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_253B3:				; CODE XREF: sub_25374+23j
		call	sub_2513C
		push	0E1h ; 'á'
		call	sub_2510D
		pop	cx
		call	sub_25125
		mov	ds:3641h, al
		call	sub_25125
		mov	ds:3642h, al
		cmp	byte ptr ds:3641h, 3
		jnz	short loc_25444
		mov	dx, 224h
		mov	al, 0
		out	dx, al
		mov	dx, 225h
		mov	al, 0FFh
		out	dx, al
		mov	dx, 224h
		mov	al, 4
		out	dx, al
		mov	dx, 225h
		mov	al, 0FFh
		out	dx, al
		mov	dx, 224h
		mov	al, 0Ah
		out	dx, al
		mov	dx, 225h
		mov	al, 0
		out	dx, al
		mov	dx, 224h
		mov	al, 0Ch
		out	dx, al
		mov	dx, 225h
		mov	al, 26h	; '&'
		out	dx, al
		mov	dx, 224h
		mov	al, 0Eh
		out	dx, al
		mov	dx, 225h
		mov	al, 20h	; ' '
		out	dx, al
		mov	dx, 224h
		mov	al, 22h	; '"'
		out	dx, al
		mov	dx, 225h
		mov	al, 99h	; '™'
		out	dx, al
		mov	dx, 224h
		mov	al, 26h	; '&'
		out	dx, al
		mov	dx, 225h
		mov	al, 0
		out	dx, al
		mov	dx, 224h
		mov	al, 28h	; '('
		out	dx, al
		mov	dx, 225h
		mov	al, 0
		out	dx, al
		mov	dx, 224h
		mov	al, 2Eh	; '.'
		out	dx, al
		mov	dx, 225h
		mov	al, 0
		out	dx, al

loc_25444:				; CODE XREF: sub_25374+62j
		call	sub_251C2
		or	ax, ax
		jz	short loc_25460
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		call	_fclose
		add	sp, 4
		jmp	loc_25792
; ---------------------------------------------------------------------------

loc_25460:				; CODE XREF: sub_25374+D7j
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	4		; n
		push	1		; size
		push	ds
		push	3643h		; ptr
		call	_fread
		add	sp, 0Ch
		cmp	word ptr ds:3645h, 4646h
		jnz	short loc_25488
		cmp	word ptr ds:3643h, 4952h
		jz	short loc_2549C

loc_25488:				; CODE XREF: sub_25374+10Aj
		push	ds
		push	offset aNotARiffFormat ; "Not a	RIFF format file\n"
		call	_printf
		add	sp, 4
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_2549C:				; CODE XREF: sub_25374+112j
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	4		; n
		push	1		; size
		push	ds
		push	3647h		; ptr
		call	_fread
		add	sp, 0Ch
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	4		; n
		push	1		; size
		push	ds
		push	364Bh		; ptr
		call	_fread
		add	sp, 0Ch
		cmp	word ptr ds:364Dh, 4556h
		jnz	short loc_254DC
		cmp	word ptr ds:364Bh, 4157h
		jz	short loc_254F0

loc_254DC:				; CODE XREF: sub_25374+15Ej
		push	ds
		push	offset aNotAWaveFormat ; "Not a	WAVE format chunk\n"
		call	_printf
		add	sp, 4
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_254F0:				; CODE XREF: sub_25374+166j
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	4		; n
		push	1		; size
		push	ds
		push	364Fh		; ptr
		call	_fread
		add	sp, 0Ch
		cmp	word ptr ds:3651h, 2074h
		jnz	short loc_25518
		cmp	word ptr ds:364Fh, 6D66h
		jz	short loc_2552C

loc_25518:				; CODE XREF: sub_25374+19Aj
		push	ds
		push	offset aNotAFmtWaveFor ; "Not a	fmt WAVE Format	Chunk\n"
		call	_printf
		add	sp, 4
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_2552C:				; CODE XREF: sub_25374+1A2j
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	4		; n
		push	1		; size
		push	ds
		push	3653h		; ptr
		call	_fread
		add	sp, 0Ch
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		call	_ftell
		add	sp, 4
		add	ax, ds:3653h
		adc	dx, ds:3655h
		mov	ds:3659h, dx
		mov	ds:3657h, ax
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	2		; n
		push	1		; size
		push	ds
		push	365Bh		; ptr
		call	_fread
		add	sp, 0Ch
		cmp	word ptr ds:365Bh, 1
		jz	short loc_25596
		push	ds
		push	offset aDataIsNotPcm ; "Data is	not PCM\n"
		call	_printf
		add	sp, 4
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_25596:				; CODE XREF: sub_25374+20Cj
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	2		; n
		push	1		; size
		push	ds
		push	365Dh		; ptr
		call	_fread
		add	sp, 0Ch
		cmp	word ptr ds:365Dh, 1
		jz	short loc_255D0
		cmp	word ptr ds:365Dh, 2
		jz	short loc_255D0
		push	ds
		push	offset aMustBeMonoOrSt ; "Must be MONO or STEREO data\n"
		call	_printf
		add	sp, 4
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_255D0:				; CODE XREF: sub_25374+23Fj
					; sub_25374+246j
		cmp	word ptr ds:365Dh, 2
		jnz	short loc_255E3
		push	ds
		push	offset aStereoDataWill ; "STEREO data will be half speed (twice	a"...
		call	_printf
		add	sp, 4

loc_255E3:				; CODE XREF: sub_25374+261j
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	2		; n
		push	1		; size
		push	ds
		push	365Fh		; ptr
		call	_fread
		add	sp, 0Ch
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	2		; n
		push	1		; size
		push	ds
		push	3661h		; ptr
		call	_fread
		add	sp, 0Ch
		push	0		; whence
		push	word ptr ds:3659h
		push	word ptr ds:3657h ; offset
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		call	_fseek
		add	sp, 0Ah
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	4		; n
		push	1		; size
		push	ds
		push	3663h		; ptr
		call	_fread
		add	sp, 0Ch
		cmp	word ptr ds:3665h, 6174h
		jnz	short loc_25655
		cmp	word ptr ds:3663h, 6164h
		jz	short loc_25669

loc_25655:				; CODE XREF: sub_25374+2D7j
		push	ds
		push	offset aNotADataChunk ;	"Not a DATA chunk\n"
		call	_printf
		add	sp, 4
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx

loc_25669:				; CODE XREF: sub_25374+2DFj
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	4		; n
		push	1		; size
		push	ds
		push	3667h		; ptr
		call	_fread
		add	sp, 0Ch
		push	0
		push	word ptr ds:365Fh
		push	0Fh
		push	4240h
		call	F_LUDIV@
		mov	dl, 0
		sub	dl, al
		mov	ds:35E6h, dl
		push	word ptr ds:35E6h
		call	sub_2523A
		pop	cx
		call	sub_2525F
		jmp	loc_2576C
; ---------------------------------------------------------------------------

loc_256AB:				; CODE XREF: sub_25374+401j
		cmp	word ptr ds:3669h, 0
		jb	short loc_256CA
		ja	short loc_256BC
		cmp	word ptr ds:3667h, 0FDE8h
		jbe	short loc_256CA

loc_256BC:				; CODE XREF: sub_25374+33Ej
		mov	word ptr ds:35EBh, 0
		mov	word ptr ds:35E9h, 0FDE8h
		jmp	short loc_256D8
; ---------------------------------------------------------------------------

loc_256CA:				; CODE XREF: sub_25374+33Cj
					; sub_25374+346j
		mov	dx, ds:3669h
		mov	ax, ds:3667h
		mov	ds:35EBh, dx
		mov	ds:35E9h, ax

loc_256D8:				; CODE XREF: sub_25374+354j
		mov	dx, ds:35EBh
		mov	ax, ds:35E9h
		sub	ds:3667h, ax
		sbb	ds:3669h, dx
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		push	word ptr ds:35E9h ; n
		push	1		; size
		push	word ptr ds:35E2h
		push	word ptr ds:35E0h ; ptr
		call	_fread
		add	sp, 0Ch
		push	word ptr ds:35E9h
		call	sub_25279
		pop	cx
		call	sub_25364
		xor	si, si
		jmp	short loc_2575E
; ---------------------------------------------------------------------------

loc_25718:				; CODE XREF: sub_25374+3F6j
		call	_clock
		mov	word ptr [bp+var_4], ax
		mov	word ptr [bp+var_4+2], dx
		fild	[bp+var_4]	; (emulator call)
		fdiv	flt_2B534	; (emulator call)
		mov	word ptr [bp+var_4], di
		fild	word ptr [bp+var_4] ; (emulator	call)
		fcompp			; (emulator call)
		fnstsw	word ptr [bp+var_4] ; (emulator	call)
		wait			; (emulator call)
		mov	ax, word ptr [bp+var_4]
		sahf
		jz	short loc_2575E
		inc	si
		call	_clock
		mov	word ptr [bp+var_4], ax
		mov	word ptr [bp+var_4+2], dx
		fild	[bp+var_4]	; (emulator call)
		fdiv	flt_2B534	; (emulator call)
		call	sub_110FC
		mov	di, ax

loc_2575E:				; CODE XREF: sub_25374+3A2j
					; sub_25374+3CCj
		call	sub_25364
		or	al, al
		jnz	short loc_2576C
		cmp	si, 7
		jl	short loc_25718

loc_2576C:				; CODE XREF: sub_25374+334j
					; sub_25374+3F1j
		mov	ax, ds:3667h
		or	ax, ds:3669h
		jz	short loc_25778
		jmp	loc_256AB
; ---------------------------------------------------------------------------

loc_25778:				; CODE XREF: sub_25374+3FFj
		call	sub_2526C
		call	sub_25198
		push	word ptr ds:35EFh
		push	word ptr ds:35EDh ; stream
		call	_fclose
		add	sp, 4

loc_25792:				; CODE XREF: sub_25374+E9j
		pop	di
		pop	si
		leave
		retf
sub_25374	endp

; ---------------------------------------------------------------------------
		align 10h
seg016		ends

; ===========================================================================

; Segment type:	Pure code
seg017		segment	byte public 'CODE' use16
		assume cs:seg017
; START	OF FUNCTION CHUNK FOR sub_257E0
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

loc_257A0:				; CODE XREF: sub_257E0-2Aj
					; sub_257E0+1Dj
		pop	di
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	si
		pop	ds
		clc
		retf
; ---------------------------------------------------------------------------

loc_257A9:				; CODE XREF: sub_257E0+10j
		mov	al, byte ptr word_29B12
		mov	ah, byte ptr word_29B10
		fnclex			; (emulator call)
		test	ah, 80h
		jz	short loc_257A0
		not	al
		and	al, ah
		jmp	loc_258F5
; ---------------------------------------------------------------------------

loc_257BF:				; CODE XREF: sub_257E0+41j
		les	di, [si+6]
		test	bl, 8
		jnz	short loc_257CF
		mov	bx, es
		and	bx, 0F000h
		mov	es, bx
		assume es:nothing

loc_257CF:				; CODE XREF: sub_257E0-1Bj
		test	byte ptr es:[di], 80h
		jnz	short loc_257D6
		inc	di

loc_257D6:				; CODE XREF: sub_257E0-Dj
		mov	bx, es:[di]
		xchg	bh, bl
		jmp	short loc_25826
; END OF FUNCTION CHUNK	FOR sub_257E0
; ---------------------------------------------------------------------------
		jmp	short loc_25841
; ---------------------------------------------------------------------------
		align 2

; =============== S U B	R O U T	I N E =======================================


sub_257E0	proc far

; FUNCTION CHUNK AT 0000 SIZE 0000003D BYTES

		push	ds
		push	si
		push	bx
		push	cx
		push	dx
		push	es
		push	di
		mov	ds, ax
		mov	al, byte_29B16
		or	al, al
		mov	bx, ax
		jz	short loc_257A9
		mov	si, 0A3h ; '£'
		fnstenv	byte ptr [si]
		wait
		mov	ax, [si+2]
		test	al, 80h
		jz	short loc_257A0
		fclex
		mov	dx, ax
		mov	al, [si]
		mov	dh, dl
		or	al, 40h
		and	dl, al
		and	dl, 7Fh
		mov	[si+2],	dl
		wait
		wait
		fldenv	byte ptr [si]
		not	al
		and	al, dh
		or	bx, word_29B17
		cmp	bl, 3
		jge	short loc_257BF
		mov	bx, [si+8]

loc_25826:				; CODE XREF: sub_257E0-5j
		and	bh, 7
		mov	dh, bl
		and	dh, 0C0h
		cmp	dh, 0C0h ; 'À'
		jz	short loc_25836
		and	bl, 38h

loc_25836:				; CODE XREF: sub_257E0+51j
		wait
		sti
		test	al, 1
		jz	short loc_25841
		mov	al, 40h	; '@'
		jmp	loc_258F5
; ---------------------------------------------------------------------------

loc_25841:				; CODE XREF: seg017:003Dj
					; sub_257E0+5Aj
		test	al, 2
		jz	short loc_2589A
		mov	cx, 8

loc_25848:				; CODE XREF: sub_257E0+6Ej
		call	sub_25908
		wait
		fincstp
		loop	loc_25848
		mov	ax, bx
		shr	ax, 1
		and	al, 9Ch
		cmp	al, 80h	; '€'
		jz	short loc_25862
		cmp	al, 94h	; '”'
		jz	short loc_25862
		and	al, 98h
		cmp	al, 8

loc_25862:				; CODE XREF: sub_257E0+78j
					; sub_257E0+7Cj
		jz	short loc_25898
		fnstcw	word_29B41
		wait
		or	byte ptr word_29B41, 2
		wait
		fldcw	word_29B41
		les	di, [si+0Ah]
		assume es:nothing
		cmp	bx, 30h	; '0'
		jnz	short loc_25881
		wait
		fld	dword ptr es:[di]
		jmp	short loc_2588B
; ---------------------------------------------------------------------------

loc_25881:				; CODE XREF: sub_257E0+99j
		cmp	bx, 430h
		jnz	short loc_25891
		wait
		fld	qword ptr es:[di]

loc_2588B:				; CODE XREF: sub_257E0+9Fj
		call	sub_25908
		mov	bx, 0DEF9h

loc_25891:				; CODE XREF: sub_257E0+A5j
		wait
		mov	di, word_29B1D
		jmp	short loc_258CB
; ---------------------------------------------------------------------------

loc_25898:				; CODE XREF: sub_257E0:loc_25862j
		jmp	short loc_258E3
; ---------------------------------------------------------------------------

loc_2589A:				; CODE XREF: sub_257E0+63j
		mov	ah, byte ptr word_29B12
		not	ah
		and	ah, al
		and	ah, 7Fh
		jnz	short loc_258F5
		test	al, 5
		jnz	short loc_258B9
		test	al, 18h
		jz	short loc_258E7
		mov	ax, bx
		shr	ax, 1
		and	al, 0E8h
		cmp	al, 88h	; 'ˆ'
		jnz	short loc_258E7

loc_258B9:				; CODE XREF: sub_257E0+C9j
		fnstcw	word_29B41
		wait
		mov	ax, word_29B41
		or	byte ptr word_29B41, 3Fh
		wait
		fldcw	word_29B41

loc_258CB:				; CODE XREF: sub_257E0+B6j
		push	cs
		call	near ptr sub_25955
		add	sp, 0Ah
		fstsw	word_29B41
		fclex
		mov	ax, word_29B41
		and	al, 3Fh
		or	byte_29B35, al

loc_258E3:				; CODE XREF: sub_257E0:loc_25898j
		wait
		fldcw	word ptr [si]
		clc

loc_258E7:				; CODE XREF: sub_257E0+CDj
					; sub_257E0+D7j ...
		pop	di
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	si
		pop	ds
		jb	short locret_258F4
		pop	ax
		pop	ax
		pop	ax
		iret
; ---------------------------------------------------------------------------

locret_258F4:				; CODE XREF: sub_257E0+10Ej
		retf
; ---------------------------------------------------------------------------

loc_258F5:				; CODE XREF: sub_257E0-24j
					; sub_257E0+5Ej ...
		xor	dx, dx
		mov	bx, ax

loc_258F9:				; CODE XREF: sub_257E0+11Cj
		inc	dx
		shr	bx, 1
		jnb	short loc_258F9
		mov	word_29B19, dx
		mov	ax, 99h	; '™'
		stc
		jmp	short loc_258E7
sub_257E0	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_25908	proc near		; CODE XREF: sub_257E0:loc_25848p
					; sub_257E0:loc_2588Bp
		wait
		fxam
		fstsw	word_29B41
		wait
		mov	ah, byte ptr word_29B41+1
		sahf
		jnb	short loc_2591B
		jnz	short loc_2591D
		retn
; ---------------------------------------------------------------------------

loc_2591B:				; CODE XREF: sub_25908+Ej
		jz	short loc_25922

loc_2591D:				; CODE XREF: sub_25908+10j
		jb	short locret_25921
		jnp	short loc_25929

locret_25921:				; CODE XREF: sub_25908:loc_2591Dj
		retn
; ---------------------------------------------------------------------------

loc_25922:				; CODE XREF: sub_25908:loc_2591Bj
		wait
		fstp	st
		wait
		fldz
		retn
; ---------------------------------------------------------------------------

loc_25929:				; CODE XREF: sub_25908+17j
		wait
		fstp	tbyte_29B37
		wait
		fild	qword ptr tbyte_29B37
		mov	ax, word ptr tbyte_29B37+8
		mov	dx, ax
		and	dh, 80h
		wait
		fstp	tbyte_29B37
		xor	ah, dh
		wait
		add	ax, word ptr tbyte_29B37+8
		sub	ax, 403Eh
		xor	ah, dh
		mov	word ptr tbyte_29B37+8,	ax
		wait
		fld	tbyte_29B37
		retn
sub_25908	endp


; =============== S U B	R O U T	I N E =======================================


sub_25955	proc far		; CODE XREF: sub_257E0+ECp
		mov	word_29B1D, di
		mov	dx, 0EA90h
		push	dx
		mov	dx, bx
		and	bl, 0C0h
		cmp	bl, 0C0h ; 'À'
		jz	short loc_2596A
		or	dl, 7

loc_2596A:				; CODE XREF: sub_25955+10j
		or	dh, 0D8h
		xchg	dh, dl
		push	dx
		mov	dx, 269Bh
		push	dx
		mov	dx, ss
		xor	dx, word_29B17
		push	dx
		mov	dx, sp
		add	dx, 2
		push	dx
		les	bx, [si+0Ah]
		retf
sub_25955	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		align 10h
tbyte_25990	dt 0.78539816339744830963 ; DATA XREF: seg017:0274r
					; seg017:0347r
tbyte_2599A	dt 1.5707963267948966193 ; DATA	XREF: seg017:033Cr
					; seg017:036Dr
flt_259A4	dd -5.1110893e38	; DATA XREF: seg017:0257r seg017:0265r
flt_259A8	dd -5.1117124e38	; DATA XREF: seg017:03C7r
		db 0, 4Ah, 0C0h, 0FFh
flt_259B0	dd 0.5			; DATA XREF: seg017:045Cr
tbyte_259B4	dt 1.4142135623730950489 ; DATA	XREF: seg017:04BCr
flt_259BE	dd 3.4028237e38		; DATA XREF: seg017:030Dr seg017:0445r
; ---------------------------------------------------------------------------
		mov	cl, 0
		jmp	short loc_259CC
; ---------------------------------------------------------------------------
		mov	cl, 2
		jmp	short loc_259CC
; ---------------------------------------------------------------------------
		mov	cl, 4

loc_259CC:				; CODE XREF: seg017:0224j seg017:0228j
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jb	short loc_259EF
		jnz	short loc_25A10
		cmp	cl, 2
		jnz	short loc_259ED
		wait
		fstp	st
		wait
		fld1

loc_259ED:				; CODE XREF: seg017:0245j
		jmp	short loc_25A0D
; ---------------------------------------------------------------------------

loc_259EF:				; CODE XREF: seg017:023Ej
		jz	short loc_259FF
		jnp	short loc_259FF
		wait
		fstp	st
		wait
		fld	cs:flt_259A4
		wait
		ftst

loc_259FF:				; CODE XREF: seg017:loc_259EFj
					; seg017:0251j
		jmp	short loc_25A0D
; ---------------------------------------------------------------------------

loc_25A01:				; CODE XREF: seg017:028Ej
		wait
		fcompp
		wait
		fld	cs:flt_259A4
		wait
		ftst

loc_25A0D:				; CODE XREF: seg017:loc_259EDj
					; seg017:loc_259FFj
		jmp	loc_25AB7
; ---------------------------------------------------------------------------

loc_25A10:				; CODE XREF: seg017:0240j
		wait
		fabs
		wait
		fld	cs:tbyte_25990
		wait
		fxch	st(1)
		wait
		fprem
		mov	ch, 2
		and	ch, ah
		shr	ch, 1
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jp	short loc_25A01
		mov	al, 3
		and	al, ah
		shl	ah, 1
		shl	ah, 1
		rcl	al, 1
		add	al, 0FCh ; 'ü'
		rcl	al, 1
		cmp	cl, 2
		jnz	short loc_25A47
		add	al, cl
		mov	ch, 0

loc_25A47:				; CODE XREF: seg017:02A1j
		and	al, 7
		test	al, 1
		jz	short loc_25A52
		wait
		fsubp	st(1), st
		jmp	short loc_25A55
; ---------------------------------------------------------------------------

loc_25A52:				; CODE XREF: seg017:02ABj
		wait
		fstp	st(1)

loc_25A55:				; CODE XREF: seg017:02B0j
		wait
		fptan
		cmp	cl, 4
		jz	short loc_25A86
		test	al, 3
		jp	short loc_25A64
		wait
		fxch	st(1)

loc_25A64:				; CODE XREF: seg017:02BFj
		wait
		fld	st(1)
		wait
		fmul	st, st
		wait
		fxch	st(1)
		wait
		fmul	st, st
		wait
		faddp	st(1), st
		wait
		fsqrt
		shr	al, 1
		shr	al, 1
		xor	al, ch
		jz	short loc_25A81
		wait
		fchs

loc_25A81:				; CODE XREF: seg017:02DCj
		wait
		fdivp	st(1), st
		jmp	short loc_25AB7
; ---------------------------------------------------------------------------

loc_25A86:				; CODE XREF: seg017:02BBj
		mov	ah, al
		shr	ah, 1
		and	ah, 1
		xor	ah, ch
		jz	short loc_25A94
		wait
		fchs

loc_25A94:				; CODE XREF: seg017:02EFj
		test	al, 3
		jp	short loc_25AB4
		wait
		fxch	st(1)
		wait
		ftst
		fstsw	word ptr [bp-2]
		wait
		test	byte ptr [bp-1], 40h
		jz	short loc_25AB4
		wait
		fcompp
		wait
		fld	cs:flt_259BE
		jmp	short loc_25AB7
; ---------------------------------------------------------------------------

loc_25AB4:				; CODE XREF: seg017:02F6j seg017:0307j
		wait
		fdivp	st(1), st

loc_25AB7:				; CODE XREF: seg017:loc_25A0Dj
					; seg017:02E4j	...
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		xchg	ax, cx
		jb	short loc_25AD4
		jnz	short loc_25AEE
		jmp	short loc_25B20
; ---------------------------------------------------------------------------

loc_25AD4:				; CODE XREF: seg017:032Ej
		jz	short loc_25B20
		jnp	short loc_25B20
		wait
		fstp	st
		wait
		fld	cs:tbyte_2599A
		jmp	short loc_25B18
; ---------------------------------------------------------------------------

loc_25AE3:				; CODE XREF: seg017:0360j
		wait
		fcompp
		wait
		fld	cs:tbyte_25990
		jmp	short loc_25B18
; ---------------------------------------------------------------------------

loc_25AEE:				; CODE XREF: seg017:0330j
		wait
		fabs
		wait
		fld1
		wait
		fcom	st(1)
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jz	short loc_25AE3
		jnb	short loc_25B07
		wait
		fxch	st(1)

loc_25B07:				; CODE XREF: seg017:0362j
		wait
		fpatan
		jnb	short loc_25B18
		wait
		fld	cs:tbyte_2599A
		wait
		fsubp	st(1), st
		xor	ch, 2

loc_25B18:				; CODE XREF: seg017:0341j seg017:034Cj ...
		test	ch, 2
		jz	short loc_25B20
		wait
		fchs

loc_25B20:				; CODE XREF: seg017:0332j
					; seg017:loc_25AD4j ...
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------
		wait
		fld1
		jmp	short loc_25B31
; ---------------------------------------------------------------------------
		wait
		fldlg2
		jmp	short loc_25B31
; ---------------------------------------------------------------------------
		wait
		fldln2

loc_25B31:				; CODE XREF: seg017:0387j seg017:038Cj
		wait
		fxch	st(1)
		push	bp
		mov	bp, sp
		wait
		fxam
		lea	sp, [bp-0Ah]
		fstsw	word ptr [bp-0Ah]
		wait
		mov	ah, [bp-9]
		sahf
		jb	short loc_25B54
		jz	short loc_25B4F
		test	ah, 2
		jz	short loc_25B71

loc_25B4F:				; CODE XREF: seg017:03A8j
		wait
		fstp	st
		jmp	short loc_25B63
; ---------------------------------------------------------------------------

loc_25B54:				; CODE XREF: seg017:03A6j
		jz	short loc_25B6C
		wait
		fstp	st(1)
		jnp	short loc_25B6C
		wait
		fstp	st(1)
		test	ah, 2
		jz	short loc_25B95

loc_25B63:				; CODE XREF: seg017:03B2j
		wait
		fstp	st
		wait
		fld	cs:flt_259A8

loc_25B6C:				; CODE XREF: seg017:loc_25B54j
					; seg017:03B9j
		wait
		ftst
		jmp	short loc_25B95
; ---------------------------------------------------------------------------

loc_25B71:				; CODE XREF: seg017:03ADj
		wait
		fld	st
		wait
		fstp	tbyte ptr [bp-0Ah]
		wait
		cmp	word ptr [bp-2], 3FFFh
		jnz	short loc_25B92
		cmp	word ptr [bp-4], 8000h
		jnz	short loc_25B92
		wait
		fld1
		wait
		fsubp	st(1), st
		wait
		fyl2xp1
		jmp	short loc_25B95
; ---------------------------------------------------------------------------

loc_25B92:				; CODE XREF: seg017:03DEj seg017:03E5j
		wait
		fyl2x

loc_25B95:				; CODE XREF: seg017:03C1j seg017:03CFj ...
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------
		sub	cx, cx
		jmp	short loc_25BAF
; ---------------------------------------------------------------------------
		wait
		fldl2t
		mov	cl, 1
		wait
		fxch	st(1)
		jmp	short loc_25BAF
; ---------------------------------------------------------------------------
		wait
		fldl2e
		mov	cl, 1
		wait
		fxch	st(1)

loc_25BAF:				; CODE XREF: seg017:03FBj seg017:0405j
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-4]
		fstsw	word ptr [bp-4]
		jcxz	short loc_25BC1
		wait
		fxch	st(1)

loc_25BC1:				; CODE XREF: seg017:041Cj
		wait
		mov	ah, [bp-3]
		sahf
		jb	short loc_25BD8
		jnz	short loc_25BF3
		wait
		fstp	st
		jcxz	short loc_25BD2
		wait
		fstp	st

loc_25BD2:				; CODE XREF: seg017:042Dj
		wait
		fld1
		jmp	loc_25C7C
; ---------------------------------------------------------------------------

loc_25BD8:				; CODE XREF: seg017:0426j
		jcxz	short loc_25BDD
		wait
		fstp	st

loc_25BDD:				; CODE XREF: seg017:loc_25BD8j
		jz	short loc_25BED
		jnp	short loc_25BED
		wait
		fstp	st
		wait
		fld	cs:flt_259BE
		jmp	loc_25C71
; ---------------------------------------------------------------------------

loc_25BED:				; CODE XREF: seg017:loc_25BDDj
					; seg017:043Fj
		wait
		ftst
		jmp	loc_25C7C
; ---------------------------------------------------------------------------

loc_25BF3:				; CODE XREF: seg017:0428j
		jcxz	short loc_25BF8
		wait
		fmulp	st(1), st

loc_25BF8:				; CODE XREF: seg017:loc_25BF3j
		wait
		fabs
		wait
		fcom	cs:flt_259B0
		fstsw	word ptr [bp-4]
		wait
		test	byte ptr [bp-3], 41h
		jz	short loc_25C17
		wait
		f2xm1
		wait
		fld1
		wait
		faddp	st(1), st
		jmp	short loc_25C71
; ---------------------------------------------------------------------------

loc_25C17:				; CODE XREF: seg017:046Aj
		wait
		fld1
		wait
		fld	st(1)
		fstcw	word ptr [bp-4]
		wait
		fscale
		or	byte ptr [bp-3], 0Fh
		wait
		fldcw	word ptr [bp-4]
		wait
		frndint
		and	byte ptr [bp-3], 0F3h
		wait
		fldcw	word ptr [bp-4]
		wait
		fist	word ptr [bp-2]
		wait
		fxch	st(1)
		wait
		fchs
		wait
		fxch	st(1)
		wait
		fscale
		wait
		fstp	st(1)
		wait
		fsubp	st(1), st
		wait
		f2xm1
		wait
		fld1
		wait
		faddp	st(1), st
		shr	word ptr [bp-2], 1
		jnb	short loc_25C64
		wait
		fld	cs:tbyte_259B4
		wait
		fmulp	st(1), st

loc_25C64:				; CODE XREF: seg017:04B9j
		wait
		fild	word ptr [bp-2]
		wait
		fxch	st(1)
		wait
		fscale
		wait
		fstp	st(1)

loc_25C71:				; CODE XREF: seg017:044Aj seg017:0475j
		test	ah, 2
		jz	short loc_25C7C
		wait
		fld1
		wait
		fdivrp	st(1), st

loc_25C7C:				; CODE XREF: seg017:0435j seg017:0450j ...
		mov	sp, bp
		pop	bp
		retn
; [000000AF BYTES: COLLAPSED FUNCTION e087_Entry. PRESS	KEYPAD "+" TO EXPAND]
		db 22h,	2, 26h,	2, 2Ah,	2, 1Bh,	3, 8Eh,	3, 84h,	3, 89h
		db 3, 7, 4, 0F9h, 3, 0FDh, 3
; ---------------------------------------------------------------------------

e087_Shortcut:				; DATA XREF: seg000:045Do
		sti
		push	ax
		push	si
		push	es
		push	bp
		mov	bp, sp
		les	si, [bp+8]
		lods	byte ptr es:[si]
		mov	[bp+8],	si
		cbw
		xchg	ax, si
		push	cx
		call	word ptr cs:[si+5A3h]
		pop	cx
		pop	bp
		pop	es
		pop	si
		pop	ax
		iret
seg017		ends

; ===========================================================================

; Segment type:	Pure code
seg018		segment	byte public 'CODE' use16
		assume cs:seg018
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
byte_25D60	db 87h,	0E2h, 0, 0Ch, 18h, 24h,	30h, 3Ch, 48h, 54h, 60h
		db 6Ch,	78h, 84h, 90h, 9Ch, 0A8h, 0B4h

; =============== S U B	R O U T	I N E =======================================


sub_25D72	proc near		; CODE XREF: sub_25E53-3Dp
					; sub_25E53-19p ...
		push	dx
		push	si
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jnz	short loc_25DA4
		cmp	bx, 0FFFFh
		jz	short loc_25DA0
		cmp	word ptr [bx+8], 4001h
		jl	short loc_25DA0
		mov	dx, [bx+6]
		and	dh, 7Fh
		or	dx, [bx]
		or	dx, [bx+2]
		or	dx, [bx+4]
		jnz	short loc_25DE4

loc_25DA0:				; CODE XREF: sub_25D72+15j
					; sub_25D72+1Cj
		clc

loc_25DA1:				; CODE XREF: sub_25D72+82j
		pop	si
		pop	dx
		retn
; ---------------------------------------------------------------------------

loc_25DA4:				; CODE XREF: sub_25D72+10j
		cmp	bx, 0FFFFh
		jz	short loc_25DE6
		cmp	word ptr [bx+8], 4001h
		jl	short loc_25DE6
		mov	dx, [bx+6]
		and	dh, 7Fh
		or	dx, [bx]
		or	dx, [bx+2]
		or	dx, [bx+4]
		jz	short loc_25DE6
		mov	dx, [si+6]
		cmp	dx, [bx+6]
		ja	short loc_25DE6
		jb	short loc_25DE4
		mov	dx, [si+4]
		cmp	dx, [bx+4]
		ja	short loc_25DE6
		jb	short loc_25DE4
		mov	dx, [si+2]
		cmp	dx, [bx+2]
		ja	short loc_25DE6
		jb	short loc_25DE4
		mov	dx, [si]
		cmp	dx, [bx]
		ja	short loc_25DE6

loc_25DE4:				; CODE XREF: sub_25D72+2Cj
					; sub_25D72+56j ...
		mov	si, bx

loc_25DE6:				; CODE XREF: sub_25D72+35j
					; sub_25D72+3Cj ...
		push	di
		mov	ch, 1
		call	sub_28469
		mov	cx, 6
		cld
		rep movsw
		stc
		pop	di
		jmp	short loc_25DA1
sub_25D72	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_25E53

loc_25DF6:				; CODE XREF: sub_25E53-32j
					; sub_25E53-29j
		mov	al, [si+0Ah]

loc_25DF9:				; CODE XREF: sub_25E53-14j
		mov	[bp+var_5], al
		mov	[bp+var_4], 4001h
		nop
		jmp	short loc_25E41
; ---------------------------------------------------------------------------

loc_25E04:				; CODE XREF: sub_25E53-2Bj
		mov	di, [bp+arg_0]
		nop
		call	sub_26BB3

loc_25E0B:				; CODE XREF: sub_25E53-38j
					; sub_25E53-16j
		jmp	loc_25FA1
; ---------------------------------------------------------------------------

loc_25E0E:				; CODE XREF: sub_25E53+24j
		push	bx
		push	di
		mov	bx, di
		mov	di, [bp+arg_0]
		nop
		call	sub_25D72
		pop	di
		pop	bx
		jb	short loc_25E0B
		cmp	bx, 4001h
		jl	short loc_25DF6
		mov	al, [bp+var_6]
		or	al, al
		jnz	short loc_25E04
		jmp	short loc_25DF6
; ---------------------------------------------------------------------------

loc_25E2C:				; CODE XREF: sub_25E53+2Aj
		mov	bx, 0FFFFh
		mov	al, [di+0Ah]
		xor	al, cl
		mov	si, di
		mov	di, [bp+arg_0]
		nop
		call	sub_25D72
		jb	short loc_25E0B
		jmp	short loc_25DF9
; ---------------------------------------------------------------------------

loc_25E41:				; CODE XREF: sub_25E53-51j
					; sub_25E53+48j ...
		mov	ax, [si]
		mov	bx, [si+2]
		mov	cx, [si+4]
		mov	dx, [si+6]
		jmp	loc_25F8E
; END OF FUNCTION CHUNK	FOR sub_25E53

; =============== S U B	R O U T	I N E =======================================


sub_25E4F	proc near		; CODE XREF: sub_27586+6Ep
					; seg018:1C67p	...
		mov	cl, 1
		jmp	short loc_25E55
sub_25E4F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_25E53	proc near		; CODE XREF: seg018:0830p
					; sub_27586+7Dp ...

var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= byte ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

; FUNCTION CHUNK AT 0096 SIZE 00000059 BYTES

		mov	cl, 0

loc_25E55:				; CODE XREF: sub_25E4F+2j
		push	bp
		mov	bp, sp
		lea	sp, [bp-6]
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		mov	al, cl
		xor	al, [di+0Ah]
		xor	al, [si+0Ah]
		mov	[bp+var_6], al
		mov	ax, [si+8]
		mov	bx, [di+8]
		cmp	ax, 4001h
		jge	short loc_25E0E
		cmp	bx, 4001h
		jge	short loc_25E2C
		cmp	ax, bx
		jge	short loc_25E8B
		xor	cl, [di+0Ah]
		xchg	ax, bx
		xchg	si, di
		jmp	short loc_25E8E
; ---------------------------------------------------------------------------

loc_25E8B:				; CODE XREF: sub_25E53+2Ej
		mov	cl, [si+0Ah]

loc_25E8E:				; CODE XREF: sub_25E53+36j
		mov	[bp+var_5], cl
		mov	cx, [si+8]
		mov	[bp+var_4], cx
		cmp	bx, 0C001h
		jle	short loc_25E41
		sub	ax, bx
		cmp	ax, 41h	; 'A'
		jg	short loc_25E41
		mov	bx, [di+2]
		mov	cx, [di+4]
		mov	dx, [di+6]
		mov	di, [di]
		xchg	ax, di
		mov	[bp+var_2], 0
		sub	di, 8
		jl	short loc_25ED1

loc_25EB9:				; CODE XREF: sub_25E53+7Cj
		mov	[bp+var_2], al
		mov	al, ah
		mov	ah, bl
		mov	bl, bh
		mov	bh, cl
		mov	cl, ch
		mov	ch, dl
		mov	dl, dh
		mov	dh, 0
		sub	di, 8
		jge	short loc_25EB9

loc_25ED1:				; CODE XREF: sub_25E53+64j
		and	di, 7
		jz	short loc_25EE4

loc_25ED6:				; CODE XREF: sub_25E53+8Fj
		shr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		rcr	[bp+var_2], 1
		dec	di
		jnz	short loc_25ED6

loc_25EE4:				; CODE XREF: sub_25E53+81j
		cmp	[bp+var_6], 0
		jnz	short loc_25F07
		add	ax, [si]
		adc	bx, [si+2]
		adc	cx, [si+4]
		adc	dx, [si+6]
		jnb	short loc_25F6E
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		rcr	[bp+var_2], 1
		inc	[bp+var_4]
		jmp	short loc_25F6E
; ---------------------------------------------------------------------------

loc_25F07:				; CODE XREF: sub_25E53+95j
		xor	[bp+var_5], 1
		sub	ax, [si]
		sbb	bx, [si+2]
		sbb	cx, [si+4]
		sbb	dx, [si+6]
		jnb	short loc_25F30
		xor	[bp+var_5], 1
		not	dx
		not	cx
		not	bx
		not	ax
		neg	[bp+var_2]
		cmc
		adc	ax, di
		adc	bx, di
		adc	cx, di
		adc	dx, di

loc_25F30:				; CODE XREF: sub_25E53+C3j
		mov	si, 8

loc_25F33:				; CODE XREF: sub_25E53+FEj
		or	dh, dh
		jnz	short loc_25F6C
		mov	dh, dl
		mov	dl, ch
		mov	ch, cl
		mov	cl, bh
		mov	bh, bl
		mov	bl, ah
		mov	ah, al
		mov	al, [bp+var_2]
		mov	[bp+var_2], 0
		sub	[bp+var_4], 8
		dec	si
		jge	short loc_25F33
		mov	[bp+var_4], 0C001h
		mov	[bp+var_5], 0
		jmp	short loc_25F8E
; ---------------------------------------------------------------------------

loc_25F5E:				; CODE XREF: sub_25E53:loc_25F6Cj
		dec	[bp+var_4]
		shl	[bp+var_2], 1
		rcl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx

loc_25F6C:				; CODE XREF: sub_25E53+E2j
		jns	short loc_25F5E

loc_25F6E:				; CODE XREF: sub_25E53+A2j
					; sub_25E53+B2j
		shl	[bp+var_2], 1
		adc	ax, di
		adc	bx, di
		adc	cx, di
		adc	dx, di
		jnb	short loc_25F80
		rcr	dx, 1
		inc	[bp+var_4]

loc_25F80:				; CODE XREF: sub_25E53+126j
		cmp	[bp+var_4], 4001h
		jge	short loc_25FA9
		cmp	[bp+var_4], 0C001h
		jle	short loc_25FB2

loc_25F8E:				; CODE XREF: sub_25E53-7j
					; sub_25E53+109j ...
		cld
		mov	di, [bp+arg_0]
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		mov	ax, [bp+var_4]
		stosw
		mov	al, [bp+var_5]
		stosb

loc_25FA1:				; CODE XREF: sub_25E53:loc_25E0Bj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	6
; ---------------------------------------------------------------------------

loc_25FA9:				; CODE XREF: sub_25E53+132j
		mov	ch, 8
		mov	[bp+var_4], 4001h
		jmp	short loc_25FB9
; ---------------------------------------------------------------------------

loc_25FB2:				; CODE XREF: sub_25E53+139j
		mov	ch, 10h
		mov	[bp+var_4], 0C001h

loc_25FB9:				; CODE XREF: sub_25E53+15Dj
		call	sub_28469
		mov	[bp+var_5], 0
		sub	ax, ax
		mov	bx, ax
		mov	cx, ax
		cwd
		jmp	short loc_25F8E
sub_25E53	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_2601D

loc_25FC9:				; CODE XREF: sub_2601D-31j
					; sub_2601D-1Bj ...
		mov	ax, 4001h

loc_25FCC:				; CODE XREF: sub_2601D-2j
		mov	di, [bp+arg_0]
		mov	cl, [bp+var_6]
		call	sub_26B9D

loc_25FD5:				; CODE XREF: sub_2601D-3Aj
					; sub_2601D-22j ...
		pop	ax
		jmp	loc_260AD
; ---------------------------------------------------------------------------

loc_25FD9:				; CODE XREF: sub_2601D+21j
		push	di
		mov	bx, di
		mov	di, [bp+arg_0]
		call	sub_25D72
		pop	di
		jb	short loc_25FD5
		cmp	word ptr [di+8], 0C001h
		jle	short loc_26004
		jmp	short loc_25FC9
; ---------------------------------------------------------------------------

loc_25FEE:				; CODE XREF: sub_2601D+25j
		push	si
		mov	bx, 0FFFFh
		mov	si, di
		mov	di, [bp+arg_0]
		call	sub_25D72
		pop	si
		jb	short loc_25FD5
		cmp	word ptr [si+8], 0C001h
		jg	short loc_25FC9

loc_26004:				; CODE XREF: sub_2601D-33j
		mov	di, [bp+arg_0]
		call	sub_26BB3
		jmp	short loc_25FD5
; ---------------------------------------------------------------------------

loc_2600C:				; CODE XREF: sub_2601D+35j
		mov	ch, 8
		call	sub_28469
		jmp	short loc_25FC9
; ---------------------------------------------------------------------------

loc_26013:				; CODE XREF: sub_2601D+3Bj
		mov	ch, 10h
		call	sub_28469

loc_26018:				; CODE XREF: sub_2601D+29j
					; sub_2601D+2Dj
		mov	ax, 0C001h
		jmp	short loc_25FCC
; END OF FUNCTION CHUNK	FOR sub_2601D

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2601D	proc near		; CODE XREF: sub_27465+12p
					; sub_27586+74p ...

var_6		= byte ptr -6
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_1A		= word ptr  1Eh

; FUNCTION CHUNK AT 0269 SIZE 00000054 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		mov	cl, [si+0Ah]
		xor	cl, [di+0Ah]
		push	cx
		mov	dx, 4001h
		mov	bx, [di+8]
		mov	cx, 0C001h
		mov	ax, [si+8]
		cmp	ax, dx
		jge	short loc_25FD9
		cmp	bx, dx
		jge	short loc_25FEE
		cmp	ax, cx
		jle	short loc_26018
		cmp	bx, cx
		jle	short loc_26018
		add	ax, bx
		dec	ax
		cmp	ax, 4001h
		jge	short loc_2600C
		inc	ax
		cmp	ax, 0C001h
		jle	short loc_26013
		push	word ptr [si+6]
		push	word ptr [si+4]
		push	word ptr [si+2]
		push	word ptr [si]
		sub	sp, 4
		push	word ptr [di+6]
		push	word ptr [di+4]
		push	word ptr [di+2]
		push	word ptr [di]
		xchg	ax, di
		mov	bp, sp
		call	sub_260B3
		add	sp, 14h
		or	dx, dx
		js	short loc_2608B
		dec	di
		shl	si, 1
		rcl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1

loc_2608B:				; CODE XREF: sub_2601D+61j
		shl	si, 1
		adc	ax, 0
		jnb	short loc_2609D
		adc	bx, ax
		adc	cx, ax
		adc	dx, ax
		jnb	short loc_2609D
		rcr	dx, 1
		inc	di

loc_2609D:				; CODE XREF: sub_2601D+73j
					; sub_2601D+7Bj
		mov	si, di
		mov	di, [bp+arg_1A]
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, si
		stosw
		pop	ax
		stosb

loc_260AD:				; CODE XREF: sub_2601D-47j
		pop	di
		pop	si
		pop	bp
		retn	6
sub_2601D	endp


; =============== S U B	R O U T	I N E =======================================


sub_260B3	proc near		; CODE XREF: sub_2601D+59p
					; sub_272AE+28p
		push	di
		sub	di, di
		mov	cx, di
		mov	si, di
		test	byte ptr [bp+0Fh], 80h
		jz	short loc_260C6
		mov	cx, [bp+0]
		mov	si, [bp+2]

loc_260C6:				; CODE XREF: sub_260B3+Bj
		test	byte ptr [bp+3], 80h
		jz	short loc_260DB
		add	cx, [bp+0Ch]
		adc	si, [bp+0Eh]
		adc	di, di
		test	byte ptr [bp+0Fh], 80h
		jz	short loc_260DB
		dec	di

loc_260DB:				; CODE XREF: sub_260B3+17j
					; sub_260B3+25j
		sub	bx, bx
		mov	ax, [bp+0Ch]
		mul	word ptr [bp+4]
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+10h]
		or	ax, ax
		jz	short loc_26108
		mul	word ptr [bp+0]
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+10h]
		mul	word ptr [bp+2]
		add	si, ax
		adc	di, dx
		adc	bx, 0

loc_26108:				; CODE XREF: sub_260B3+3Cj
		mov	ax, [bp+0Ch]
		mul	word ptr [bp+6]
		add	si, ax
		adc	di, dx
		adc	bx, 0
		mov	ax, [bp+0Eh]
		mul	word ptr [bp+4]
		add	si, ax
		adc	di, dx
		adc	bx, 0
		mov	ax, [bp+12h]
		or	ax, ax
		jz	short loc_26133
		mul	word ptr [bp+0]
		add	si, ax
		adc	di, dx
		adc	bx, 0

loc_26133:				; CODE XREF: sub_260B3+74j
		sub	cx, cx
		push	si
		mov	si, cx
		mov	ax, [bp+0Eh]
		mul	word ptr [bp+6]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		mov	ax, [bp+10h]
		or	ax, ax
		jz	short loc_26163
		mul	word ptr [bp+4]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		mov	ax, [bp+10h]
		mul	word ptr [bp+6]
		add	bx, ax
		adc	cx, dx
		adc	si, 0

loc_26163:				; CODE XREF: sub_260B3+97j
		mov	ax, [bp+12h]
		or	ax, ax
		jz	short loc_2618E
		mul	word ptr [bp+2]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		adc	si, 0
		mov	ax, [bp+12h]
		mul	word ptr [bp+4]
		add	bx, ax
		adc	cx, dx
		adc	si, 0
		mov	ax, [bp+12h]
		mul	word ptr [bp+6]
		add	cx, ax
		adc	si, dx

loc_2618E:				; CODE XREF: sub_260B3+B5j
		mov	dx, si
		xchg	ax, di
		pop	si
		pop	di
		retn
sub_260B3	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_261EA

loc_26194:				; CODE XREF: sub_261EA+22j
		mov	si, di
		mov	di, [bp+arg_0]
		nop
		call	sub_25D72
		jb	short loc_261CE
		cmp	word ptr [bx+8], 4001h
		jl	short loc_261D6
		call	sub_26BB3
		jmp	short loc_261CE
; ---------------------------------------------------------------------------

loc_261AB:				; CODE XREF: sub_261EA+27j
		mov	si, bx
		mov	bx, 0FFFFh
		mov	di, [bp+arg_0]
		nop
		call	sub_25D72
		jb	short loc_261CE
		jmp	short loc_261C0
; ---------------------------------------------------------------------------

loc_261BB:				; CODE XREF: sub_261EA+2Dj
		mov	ch, 4

loc_261BD:				; CODE XREF: sub_261EA-Dj
		call	sub_28469

loc_261C0:				; CODE XREF: sub_261EA-31j
					; sub_261EA:loc_2653Bj
		mov	ax, 4001h

loc_261C3:				; CODE XREF: sub_261EA-11j
		mov	cl, [bp+var_7]
		nop
		mov	di, [bp+arg_0]
		nop
		call	sub_26B9D

loc_261CE:				; CODE XREF: sub_261EA-4Dj
					; sub_261EA-41j ...
		jmp	loc_26532
; ---------------------------------------------------------------------------

loc_261D1:				; CODE XREF: sub_261EA+3Ej
		mov	ch, 10h
		call	sub_28469

loc_261D6:				; CODE XREF: sub_261EA-46j
					; sub_261EA+32j
		mov	ax, 0C001h
		jmp	short loc_261C3
; ---------------------------------------------------------------------------

loc_261DB:				; CODE XREF: sub_261EA+39j
		mov	ch, 8
		jmp	short loc_261BD
; ---------------------------------------------------------------------------

loc_261DF:				; CODE XREF: sub_261EA+5Aj
		mov	ax, [bp+var_12]
		or	ax, [bp+var_14]
		jnz	short loc_26246
		jmp	loc_2653E
; END OF FUNCTION CHUNK	FOR sub_261EA

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_261EA	proc near		; CODE XREF: seg018:082Ap sub_27586+Bp ...

var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= word ptr -6
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

; FUNCTION CHUNK AT 0434 SIZE 00000056 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		lea	sp, [bp-0Ch]
		mov	di, [bp+arg_2]
		mov	bx, [bp+arg_4]
		cld
		mov	al, [bx+0Ah]
		xor	al, [di+0Ah]
		mov	[bp+var_7], al
		mov	si, [di+8]
		mov	ax, [bx+8]
		cmp	si, 4001h
		jge	short loc_26194
		cmp	ax, 4001h
		jge	short loc_261AB
		cmp	si, 0C001h
		jle	short loc_261BB
		cmp	ax, 0C001h
		jle	short loc_261D6
		sub	ax, si
		cmp	ax, 4001h
		jge	short loc_261DB
		cmp	ax, 0C001h
		jle	short loc_261D1
		mov	dx, [di+6]
		push	dx
		mov	cx, [di+4]
		push	cx
		push	word ptr [di+2]
		push	word ptr [di]
		mov	[bp+var_6], ax
		mov	[bp+var_8], 0
		mov	di, [bx+6]
		mov	si, [bx+4]
		jcxz	short loc_261DF

loc_26246:				; CODE XREF: sub_261EA-5j
		xchg	ax, cx
		mov	cx, [bx+2]
		mov	bx, [bx]
		cmp	di, dx
		jb	short loc_262CA
		mov	[bp+var_8], 1
		sub	bx, [bp+var_14]
		sbb	cx, [bp+var_12]
		sbb	si, ax
		sbb	di, dx
		jnb	short loc_262CA
		sub	ax, ax
		cwd
		sub	ax, si
		sbb	dx, di
		div	[bp+var_E]
		mov	[bp+var_A], ax
		mul	[bp+var_E]
		add	si, ax
		adc	di, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_A]
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_A]
		add	bx, ax
		adc	cx, dx
		adc	si, 0
		adc	di, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_A]
		neg	[bp+var_A]
		sbb	[bp+var_8], 0
		add	bx, dx
		adc	cx, 0
		adc	si, 0
		adc	di, 0
		xchg	ax, di
		jl	short loc_262C5
		cmp	si, [bp+var_E]
		jb	short loc_262C7
		add	[bp+var_A], 1
		adc	[bp+var_8], 0
		sub	di, [bp+var_14]
		sbb	bx, [bp+var_12]
		sbb	cx, [bp+var_10]
		sbb	si, [bp+var_E]

loc_262C5:				; CODE XREF: sub_261EA+C0j
		jl	short loc_2632D

loc_262C7:				; CODE XREF: sub_261EA+C5j
					; sub_261EA+122j
		jmp	loc_26396
; ---------------------------------------------------------------------------

loc_262CA:				; CODE XREF: sub_261EA+64j
					; sub_261EA+74j
		mov	ax, si
		mov	dx, di
		div	[bp+var_E]
		mov	[bp+var_A], ax
		mul	[bp+var_E]
		sub	si, ax
		sbb	di, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_A]
		sub	cx, ax
		sbb	si, dx
		sbb	di, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_A]
		sub	bx, ax
		sbb	cx, dx
		sbb	si, 0
		sbb	di, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_A]
		neg	ax
		sbb	bx, dx
		sbb	cx, 0
		sbb	si, 0
		sbb	di, 0
		xchg	ax, di
		jge	short loc_262C7
		mov	dx, si
		neg	dx
		cmp	dx, [bp+var_E]
		jb	short loc_2632D
		sub	[bp+var_A], 1
		sbb	[bp+var_8], 0
		add	di, [bp+var_14]
		adc	bx, [bp+var_12]
		adc	cx, [bp+var_10]
		adc	si, [bp+var_E]
		jge	short loc_26396

loc_2632D:				; CODE XREF: sub_261EA:loc_262C5j
					; sub_261EA+12Bj
		sub	ax, ax
		cwd
		sub	ax, cx
		sbb	dx, si
		div	[bp+var_E]
		mov	[bp+var_C], ax
		mul	[bp+var_E]
		add	cx, ax
		adc	si, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_C]
		add	bx, ax
		adc	cx, dx
		adc	si, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_C]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		adc	si, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_C]
		sub	ax, ax
		neg	[bp+var_C]
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, dx
		adc	bx, ax
		adc	cx, ax
		adc	si, ax
		jl	short loc_263F4
		cmp	cx, [bp+var_E]
		jb	short loc_26393
		add	[bp+var_C], 1
		adc	[bp+var_A], ax
		adc	[bp+var_8], al
		sub	di, [bp+var_12]
		sbb	bx, [bp+var_10]
		sbb	cx, [bp+var_E]
		jl	short loc_263F4

loc_26393:				; CODE XREF: sub_261EA+192j
		jmp	loc_26449
; ---------------------------------------------------------------------------

loc_26396:				; CODE XREF: sub_261EA:loc_262C7j
					; sub_261EA+141j
		mov	ax, cx
		mov	dx, si
		div	[bp+var_E]
		mov	[bp+var_C], ax
		mul	[bp+var_E]
		sub	cx, ax
		sbb	si, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_C]
		sub	bx, ax
		sbb	cx, dx
		sbb	si, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_C]
		sub	di, ax
		sbb	bx, dx
		sbb	cx, 0
		sbb	si, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_C]
		sub	ax, ax
		sub	di, dx
		sbb	bx, ax
		sbb	cx, ax
		sbb	si, ax
		jge	short loc_26449
		mov	dx, cx
		neg	dx
		cmp	dx, [bp+var_E]
		jb	short loc_263F4
		sub	[bp+var_C], 1
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, [bp+var_12]
		adc	bx, [bp+var_10]
		adc	cx, [bp+var_E]
		jge	short loc_26449

loc_263F4:				; CODE XREF: sub_261EA+18Dj
					; sub_261EA+1A7j ...
		sub	ax, ax
		cwd
		sub	ax, bx
		sbb	dx, cx
		div	[bp+var_E]
		mov	si, ax
		mul	[bp+var_E]
		add	bx, ax
		adc	cx, dx
		mov	ax, [bp+var_10]
		mul	si
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		mov	ax, [bp+var_12]
		mul	si
		sub	ax, ax
		neg	si
		sbb	[bp+var_C], ax
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, dx
		adc	bx, ax
		adc	cx, ax
		jl	short loc_26491
		cmp	bx, [bp+var_E]
		jb	short loc_26446
		add	si, 1
		adc	[bp+var_C], ax
		adc	[bp+var_A], ax
		adc	[bp+var_8], al
		sub	di, [bp+var_10]
		sbb	bx, [bp+var_E]
		jl	short loc_26491

loc_26446:				; CODE XREF: sub_261EA+246j
		jmp	loc_264D3
; ---------------------------------------------------------------------------

loc_26449:				; CODE XREF: sub_261EA:loc_26393j
					; sub_261EA+1EAj ...
		mov	ax, bx
		mov	dx, cx
		div	[bp+var_E]
		mov	si, ax
		mul	[bp+var_E]
		sub	bx, ax
		sbb	cx, dx
		mov	ax, [bp+var_10]
		mul	si
		sub	di, ax
		sbb	bx, dx
		sbb	cx, 0
		mov	ax, [bp+var_12]
		mul	si
		sub	ax, ax
		sub	di, dx
		sbb	bx, ax
		sbb	cx, ax
		jge	short loc_264D3
		mov	dx, bx
		neg	dx
		cmp	dx, [bp+var_E]
		jb	short loc_26491
		sub	si, 1
		sbb	[bp+var_C], ax
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, [bp+var_10]
		adc	bx, [bp+var_E]
		jge	short loc_264D3

loc_26491:				; CODE XREF: sub_261EA+241j
					; sub_261EA+25Aj ...
		mov	ax, [bp+var_10]
		shr	ax, 1
		neg	ax
		mov	cx, [bp+var_E]
		add	ax, cx
		sub	dx, dx
		sub	ax, di
		sbb	dx, bx
		mov	bx, [bp+var_C]
		mov	di, [bp+var_A]
		cmp	dx, cx
		jnb	short loc_264C8
		div	cx
		sub	dx, cx
		neg	dx
		neg	ax

loc_264B5:				; CODE XREF: sub_261EA+2E2j
		mov	dl, [bp+var_8]
		sbb	si, 0
		jnb	short loc_264F1
		sbb	bx, 0
		sbb	di, 0
		sbb	dl, 0
		jmp	short loc_264F1
; ---------------------------------------------------------------------------

loc_264C8:				; CODE XREF: sub_261EA+2C1j
		sub	ax, ax
		cwd
		stc
		jmp	short loc_264B5
; ---------------------------------------------------------------------------

loc_264CE:				; CODE XREF: sub_261EA+300j
		sub	ax, ax
		cwd
		jmp	short loc_264EE
; ---------------------------------------------------------------------------

loc_264D3:				; CODE XREF: sub_261EA:loc_26446j
					; sub_261EA+288j ...
		mov	ax, [bp+var_10]
		shr	ax, 1
		neg	ax
		cwd
		add	ax, di
		adc	dx, bx
		mov	bx, [bp+var_C]
		mov	di, [bp+var_A]
		mov	cx, [bp+var_E]
		cmp	dx, cx
		jnb	short loc_264CE
		div	cx

loc_264EE:				; CODE XREF: sub_261EA+2E7j
					; sub_261EA+375j
		mov	dl, [bp+var_8]

loc_264F1:				; CODE XREF: sub_261EA+2D1j
					; sub_261EA+2DCj
		shr	dl, 1
		jnb	short loc_26502
		rcr	di, 1
		rcr	bx, 1
		rcr	si, 1
		rcr	ax, 1
		rcr	dh, 1
		inc	[bp+var_6]

loc_26502:				; CODE XREF: sub_261EA+309j
		shr	cx, 1
		sub	ch, dh
		mov	cx, [bp+var_6]
		adc	ax, 0
		jnb	short loc_26519
		adc	si, ax
		adc	bx, ax
		adc	di, ax
		jnb	short loc_26519
		rcr	di, 1
		inc	cx

loc_26519:				; CODE XREF: sub_261EA+322j
					; sub_261EA+32Aj
		cmp	cx, 4001h
		jge	short loc_2653B
		mov	dx, di
		mov	di, [bp+arg_0]
		cld
		stosw
		xchg	ax, si
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, cx
		stosw
		mov	al, [bp+var_7]
		stosb

loc_26532:				; CODE XREF: sub_261EA:loc_261CEj
		lea	sp, [bp-4]
		pop	di
		pop	si
		pop	bp
		retn	6
; ---------------------------------------------------------------------------

loc_2653B:				; CODE XREF: sub_261EA+333j
		jmp	loc_261C0
; ---------------------------------------------------------------------------

loc_2653E:				; CODE XREF: sub_261EA-3j
		mov	cx, dx
		mov	dx, di
		xchg	ax, si
		cmp	dx, cx
		jb	short loc_2654D
		sub	dx, cx
		mov	[bp+var_8], 1

loc_2654D:				; CODE XREF: sub_261EA+35Bj
		div	cx
		xchg	ax, di
		mov	ax, [bx+2]
		div	cx
		mov	bx, [bx]
		xchg	ax, bx
		div	cx
		xchg	ax, si
		sub	ax, ax
		div	cx
		jmp	short loc_264EE
sub_261EA	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		mov	si, word_29B1D
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [si+8]
		cmp	ax, 0C001h
		jle	short loc_2659B
		cmp	ax, 4001h
		jge	short loc_2659F
		cmp	byte ptr [si+0Ah], 0
		jnz	short loc_265A9
		call	sub_26BCB
		call	sub_265BA
		mov	di, word_29B1D
		push	si
		push	di
		push	si
		call	sub_261EA
		push	di
		push	si
		push	si
		call	sub_25E53
		dec	word ptr [si+8]
		add	word_29B1D, 0Ch

loc_2659B:				; CODE XREF: seg018:0810j seg018:0847j ...
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_2659F:				; CODE XREF: seg018:0815j
		mov	bx, 0FFFFh
		mov	di, si
		call	sub_25D72
		jmp	short loc_2659B
; ---------------------------------------------------------------------------

loc_265A9:				; CODE XREF: seg018:081Bj
		mov	ch, 1
		call	sub_28469
		mov	di, si
		call	sub_26B87
		mov	word ptr [di+8], 4001h
		jmp	short loc_2659B

; =============== S U B	R O U T	I N E =======================================


sub_265BA	proc near		; CODE XREF: seg018:0820p
		push	si
		push	di
		mov	di, word_29B1D
		mov	bx, [di+8]
		mov	dx, [di+6]
		mov	ax, [di+4]
		mov	cx, [di+2]
		sar	bx, 1
		jnb	short loc_265D7
		inc	bx
		shr	dx, 1
		rcr	ax, 1
		rcr	cx, 1

loc_265D7:				; CODE XREF: sub_265BA+14j
		cmp	dx, 0FFFEh
		jnb	short loc_265F9
		push	bx
		push	cx
		mov	cx, dx
		mov	bx, ax
		mov	si, dx
		stc
		rcr	si, 1

loc_265E7:				; CODE XREF: sub_265BA+3Dj
		div	si
		dec	si
		cmp	si, ax
		jbe	short loc_26600
		inc	si
		add	si, ax
		rcr	si, 1
		mov	dx, cx
		mov	ax, bx
		jmp	short loc_265E7
; ---------------------------------------------------------------------------

loc_265F9:				; CODE XREF: sub_265BA+20j
		stc
		rcr	dx, 1
		rcr	ax, 1
		jmp	short loc_26617
; ---------------------------------------------------------------------------

loc_26600:				; CODE XREF: sub_265BA+32j
		inc	si
		cmp	si, ax
		jnb	short loc_26606
		xchg	ax, si

loc_26606:				; CODE XREF: sub_265BA+49j
		pop	cx
		pop	bx
		xchg	ax, cx
		div	si
		sub	dx, dx
		add	si, cx
		rcr	si, 1
		rcr	ax, 1
		adc	ax, dx
		adc	dx, si

loc_26617:				; CODE XREF: sub_265BA+44j
		cld
		sub	cx, cx
		xchg	ax, cx
		stosw
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, bx
		stosw
		mov	al, 0
		stosb
		pop	di
		pop	si
		retn
sub_265BA	endp

; ---------------------------------------------------------------------------
		align 2
		add	al, [bx+si+42h]
		add	[bp+di], ax
		inc	cx
		inc	bx

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_26631	proc near		; CODE XREF: seg018:1C3Cp

var_A		= word ptr -0Ah
var_4		= word ptr -4
var_2		= byte ptr -2

		push	bp
		mov	bp, sp
		push	word ptr [di+0Ah]
		lea	sp, [bp-6]
		push	si
		push	di
		mov	ax, [di]
		mov	bx, [di+2]
		mov	cx, [di+4]
		mov	dx, [di+6]
		mov	[bp+var_4], 0
		mov	di, [di+8]
		sub	di, [si+8]
		jge	short loc_2666B
		jmp	short loc_266A7
; ---------------------------------------------------------------------------

loc_26656:				; CODE XREF: sub_26631+29j
		inc	di
		jmp	short loc_26696
; ---------------------------------------------------------------------------

loc_26659:				; CODE XREF: sub_26631+38j
					; sub_26631+3Fj ...
		dec	di
		jl	short loc_26656
		shl	[bp+var_4], 1
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jb	short loc_26684
		jns	short loc_26659

loc_2666B:				; CODE XREF: sub_26631+21j
		cmp	dx, [si+6]
		ja	short loc_26684
		jb	short loc_26659
		cmp	cx, [si+4]
		ja	short loc_26684
		jb	short loc_26659
		cmp	bx, [si+2]
		ja	short loc_26684
		jb	short loc_26659
		cmp	ax, [si]
		jb	short loc_26659

loc_26684:				; CODE XREF: sub_26631+36j
					; sub_26631+3Dj ...
		inc	[bp+var_4]
		sub	ax, [si]
		sbb	bx, [si+2]
		sbb	cx, [si+4]
		sbb	dx, [si+6]
		or	di, di
		jg	short loc_26659

loc_26696:				; CODE XREF: sub_26631+26j
					; sub_26631+B8j ...
		or	dx, dx
		js	short loc_266A7
		jz	short loc_266DF

loc_2669C:				; CODE XREF: sub_26631+74j
		dec	di
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jns	short loc_2669C

loc_266A7:				; CODE XREF: sub_26631+23j
					; sub_26631+67j
		add	di, [si+8]

loc_266AA:				; CODE XREF: sub_26631+D9j
		push	di
		mov	di, [bp+var_A]
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		pop	ax
		stosw
		mov	al, [bp+var_2]
		stosb
		and	byte ptr word_29B10+1, 0B8h
		mov	di, 7
		mov	ax, [bp+var_4]
		cmp	[bp+var_2], 1
		jnz	short loc_266CE
		neg	ax

loc_266CE:				; CODE XREF: sub_26631+99j
		and	di, ax
		mov	dl, cs:[di+8C9h]
		or	byte ptr word_29B10+1, dl
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_266DF:				; CODE XREF: sub_26631+69j
		xchg	dx, cx
		xchg	cx, bx
		xchg	ax, bx
		sub	di, 10h
		or	dx, dx
		jnz	short loc_26696
		xchg	dx, cx
		xchg	cx, bx
		sub	di, 10h
		or	dx, dx
		jnz	short loc_26696
		xchg	dx, cx
		sub	di, 10h
		or	dx, dx
		jnz	short loc_26696
		mov	di, 0C001h
		sub	dx, dx
		sub	cx, cx
		sub	bx, bx
		sub	ax, ax
		jmp	short loc_266AA
sub_26631	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_26739

loc_2670C:				; CODE XREF: sub_26739+14j
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jz	short loc_2674F

loc_2671C:				; CODE XREF: sub_26739-4j
		mov	ch, 1
		call	sub_28469
		mov	ax, 4500h
		jmp	loc_267B7
; ---------------------------------------------------------------------------

loc_26727:				; CODE XREF: sub_26739+1Aj
		mov	dx, [di+6]
		and	dh, 7Fh
		or	dx, [di]
		or	dx, [di+2]
		or	dx, [di+4]
		jnz	short loc_2671C
		jmp	short loc_26755
; END OF FUNCTION CHUNK	FOR sub_26739

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_26739	proc near		; CODE XREF: sub_27586+28p
					; sub_27FED+3j

arg_0		= word ptr  4
arg_2		= word ptr  6

; FUNCTION CHUNK AT 09AC SIZE 0000002D BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	ax, [si+8]
		mov	bx, [di+8]
		cmp	ax, 4001h
		jge	short loc_2670C

loc_2674F:				; CODE XREF: sub_26739-1Fj
		cmp	bx, 4001h
		jge	short loc_26727

loc_26755:				; CODE XREF: sub_26739-2j
		mov	dx, ax
		cmp	ax, bx
		jg	short loc_2675D
		mov	dx, bx

loc_2675D:				; CODE XREF: sub_26739+20j
		cmp	dx, 0C001h
		jle	short loc_2679E
		mov	cl, [si+0Ah]
		cmp	cl, [di+0Ah]
		jl	short loc_267B4
		jg	short loc_267AA
		cmp	ax, bx
		jl	short loc_267A5
		jg	short loc_267AF
		mov	ax, [si+6]
		cmp	ax, [di+6]
		jnz	short loc_267A3
		mov	ch, 3
		and	ch, byte ptr word_29B12+1
		jz	short loc_267C1
		mov	ax, [si+4]
		cmp	ax, [di+4]
		jnz	short loc_267A3
		mov	ax, [si+2]
		cmp	ax, [di+2]
		jnz	short loc_267A3
		cmp	ch, 2
		jz	short loc_267E3
		mov	ax, [si]
		cmp	ax, [di]
		jnz	short loc_267A3

loc_2679E:				; CODE XREF: sub_26739+28j
					; sub_26739+9Fj ...
		mov	ax, 4000h
		jmp	short loc_267B7
; ---------------------------------------------------------------------------

loc_267A3:				; CODE XREF: sub_26739+40j
					; sub_26739+50j ...
		ja	short loc_267AF

loc_267A5:				; CODE XREF: sub_26739+36j
					; sub_26739+A1j ...
		cmp	cl, 0
		jnz	short loc_267B4

loc_267AA:				; CODE XREF: sub_26739+32j
					; sub_26739+79j
		mov	ax, 100h
		jmp	short loc_267B7
; ---------------------------------------------------------------------------

loc_267AF:				; CODE XREF: sub_26739+38j
					; sub_26739:loc_267A3j	...
		cmp	cl, 0
		jnz	short loc_267AA

loc_267B4:				; CODE XREF: sub_26739+30j
					; sub_26739+6Fj
		mov	ax, 0

loc_267B7:				; CODE XREF: sub_26739-15j
					; sub_26739+68j ...
		mov	byte ptr word_29B10+1, ah
		pop	di
		pop	si
		pop	bp
		retn	4
; ---------------------------------------------------------------------------

loc_267C1:				; CODE XREF: sub_26739+48j
		mov	bx, [si]
		sub	bx, [di]
		mov	bx, [si+2]
		sbb	bx, [di+2]
		mov	bx, [si+4]
		sbb	bx, [di+4]
		ja	short loc_267DC
		neg	bx
		and	bx, 0FF80h
		jz	short loc_2679E
		jmp	short loc_267A5
; ---------------------------------------------------------------------------

loc_267DC:				; CODE XREF: sub_26739+98j
		and	bx, 0FF80h
		jz	short loc_2679E
		jmp	short loc_267AF
; ---------------------------------------------------------------------------

loc_267E3:				; CODE XREF: sub_26739+5Dj
		mov	bx, [si]
		sub	bx, [di]
		ja	short loc_267F2
		neg	bx
		and	bh, 0FCh
		jz	short loc_2679E
		jmp	short loc_267A5
; ---------------------------------------------------------------------------

loc_267F2:				; CODE XREF: sub_26739+AEj
		and	bh, 0FCh
		jz	short loc_2679E
		jmp	short loc_267AF
sub_26739	endp


; =============== S U B	R O U T	I N E =======================================


sub_267F9	proc near		; CODE XREF: sub_282C7+2Fp
					; sub_282C7+45j ...
		mov	ax, 4000h
		cmp	word ptr [si+8], 0C001h
		jle	short loc_26816
		cmp	word ptr [si+8], 4001h
		jge	short loc_2681B

loc_2680A:				; CODE XREF: sub_267F9+30j
		mov	ax, 100h
		cmp	byte ptr [si+0Ah], 1
		jz	short loc_26816
		mov	ax, 0

loc_26816:				; CODE XREF: sub_267F9+8j
					; sub_267F9+18j ...
		mov	byte ptr word_29B10+1, ah
		retn
; ---------------------------------------------------------------------------

loc_2681B:				; CODE XREF: sub_267F9+Fj
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jz	short loc_2680A
		mov	ch, 1
		call	sub_28469
		mov	ax, 4500h
		jmp	short loc_26816
sub_267F9	endp


; =============== S U B	R O U T	I N E =======================================


sub_26835	proc near		; CODE XREF: sub_282C7+2Fp
					; sub_282C7+45j ...
		mov	ax, 4000h
		cmp	word ptr [si+8], 0C001h
		jle	short loc_26852
		cmp	word ptr [si+8], 4001h
		jge	short loc_26857
		mov	ax, 400h

loc_26849:				; CODE XREF: sub_26835+33j
					; sub_26835+38j
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_26852
		or	ax, 200h

loc_26852:				; CODE XREF: sub_26835+8j
					; sub_26835+18j
		mov	byte ptr word_29B10+1, ah
		retn
; ---------------------------------------------------------------------------

loc_26857:				; CODE XREF: sub_26835+Fj
		mov	ax, 500h
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jz	short loc_26849
		mov	ax, 100h
		jmp	short loc_26849
sub_26835	endp


; =============== S U B	R O U T	I N E =======================================


sub_2686F	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	ax, [si+4]
		mov	dx, [si+6]
		mov	bx, [si+8]
		mov	cl, [si+0Ah]
		cmp	word ptr [si], 0
		jnz	short loc_2688F
		cmp	word ptr [si+2], 0
		jnz	short loc_2688F
		test	al, 7Fh
		jnz	short loc_2688F
		test	ah, 1
		jz	short loc_2689E

loc_2688F:				; CODE XREF: sub_2686F+Fj
					; sub_2686F+15j ...
		add	al, al
		adc	ah, 0
		adc	dx, 0
		jnb	short loc_2689E
		rcr	dx, 1
		rcr	ax, 1
		inc	bx

loc_2689E:				; CODE XREF: sub_2686F+1Ej
					; sub_2686F+28j
		add	bx, 7Eh	; '~'
		jle	short loc_268D5
		cmp	bx, 0FFh
		jge	short loc_268C0

loc_268A9:				; CODE XREF: sub_2686F+64j
					; sub_2686F+78j
		shl	dx, 1
		shr	cl, 1
		rcr	bl, 1
		rcr	dx, 1
		mov	al, ah
		mov	ah, dl
		mov	dl, dh
		mov	dh, bl
		stosw
		xchg	ax, dx
		stosw
		sub	di, 4
		retn
; ---------------------------------------------------------------------------

loc_268C0:				; CODE XREF: sub_2686F+38j
		cmp	word ptr [si+8], 4001h
		jge	short loc_268D0
		mov	ch, 8
		call	sub_28469
		sub	dx, dx
		sub	ax, ax

loc_268D0:				; CODE XREF: sub_2686F+56j
		mov	bx, 0FFh
		jmp	short loc_268A9
; ---------------------------------------------------------------------------

loc_268D5:				; CODE XREF: sub_2686F+32j
		cmp	word ptr [si+8], 0C001h
		jle	short loc_268E1
		mov	ch, 10h
		call	sub_28469

loc_268E1:				; CODE XREF: sub_2686F+6Bj
		sub	bx, bx
		mov	dx, bx
		mov	ax, bx
		jmp	short loc_268A9
sub_2686F	endp


; =============== S U B	R O U T	I N E =======================================


sub_268E9	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	ax, es:[si]
		mov	dx, es:[si+2]
		push	si
		sub	si, si
		shl	dx, 1
		rcl	si, 1
		sub	bx, bx
		add	bl, dh
		jz	short loc_2692B
		cmp	dh, 0FFh
		jz	short loc_26926
		sub	bx, 7Eh	; '~'

loc_26905:				; CODE XREF: sub_268E9+40j
		stc
		rcr	dl, 1

loc_26908:				; CODE XREF: sub_268E9+51j
					; sub_268E9+59j
		mov	dh, dl
		mov	dl, ah
		mov	ch, al
		mov	cl, 0
		sub	ax, ax
		mov	[di], ax
		mov	[di+2],	ax
		mov	[di+4],	cx
		mov	[di+6],	dx
		mov	[di+8],	bx
		xchg	ax, si
		mov	[di+0Ah], al
		pop	si
		retn
; ---------------------------------------------------------------------------

loc_26926:				; CODE XREF: sub_268E9+17j
		mov	bx, 4001h
		jmp	short loc_26905
; ---------------------------------------------------------------------------

loc_2692B:				; CODE XREF: sub_268E9+12j
		mov	cx, dx
		or	cx, ax
		jz	short loc_2693F
		sub	bx, 7Eh	; '~'
		shr	dl, 1

loc_26936:				; CODE XREF: sub_268E9+54j
		add	ax, ax
		adc	dl, dl
		js	short loc_26908
		dec	bx
		jmp	short loc_26936
; ---------------------------------------------------------------------------

loc_2693F:				; CODE XREF: sub_268E9+46j
		mov	bx, 0C001h
		jmp	short loc_26908
sub_268E9	endp

; ---------------------------------------------------------------------------
		mov	es, cx
		assume es:nothing

; =============== S U B	R O U T	I N E =======================================


sub_26946	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		push	di
		mov	ax, [si+1]
		mov	di, [si+3]
		mov	cx, [si+5]
		mov	dl, [si+7]
		mov	bx, [si+8]
		mov	dh, 3
		and	dh, al
		or	dh, [si]
		jnz	short loc_26962
		test	al, 8
		jz	short loc_26973

loc_26962:				; CODE XREF: sub_26946+16j
		add	ax, 4
		adc	di, 0
		adc	cx, 0
		adc	dl, 0
		jnb	short loc_26973
		rcr	dl, 1
		inc	bx

loc_26973:				; CODE XREF: sub_26946+1Aj
					; sub_26946+28j
		add	bx, 3FEh
		jle	short loc_269BB
		cmp	bx, 7FFh
		jge	short loc_269C8

loc_2697F:				; CODE XREF: sub_26946+A1j
		and	al, 0F8h
		shl	dl, 1
		shr	bx, 1
		rcr	dl, 1
		or	al, bh
		mov	dh, bl
		mov	bx, di
		shr	di, 1
		rcr	ax, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		shr	di, 1
		rcr	ax, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		or	al, [si+0Ah]
		shr	di, 1
		rcr	ax, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1

loc_269AE:				; CODE XREF: sub_26946+9Cj
		pop	di
		cld
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		sub	di, 8
		retn
; ---------------------------------------------------------------------------

loc_269BB:				; CODE XREF: sub_26946+31j
		sub	dx, dx
		cmp	word ptr [si+8], 0C001h
		jle	short loc_269D7
		mov	ch, 10h
		jmp	short loc_269D4
; ---------------------------------------------------------------------------

loc_269C8:				; CODE XREF: sub_26946+37j
		cmp	word ptr [si+8], 4001h
		jge	short loc_269E4
		mov	dx, 0FFE0h
		mov	ch, 8

loc_269D4:				; CODE XREF: sub_26946+80j
		call	sub_28469

loc_269D7:				; CODE XREF: sub_26946+7Cj
		or	dl, [si+0Ah]
		ror	dx, 1
		sub	cx, cx
		mov	bx, cx
		mov	ax, cx
		jmp	short loc_269AE
; ---------------------------------------------------------------------------

loc_269E4:				; CODE XREF: sub_26946+87j
		mov	bx, 7FFh
		jmp	short loc_2697F
sub_26946	endp

; ---------------------------------------------------------------------------
		mov	si, bx
		mov	es, ax
		assume es:nothing

; =============== S U B	R O U T	I N E =======================================


sub_269ED	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	dx, es:[si+6]
		mov	cx, 5
		shl	dx, 1
		rcl	ch, 1
		mov	[di+0Ah], ch
		shr	dx, cl
		jz	short loc_26A62
		cmp	dx, 7FFh
		jz	short loc_26A48
		mov	bl, 10h
		sub	dx, 3FEh

loc_26A0B:				; CODE XREF: sub_269ED+73j
					; sub_269ED+8Cj
		mov	[di+8],	dx
		mov	dx, es:[si+5]
		and	dh, 0Fh
		or	dh, bl
		mov	cx, es:[si+3]
		mov	bx, es:[si+1]
		mov	ah, es:[si]
		mov	al, 0
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1

loc_26A3C:				; CODE XREF: sub_269ED+BAj
		mov	[di], ax
		mov	[di+2],	bx
		mov	[di+4],	cx
		mov	[di+6],	dx
		retn
; ---------------------------------------------------------------------------

loc_26A48:				; CODE XREF: sub_269ED+16j
		mov	bx, 0Fh
		and	bl, es:[si+6]
		or	bx, es:[si+4]
		or	bx, es:[si+2]
		or	bx, es:[si]
		mov	dx, 4001h
		or	bl, 10h
		jmp	short loc_26A0B
; ---------------------------------------------------------------------------

loc_26A62:				; CODE XREF: sub_269ED+10j
		mov	bx, 0Fh
		and	bl, es:[si+6]
		or	bx, es:[si+4]
		or	bx, es:[si+2]
		or	bx, es:[si]
		jnz	short loc_26A7B
		mov	dx, 0C001h
		jmp	short loc_26A0B
; ---------------------------------------------------------------------------

loc_26A7B:				; CODE XREF: sub_269ED+87j
		mov	dx, es:[si+5]
		and	dh, 0Fh
		mov	cx, es:[si+3]
		mov	bx, es:[si+1]
		mov	ah, es:[si]
		mov	al, 4

loc_26A8F:				; CODE XREF: sub_269ED+ACj
		dec	al
		shl	ah, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jns	short loc_26A8F
		push	ax
		mov	ah, 0
		sub	ax, 4FEh
		mov	[di+8],	ax
		pop	ax
		mov	al, 0
		jmp	short loc_26A3C
sub_269ED	endp

; ---------------------------------------------------------------------------
		mov	es, cx

; =============== S U B	R O U T	I N E =======================================


sub_26AAB	proc near		; CODE XREF: sub_280B1+10p
					; sub_2817D+4p
		cld
		movsw
		movsw
		movsw
		movsw
		lodsw
		mov	cl, [si]
		cmp	ax, 4001h
		jge	short loc_26ACB
		add	ax, 3FFEh
		jl	short loc_26AD0

loc_26ABD:				; CODE XREF: sub_26AAB+23j
					; sub_26AAB+27j
		shl	ax, 1
		shr	cl, 1
		rcr	ax, 1
		stosw
		sub	di, 0Ah
		sub	si, 0Ah
		retn
; ---------------------------------------------------------------------------

loc_26ACB:				; CODE XREF: sub_26AAB+Bj
		mov	ax, 7FFFh
		jmp	short loc_26ABD
; ---------------------------------------------------------------------------

loc_26AD0:				; CODE XREF: sub_26AAB+10j
		sub	ax, ax
		jmp	short loc_26ABD
sub_26AAB	endp

; ---------------------------------------------------------------------------
		mov	si, bx
		mov	es, ax
		assume es:nothing

; =============== S U B	R O U T	I N E =======================================


sub_26AD8	proc near		; CODE XREF: sub_280D5+1Cp
					; sub_28153+7p
		push	si
		mov	cx, ds
		mov	dx, es
		mov	es, cx
		assume es:dseg
		mov	ds, dx
		assume ds:nothing
		std
		lea	si, [si+8]
		lea	di, [di+0Ah]
		lodsw
		xchg	ax, bx
		sub	ax, ax
		shl	bx, 1
		rcl	ax, 1
		stosb
		dec	di
		shr	bx, 1
		jz	short loc_26B09
		sub	bx, 3FFEh
		xchg	ax, bx
		stosw
		movsw
		movsw
		movsw
		movsw

loc_26B00:				; CODE XREF: sub_26AD8+3Bj
		cld
		mov	es, dx
		assume es:nothing
		mov	ds, cx
		assume ds:dseg
		inc	di
		inc	di
		pop	si
		retn
; ---------------------------------------------------------------------------

loc_26B09:				; CODE XREF: sub_26AD8+1Cj
		mov	ax, 0C001h
		stosw
		sub	ax, ax
		stosw
		stosw
		stosw
		stosw
		jmp	short loc_26B00
sub_26AD8	endp

; ---------------------------------------------------------------------------
		db 7 dup(0), 80h, 1, 3 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_26B21	proc near		; CODE XREF: sub_27586+77p
					; sub_278F6+14p ...
		mov	ax, 0DB5h
		jmp	short loc_26B8A
sub_26B21	endp

; ---------------------------------------------------------------------------
		db 0FEh, 8Ah, 1Bh, 0CDh, 4Bh, 78h, 9Ah,	0D4h, 2, 3 dup(0)
		db 0B8h, 0C6h, 0Dh, 0EBh, 53h, 0BBh, 0F0h, 17h,	5Ch, 29h
		db 3Bh,	0AAh, 0B8h, 1, 3 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_26B43	proc near		; CODE XREF: seg018:1DC8p
		mov	ax, 0DD7h
		jmp	short loc_26B8A
sub_26B43	endp

; ---------------------------------------------------------------------------
		db 35h,	0C2h, 68h, 21h,	0A2h, 0DAh, 0Fh, 0C9h, 2, 3 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_26B54	proc near		; CODE XREF: seg018:1C33p seg018:1C5Bp ...
		mov	ax, 0DE8h
		jmp	short loc_26B8A
sub_26B54	endp

; ---------------------------------------------------------------------------
		db 99h,	0F7h, 0CFh, 0FBh, 84h, 9Ah, 20h, 9Ah, 2	dup(0FFh)
		db 2 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_26B65	proc near		; CODE XREF: seg018:1D68p
		mov	ax, 0DF9h
		jmp	short loc_26B8A
sub_26B65	endp

; ---------------------------------------------------------------------------
		db 0ACh, 79h, 0CFh, 0D1h, 0F7h,	17h, 72h, 0B1h,	4 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_26B76	proc near		; CODE XREF: sub_2770E+Ep seg018:1D44p
		mov	ax, 0E0Ah
		jmp	short loc_26B8A
sub_26B76	endp

; ---------------------------------------------------------------------------
		db 8 dup(0), 1,	0C0h, 2	dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_26B87	proc near		; CODE XREF: seg018:0850p
					; sub_27806+58p ...
		mov	ax, 0E1Bh

loc_26B8A:				; CODE XREF: sub_26B21+3j sub_26B43+3j ...
		push	ds
		mov	cx, cs
		mov	ds, cx
		assume ds:seg018
		xchg	ax, si
		cld
		mov	cx, 5
		rep movsw
		movsb
		sub	di, 0Bh
		xchg	ax, si
		pop	ds
		assume ds:dseg
		retn
sub_26B87	endp


; =============== S U B	R O U T	I N E =======================================


sub_26B9D	proc near		; CODE XREF: sub_2601D-4Bp
					; sub_261EA-1Fp ...
		cld
		push	di
		push	ax
		cmp	ax, 0C001h
		mov	ax, 0
		stosw
		stosw
		stosw
		rcr	ax, 1
		stosw
		pop	ax
		stosw
		mov	al, cl
		stosb
		pop	di
		retn
sub_26B9D	endp


; =============== S U B	R O U T	I N E =======================================


sub_26BB3	proc near		; CODE XREF: sub_25E53-4Bp
					; sub_2601D-16p ...
		mov	ch, 1
		call	sub_28469
		push	di
		sub	ax, ax
		cld
		stosw
		stosw
		stosw
		mov	ah, 0C0h ; 'À'
		stosw
		mov	ax, 4001h
		stosw
		mov	al, 1
		stosb
		pop	di
		retn
sub_26BB3	endp


; =============== S U B	R O U T	I N E =======================================


sub_26BCB	proc near		; CODE XREF: seg018:081Dp sub_2745Fp ...
		push	di
		push	es
		mov	di, ss
		mov	es, di
		assume es:nothing
		sub	word_29B1D, 0Ch
		mov	di, word_29B1D
		cld
		mov	cx, 5
		rep movsw
		movsb
		pop	es
		pop	di
		sub	si, 0Bh
		retn
sub_26BCB	endp


; =============== S U B	R O U T	I N E =======================================


sub_26BE7	proc near		; CODE XREF: sub_272AE+13p
					; sub_27586+1Ep ...
		push	si
		push	di
		sub	word_29B1D, 0Ch
		mov	di, word_29B1D
		push	ds
		push	es
		push	ds
		pop	es
		assume es:dseg
		push	cs
		pop	ds
		assume ds:seg018
		cld
		mov	cx, 5
		rep movsw
		movsb
		pop	es
		assume es:nothing
		pop	ds
		assume ds:dseg
		pop	di
		pop	si
		retn
sub_26BE7	endp


; =============== S U B	R O U T	I N E =======================================


sub_26C04	proc near		; CODE XREF: sub_27639+Dp
		push	si
		mov	si, word_29B1D
		cld
		mov	cx, 5
		rep movsw
		movsb
		inc	si
		mov	word_29B1D, si
		sub	di, 0Bh
		pop	si
		retn
sub_26C04	endp


; =============== S U B	R O U T	I N E =======================================


sub_26C1A	proc near		; CODE XREF: sub_27490+6p
					; sub_278F6+26p ...
		push	si
		push	di
		push	es
		mov	si, word_29B1D
		lea	di, [si-0Ch]
		mov	word_29B1D, di
		cld
		mov	cx, ss
		mov	es, cx
		mov	cx, 5
		rep movsw
		movsb
		pop	es
		pop	di
		pop	si
		retn
sub_26C1A	endp


; =============== S U B	R O U T	I N E =======================================


sub_26C37	proc near		; CODE XREF: seg018:1CFAp
					; seg018:loc_27ACBp
		push	si
		push	di
		mov	si, word_29B1D
		mov	di, si
		cld
		push	es
		mov	cx, ss
		mov	es, cx
		mov	cx, 5

loc_26C48:				; CODE XREF: sub_26C37+16j
		lodsw
		xchg	ax, [di+0Ch]
		stosw
		loop	loc_26C48
		lodsb
		xchg	al, [di+0Ch]
		stosb
		pop	es
		pop	di
		pop	si
		retn
sub_26C37	endp


; =============== S U B	R O U T	I N E =======================================


sub_26C58	proc near		; CODE XREF: sub_26D3E+1Ep
					; sub_27806+96p ...
		mov	ax, es:[si]
		sub	cx, cx
		cwd
		xor	ax, dx
		sub	ax, dx
		jz	short loc_26C96
		and	dl, 1

loc_26C67:				; CODE XREF: sub_26C58+3Cj
		mov	bx, cx
		xchg	ax, cx
		shl	ax, 1

loc_26C6C:				; CODE XREF: sub_26C58+20j
		rcr	ax, 1
		inc	bx
		shr	cx, 1
		rcr	ax, 1
		jcxz	short loc_26C7C
		inc	bx
		shr	cx, 1
		jnz	short loc_26C6C
		rcr	ax, 1

loc_26C7C:				; CODE XREF: sub_26C58+1Bj
					; sub_26C58+41j
		mov	[di+0Ah], dl
		mov	[di+8],	bx
		mov	[di+6],	ax
		mov	[di+4],	cx
		mov	[di+2],	cx
		mov	[di], cx
		retn
; ---------------------------------------------------------------------------
		sub	cx, cx
		mov	dx, cx
		or	ax, ax
		jnz	short loc_26C67

loc_26C96:				; CODE XREF: sub_26C58+Aj
		mov	bx, 0C001h
		jmp	short loc_26C7C
sub_26C58	endp


; =============== S U B	R O U T	I N E =======================================


sub_26C9B	proc near		; CODE XREF: seg018:1E07p seg018:2199j ...
		mov	cx, [si+8]
		cmp	cx, 10h

loc_26CA1:				; CODE XREF: seg018:0FDBj
		jg	short loc_26D13
		cmp	cx, 0C001h
		jle	short loc_26D1D
		mov	bx, [si+6]
		sub	ax, ax
		or	cx, cx
		jge	short loc_26CB6
		shr	bx, 1
		rcr	dx, 1

loc_26CB6:				; CODE XREF: sub_26C9B+15j
		mov	dx, [si+4]
		or	cx, cx
		jle	short loc_26CC5

loc_26CBD:				; CODE XREF: sub_26C9B+28j
		shl	dx, 1
		rcl	bx, 1
		rcl	ax, 1
		loop	loc_26CBD

loc_26CC5:				; CODE XREF: sub_26C9B+20j
		or	dx, [si]
		or	dx, [si+2]
		or	bl, dh
		or	bl, dl
		mov	cl, 0Ch
		and	cl, byte ptr word_29B12+1
		cmp	cl, 0Ch
		jz	short loc_26D03
		cmp	cl, 0
		jz	short loc_26CF4
		add	cl, [si+0Ah]
		cmp	cl, 4
		jz	short loc_26D03
		cmp	cl, 9
		jz	short loc_26D03
		neg	bx
		adc	ax, 0
		jb	short loc_26D13
		jmp	short loc_26D03
; ---------------------------------------------------------------------------

loc_26CF4:				; CODE XREF: sub_26C9B+41j
		mov	dl, 1
		and	dl, al
		or	bl, dl
		add	bx, 7FFFh
		adc	ax, 0
		jb	short loc_26D13

loc_26D03:				; CODE XREF: sub_26C9B+3Cj
					; sub_26C9B+49j ...
		cmp	byte ptr [si+0Ah], 1
		jz	short loc_26D21
		sahf
		jns	short loc_26D27
		cmp	byte_29B4C, 1
		jz	short loc_26D27

loc_26D13:				; CODE XREF: sub_26C9B:loc_26CA1j
					; sub_26C9B+55j ...
		mov	ch, 8
		call	sub_28469
		mov	ax, 8000h
		jmp	short loc_26D27
; ---------------------------------------------------------------------------

loc_26D1D:				; CODE XREF: sub_26C9B+Cj
		sub	ax, ax
		jmp	short loc_26D27
; ---------------------------------------------------------------------------

loc_26D21:				; CODE XREF: sub_26C9B+6Cj
		neg	ax
		jz	short loc_26D27
		jns	short loc_26D13

loc_26D27:				; CODE XREF: sub_26C9B+6Fj
					; sub_26C9B+76j ...
		mov	byte_29B4C, 0
		mov	es:[di], ax
		retn
sub_26C9B	endp

; ---------------------------------------------------------------------------
		mov	byte_29B4C, 1
		mov	cx, [si+8]
		cmp	cx, 10h
		jmp	loc_26CA1

; =============== S U B	R O U T	I N E =======================================


sub_26D3E	proc near		; CODE XREF: seg018:2561p
		push	si
		push	di
		cld
		mov	cx, 5
		rep movsw
		movsb
		pop	di
		pop	si
		xchg	si, di
		lea	si, [si+8]
		cmp	word ptr [si], 0C001h
		jle	short locret_26D63
		cmp	word ptr [si], 4001h
		jge	short loc_26D64
		dec	word ptr [si]
		call	sub_26C58
		mov	word ptr [si], 1

locret_26D63:				; CODE XREF: sub_26D3E+14j
					; sub_26D3E+33j
		retn
; ---------------------------------------------------------------------------

loc_26D64:				; CODE XREF: sub_26D3E+1Aj
		mov	word ptr [si], 0C001h
		mov	word ptr [di+8], 0Dh
		mov	byte ptr [di+7], 80h ; '€'
		jmp	short locret_26D63
sub_26D3E	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	cx, [si+8]
		cmp	cx, 0Fh
		jg	short loc_26D88
		or	cx, cx
		jg	short loc_26D92
		sub	ax, ax
		jmp	short loc_26DA4
; ---------------------------------------------------------------------------

loc_26D88:				; CODE XREF: seg018:101Ej
		mov	ch, 8
		call	sub_28469
		mov	ax, 7FFFh
		jmp	short loc_26D9C
; ---------------------------------------------------------------------------

loc_26D92:				; CODE XREF: seg018:1022j
		mov	ax, [si+6]
		neg	cl
		add	cl, 10h
		shr	ax, cl

loc_26D9C:				; CODE XREF: seg018:1030j
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_26DA4
		neg	ax

loc_26DA4:				; CODE XREF: seg018:1026j seg018:1040j
		mov	cx, [di+8]
		cmp	cx, 0C001h
		jle	short loc_26DC2
		cmp	cx, 4001h
		jge	short loc_26DC2
		add	ax, cx
		cmp	ax, 0C001h
		jle	short loc_26DD0
		cmp	ax, 4001h
		jge	short loc_26DC6
		mov	[di+8],	ax

loc_26DC2:				; CODE XREF: seg018:104Bj seg018:1051j ...
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_26DC6:				; CODE XREF: seg018:105Dj
		mov	ch, 8
		call	sub_28469
		mov	ax, 4001h
		jmp	short loc_26DD8
; ---------------------------------------------------------------------------

loc_26DD0:				; CODE XREF: seg018:1058j
		mov	ch, 10h
		call	sub_28469
		mov	ax, 0C001h

loc_26DD8:				; CODE XREF: seg018:106Ej
		call	sub_26B9D
		jmp	short loc_26DC2
; ---------------------------------------------------------------------------
		mov	cx, dx
		xchg	ax, bx
		jmp	short loc_26DF1
; ---------------------------------------------------------------------------
		mov	cx, dx
		xchg	ax, bx
		mov	dx, 0
		jmp	short loc_26E03

; =============== S U B	R O U T	I N E =======================================


sub_26DEA	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	bx, es:[si]
		mov	cx, es:[si+2]

loc_26DF1:				; CODE XREF: seg018:1080j
		sub	ax, ax
		mov	dx, 0
		or	cx, cx
		jns	short loc_26E03
		not	cx
		neg	bx
		sbb	cx, 0FFFFh
		mov	dl, 1

loc_26E03:				; CODE XREF: seg018:1088j sub_26DEA+Ej
		mov	[di+0Ah], dl
		mov	dl, 10h
		or	cx, cx
		jnz	short loc_26E18
		xchg	bx, cx
		mov	dl, 0
		jcxz	short loc_26E30
		jmp	short loc_26E18
; ---------------------------------------------------------------------------

loc_26E14:				; CODE XREF: sub_26DEA+31j
		rcr	bx, 1
		rcr	ax, 1

loc_26E18:				; CODE XREF: sub_26DEA+20j
					; sub_26DEA+28j
		inc	dx
		shr	cx, 1
		jnz	short loc_26E14
		rcr	bx, 1
		rcr	ax, 1

loc_26E21:				; CODE XREF: sub_26DEA+49j
		mov	[di+8],	dx
		mov	[di+6],	bx
		mov	[di+4],	ax
		mov	[di+2],	cx
		mov	[di], cx
		retn
; ---------------------------------------------------------------------------

loc_26E30:				; CODE XREF: sub_26DEA+26j
		mov	dx, 0C001h
		jmp	short loc_26E21
sub_26DEA	endp

; ---------------------------------------------------------------------------
		mov	byte_29B4C, 1
		mov	cx, [si+8]
		cmp	cx, 20h	; ' '
		jmp	short loc_26E48

; =============== S U B	R O U T	I N E =======================================


sub_26E42	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	cx, [si+8]
		cmp	cx, 20h	; ' '

loc_26E48:				; CODE XREF: seg018:10E0j
		jg	short loc_26E7D
		or	cx, cx
		jge	short loc_26E8A
		cmp	cx, 0C001h
		jle	short loc_26E67
		mov	bl, 0Ch
		and	bl, byte ptr word_29B12+1
		add	bl, [si+0Ah]
		cmp	bl, 5
		jz	short loc_26E6D
		cmp	bl, 8
		jz	short loc_26E6D

loc_26E67:				; CODE XREF: sub_26E42+10j
		sub	dx, dx
		mov	ax, dx
		jmp	short loc_26E87
; ---------------------------------------------------------------------------

loc_26E6D:				; CODE XREF: sub_26E42+1Ej
					; sub_26E42+23j
		sub	dx, dx
		mov	ax, 1
		cmp	bl, 5
		jnz	short loc_26E87
		neg	ax
		not	dx
		jmp	short loc_26E87
; ---------------------------------------------------------------------------

loc_26E7D:				; CODE XREF: sub_26E42:loc_26E48j
					; sub_26E42:loc_26F11j
		mov	ch, 8
		call	sub_28469
		mov	dx, 8000h
		sub	ax, ax

loc_26E87:				; CODE XREF: sub_26E42+29j
					; sub_26E42+33j ...
		jmp	loc_26F21
; ---------------------------------------------------------------------------

loc_26E8A:				; CODE XREF: sub_26E42+Aj
		mov	bx, [si+2]
		or	bl, [si]
		or	bl, [si+1]
		mov	ax, [si+4]
		mov	dx, [si+6]
		sub	cl, 10h
		ja	short loc_26EAD

loc_26E9D:				; CODE XREF: sub_26E42+66j
		or	al, bl
		or	al, bh
		xchg	ax, bx
		xchg	ax, dx
		sub	dx, dx
		add	cl, 10h
		jle	short loc_26E9D
		and	cl, 0Fh

loc_26EAD:				; CODE XREF: sub_26E42+59j
		jcxz	short loc_26ECC
		push	si
		mov	si, 0FFFFh
		rol	dx, cl
		rol	ax, cl
		shl	si, cl
		mov	cx, si
		and	cx, ax
		xor	ax, cx
		and	si, dx
		xor	dx, si
		or	ax, si
		or	bl, bh
		or	bl, cl
		mov	bh, ch
		pop	si

loc_26ECC:				; CODE XREF: sub_26E42:loc_26EADj
		mov	cl, 0Ch
		and	cl, byte ptr word_29B12+1
		cmp	cl, 0Ch
		jz	short loc_26F14
		cmp	cl, 0
		jz	short loc_26EEF
		add	cl, [si+0Ah]
		cmp	cl, 4
		jz	short loc_26F14
		cmp	cl, 9
		jz	short loc_26F14
		neg	bx
		jb	short loc_26EF9
		jmp	short loc_26F14
; ---------------------------------------------------------------------------

loc_26EEF:				; CODE XREF: sub_26E42+98j
		mov	cl, 1
		and	cl, al
		or	bl, cl
		add	bx, 7FFFh

loc_26EF9:				; CODE XREF: sub_26E42+A9j
		adc	ax, 0
		adc	dx, 0
		jns	short loc_26F14
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_26F11
		cmp	dx, 8000h
		jnz	short loc_26F11
		or	ax, ax
		jz	short loc_26F14

loc_26F11:				; CODE XREF: sub_26E42+C3j
					; sub_26E42+C9j
		jmp	loc_26E7D
; ---------------------------------------------------------------------------

loc_26F14:				; CODE XREF: sub_26E42+93j
					; sub_26E42+A0j ...
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_26F21
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_26F21:				; CODE XREF: sub_26E42:loc_26E87j
					; sub_26E42+D6j
		mov	byte_29B4C, 0
		mov	es:[di], ax
		mov	es:[di+2], dx
		retn
sub_26E42	endp


; =============== S U B	R O U T	I N E =======================================


sub_26F2E	proc near		; CODE XREF: sub_28133+7p
		push	bp
		push	si
		mov	ax, es:[si]
		mov	bx, es:[si+2]
		mov	cx, es:[si+4]
		mov	dx, es:[si+6]
		mov	bp, 0
		or	dx, dx
		jl	short loc_26F59
		jg	short loc_26F6E
		or	cx, cx
		jnz	short loc_26F6E
		or	bx, bx
		jnz	short loc_26F6E
		or	ax, ax
		jnz	short loc_26F6E
		mov	si, 0C001h
		jmp	short loc_26F8C
; ---------------------------------------------------------------------------

loc_26F59:				; CODE XREF: sub_26F2E+16j
		not	dx
		not	cx
		not	bx
		neg	ax
		cmc
		adc	bx, 0
		adc	cx, 0
		adc	dx, 0
		mov	bp, 1

loc_26F6E:				; CODE XREF: sub_26F2E+18j
					; sub_26F2E+1Cj ...
		mov	si, 40h	; '@'

loc_26F71:				; CODE XREF: sub_26F2E+4Fj
		or	dx, dx
		jnz	short loc_26F7F
		xchg	dx, cx
		xchg	cx, bx
		xchg	ax, bx
		sub	si, 10h
		jmp	short loc_26F71
; ---------------------------------------------------------------------------

loc_26F7F:				; CODE XREF: sub_26F2E+45j
		js	short loc_26F8C

loc_26F81:				; CODE XREF: sub_26F2E+5Cj
		dec	si
		add	ax, ax
		adc	bx, bx
		adc	cx, cx
		adc	dx, dx
		jns	short loc_26F81

loc_26F8C:				; CODE XREF: sub_26F2E+29j
					; sub_26F2E:loc_26F7Fj
		mov	[di+8],	si
		mov	[di+6],	dx
		mov	[di+4],	cx
		mov	[di+2],	bx
		mov	[di], ax
		xchg	ax, bp
		mov	[di+0Ah], al
		pop	si
		pop	bp
		retn
sub_26F2E	endp


; =============== S U B	R O U T	I N E =======================================


sub_26FA1	proc near		; CODE XREF: sub_28163+4p
		push	bp
		push	di
		mov	cx, [si+8]
		cmp	cx, 3Fh	; '?'
		jg	short loc_26FE4
		or	cx, cx
		jge	short loc_26FF5
		cmp	cx, 0C001h
		jle	short loc_26FC8
		mov	bl, 0Ch
		and	bl, byte ptr word_29B12+1
		add	bl, [si+0Ah]
		cmp	bl, 5
		jz	short loc_26FCC
		cmp	bl, 8
		jz	short loc_26FCC

loc_26FC8:				; CODE XREF: sub_26FA1+12j
		sub	bp, bp
		jmp	short loc_26FEC
; ---------------------------------------------------------------------------

loc_26FCC:				; CODE XREF: sub_26FA1+20j
					; sub_26FA1+25j
		sub	bp, bp
		mov	dx, bp
		mov	ax, 1
		cmp	bl, 5
		mov	bx, bp
		jnz	short loc_26FF2
		neg	ax
		not	bx
		not	dx
		not	bp
		jmp	short loc_26FF2
; ---------------------------------------------------------------------------

loc_26FE4:				; CODE XREF: sub_26FA1+8j
					; sub_26FA1:loc_27055j
		mov	ch, 8
		call	sub_28469
		mov	bp, 8000h

loc_26FEC:				; CODE XREF: sub_26FA1+29j
		sub	dx, dx
		mov	bx, dx
		mov	ax, bx

loc_26FF2:				; CODE XREF: sub_26FA1+37j
					; sub_26FA1+41j
		jmp	loc_27086
; ---------------------------------------------------------------------------

loc_26FF5:				; CODE XREF: sub_26FA1+Cj
		mov	bp, [si+6]
		mov	dx, [si+4]
		mov	bx, [si+2]
		mov	di, [si]
		sub	ax, ax
		sub	cl, 30h	; '0'
		ja	short loc_2701D

loc_27007:				; CODE XREF: sub_26FA1+77j
		or	al, ah
		mov	ah, 0
		or	ax, di
		mov	di, bx
		mov	bx, dx
		mov	dx, bp
		sub	bp, bp
		add	cl, 10h
		jle	short loc_27007
		and	cl, 0Fh

loc_2701D:				; CODE XREF: sub_26FA1+64j
		neg	cl
		jz	short loc_27032
		add	cl, 10h

loc_27024:				; CODE XREF: sub_26FA1+8Fj
		or	al, ah
		shr	bp, 1
		rcr	dx, 1
		rcr	bx, 1
		rcr	di, 1
		rcr	ah, 1
		loop	loc_27024

loc_27032:				; CODE XREF: sub_26FA1+7Ej
		mov	cl, 0Ch
		and	cl, byte ptr word_29B12+1
		cmp	cl, 0Ch
		jz	short loc_2706D
		cmp	cl, 0
		jz	short loc_27057
		add	cl, [si+0Ah]
		cmp	cl, 4
		jz	short loc_2706D
		cmp	cl, 9
		jz	short loc_2706D
		neg	ax
		jb	short loc_27060
		jmp	short loc_2706D
; ---------------------------------------------------------------------------

loc_27055:				; CODE XREF: sub_26FA1+CAj
		jmp	short loc_26FE4
; ---------------------------------------------------------------------------

loc_27057:				; CODE XREF: sub_26FA1+9Fj
		mov	cl, 1
		and	cx, di
		or	al, cl
		add	ax, 7FFFh

loc_27060:				; CODE XREF: sub_26FA1+B0j
		mov	cx, 0
		adc	di, cx
		adc	bx, cx
		adc	dx, cx
		adc	bp, cx
		js	short loc_27055

loc_2706D:				; CODE XREF: sub_26FA1+9Aj
					; sub_26FA1+A7j ...
		xchg	ax, di
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_27086
		not	bp
		not	dx
		not	bx
		neg	ax
		cmc
		adc	bx, 0
		adc	dx, 0
		adc	bp, 0

loc_27086:				; CODE XREF: sub_26FA1:loc_26FF2j
					; sub_26FA1+D1j
		pop	di
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, bp
		stosw
		sub	di, 8
		pop	bp
		retn
sub_26FA1	endp

; ---------------------------------------------------------------------------
		mov	si, word_29B1D

; =============== S U B	R O U T	I N E =======================================


sub_27097	proc near		; CODE XREF: seg018:1DFDp
		push	bp
		push	si
		push	di
		xchg	bp, si
		mov	cx, [bp+8]
		cmp	cx, 40h	; '@'
		jge	short loc_270D5
		or	cx, cx
		jge	short loc_270F2
		cmp	cx, 0C001h
		jle	short loc_270C6
		mov	ch, 20h	; ' '
		call	sub_28469
		mov	cl, 0Ch
		and	cl, byte ptr word_29B12+1
		add	cl, [bp+0Ah]
		cmp	cl, 5
		jz	short loc_270CD
		cmp	cl, 8
		jz	short loc_270CD

loc_270C6:				; CODE XREF: sub_27097+15j
					; sub_27097+CCj
		sub	bx, bx
		mov	si, 0C001h
		jmp	short loc_270DE
; ---------------------------------------------------------------------------

loc_270CD:				; CODE XREF: sub_27097+28j
					; sub_27097+2Dj
		mov	si, 1
		mov	bx, 8000h
		jmp	short loc_270DE
; ---------------------------------------------------------------------------

loc_270D5:				; CODE XREF: sub_27097+Bj
		jz	short loc_270EF
		mov	ch, 20h	; ' '
		call	sub_28469
		jmp	short loc_270EF
; ---------------------------------------------------------------------------

loc_270DE:				; CODE XREF: sub_27097+34j
					; sub_27097+3Cj
		sub	ax, ax
		mov	[bp+0],	ax
		mov	[bp+2],	ax
		mov	[bp+4],	ax
		mov	[bp+6],	bx
		mov	[bp+8],	si

loc_270EF:				; CODE XREF: sub_27097:loc_270D5j
					; sub_27097+45j
		jmp	loc_271A2
; ---------------------------------------------------------------------------

loc_270F2:				; CODE XREF: sub_27097+Fj
		mov	si, 38h	; '8'
		and	si, cx
		xor	cx, si
		shr	si, 1
		shr	si, 1
		shr	si, 1
		neg	si
		add	si, 7
		cmp	si, 7
		jnz	short loc_2710F
		mov	ah, 0
		mov	al, [bp+si]
		jmp	short loc_27111
; ---------------------------------------------------------------------------

loc_2710F:				; CODE XREF: sub_27097+70j
		mov	ax, [bp+si]

loc_27111:				; CODE XREF: sub_27097+76j
		sub	bx, bx
		mov	di, si

loc_27115:				; CODE XREF: sub_27097+85j
		dec	di
		jl	short loc_2711E
		or	bl, [bp+di]
		mov	[bp+di], bh
		jmp	short loc_27115
; ---------------------------------------------------------------------------

loc_2711E:				; CODE XREF: sub_27097+7Fj
		mov	dx, 0FFh
		and	cl, 7
		shr	dx, cl
		mov	di, dx
		inc	di
		and	dx, ax
		jnz	short loc_27131
		or	bl, bl
		jz	short loc_271A2

loc_27131:				; CODE XREF: sub_27097+94j
		mov	ch, 20h	; ' '
		call	sub_28469
		xor	ax, dx
		mov	cl, 0Ch
		and	cl, byte ptr word_29B12+1
		cmp	cl, 0Ch
		jz	short loc_2715B
		cmp	cl, 0
		jz	short loc_27166
		add	cl, [bp+0Ah]
		cmp	cl, 4
		jz	short loc_2715B
		cmp	cl, 9
		jz	short loc_2715B
		or	bl, dl
		jnz	short loc_2717C
		jmp	short loc_271A2
; ---------------------------------------------------------------------------

loc_2715B:				; CODE XREF: sub_27097+AAj
					; sub_27097+B7j ...
		mov	[bp+si], al
		cmp	byte ptr [bp+7], 0
		jnz	short loc_271A2
		jmp	loc_270C6
; ---------------------------------------------------------------------------

loc_27166:				; CODE XREF: sub_27097+AFj
		or	bl, bl
		jnz	short loc_27176
		test	ax, di
		jnz	short loc_27176
		add	dx, dx
		cmp	dx, di
		jbe	short loc_2715B
		jmp	short loc_2717C
; ---------------------------------------------------------------------------

loc_27176:				; CODE XREF: sub_27097+D1j
					; sub_27097+D5j
		add	dx, dx
		cmp	dx, di
		jb	short loc_2715B

loc_2717C:				; CODE XREF: sub_27097+C0j
					; sub_27097+DDj
		sub	si, 7
		jl	short loc_2718A
		add	ax, di
		mov	[bp+si+7], al
		neg	ah
		jmp	short loc_27199
; ---------------------------------------------------------------------------

loc_2718A:				; CODE XREF: sub_27097+E8j
		add	ax, di
		mov	[bp+si+7], ax
		inc	si

loc_27190:				; CODE XREF: sub_27097+100j
		inc	si
		jg	short loc_27199
		adc	byte ptr [bp+si+7], 0
		jb	short loc_27190

loc_27199:				; CODE XREF: sub_27097+F1j
					; sub_27097+FAj
		jnb	short loc_271A2
		stc
		rcr	word ptr [bp+6], 1
		inc	word ptr [bp+8]

loc_271A2:				; CODE XREF: sub_27097:loc_270EFj
					; sub_27097+98j ...
		pop	di
		pop	si
		pop	bp
		retn
sub_27097	endp


; =============== S U B	R O U T	I N E =======================================


sub_271A6	proc near		; CODE XREF: sub_2745F+3p sub_27480p ...
		push	bp
		push	si
		push	di
		mov	bp, word_29B1D
		mov	ax, [bp+0]
		mov	bx, [bp+2]
		mov	cx, [bp+4]
		mov	dx, [bp+6]
		sub	di, di
		mov	si, [bp+8]
		cmp	si, 0C001h
		jz	short loc_271E5
		cmp	si, 0FFF0h
		jg	short loc_271D6
		mov	di, ax
		mov	ax, bx
		mov	bx, cx
		mov	cx, dx
		sub	dx, dx
		add	si, 10h

loc_271D6:				; CODE XREF: sub_271A6+21j
					; sub_271A6+3Dj
		inc	si
		jg	short loc_271E5
		shr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		rcr	di, 1
		jmp	short loc_271D6
; ---------------------------------------------------------------------------

loc_271E5:				; CODE XREF: sub_271A6+1Cj
					; sub_271A6+31j
		shl	di, 1
		mov	di, 0
		adc	ax, di
		adc	bx, di
		adc	cx, di
		adc	dx, di
		mov	[bp+0],	ax
		mov	[bp+2],	bx
		mov	[bp+4],	cx
		mov	[bp+6],	dx
		mov	bx, di
		mov	cx, di
		mov	si, di
		test	byte ptr [bp+3], 80h
		jz	short loc_27214
		mov	bx, [bp+0]
		mov	cx, [bp+2]
		shl	bx, 1
		rcl	cx, 1

loc_27214:				; CODE XREF: sub_271A6+62j
		mov	ax, [bp+0]
		mul	word ptr [bp+4]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	bx, cx
		mov	cx, si
		sub	si, si
		mov	ax, [bp+2]
		mul	word ptr [bp+4]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	ax, [bp+0]
		mul	word ptr [bp+6]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		shl	bx, 1
		adc	cx, di
		adc	si, di
		mov	bx, cx
		mov	cx, si
		sub	si, si
		mov	ax, [bp+4]
		mul	ax
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	ax, [bp+6]
		mul	word ptr [bp+2]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	ax, [bp+6]
		mul	word ptr [bp+4]
		add	cx, ax
		adc	si, dx
		adc	di, di
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+6]
		mul	ax
		add	si, ax
		adc	di, dx
		mov	[bp+0],	bx
		mov	[bp+2],	cx
		mov	[bp+4],	si
		mov	[bp+6],	di
		mov	byte ptr [bp+0Ah], 0
		mov	word ptr [bp+8], 0
		pop	di
		pop	si
		pop	bp
		retn
sub_271A6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_272AE	proc near		; CODE XREF: sub_27465+9p sub_27483+9p ...

var_0		= word ptr  0
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_6		= byte ptr  0Ah
arg_12		= byte ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		push	es
		mov	al, 0Ch
		mul	byte ptr [bp+arg_2]
		sub	ax, 0Ch
		xchg	ax, si
		add	si, [bp+arg_0]
		call	sub_26BE7
		mov	di, si

loc_272C6:				; CODE XREF: sub_272AE+84j
					; sub_272AE+93j
		dec	byte ptr [bp+arg_2]
		jle	short loc_27343
		push	bp
		mov	bp, word_29B1D
		mov	al, [bp+arg_12]
		xor	[bp+arg_6], al
		call	sub_260B3
		mov	[bp+var_0], ax
		mov	[bp+2],	bx
		mov	[bp+arg_0], cx
		mov	[bp+arg_2], dx
		sub	di, 0Ch
		mov	bx, cs:[di]
		mov	cx, cs:[di+2]
		mov	dx, cs:[di+4]
		mov	si, cs:[di+6]
		mov	al, cs:[di+0Ah]
		cmp	al, [bp+arg_6]
		jz	short loc_27334
		sub	bx, [bp+var_0]
		sbb	cx, [bp+2]
		sbb	dx, [bp+arg_0]
		sbb	si, [bp+arg_2]
		jnb	short loc_27322
		not	si
		not	dx
		not	cx
		neg	bx
		cmc
		adc	cx, 0
		adc	dx, 0
		adc	si, 0
		xor	al, 1

loc_27322:				; CODE XREF: sub_272AE+5Ej
		mov	[bp+var_0], bx
		mov	[bp+2],	cx
		mov	[bp+arg_0], dx
		mov	[bp+arg_2], si
		mov	[bp+arg_6], al
		pop	bp
		jmp	short loc_272C6
; ---------------------------------------------------------------------------

loc_27334:				; CODE XREF: sub_272AE+50j
		add	[bp+var_0], bx
		adc	[bp+2],	cx
		adc	[bp+arg_0], dx
		adc	[bp+arg_2], si
		pop	bp
		jmp	short loc_272C6
; ---------------------------------------------------------------------------

loc_27343:				; CODE XREF: sub_272AE+1Bj
		mov	si, word_29B1D
		cld
		lodsw
		xchg	ax, bx
		lodsw
		xchg	ax, cx
		lodsw
		xchg	ax, dx
		lodsw
		xchg	ax, di
		lodsw
		lodsb
		inc	si
		mov	word_29B1D, si
		xchg	si, di
		sub	di, di
		cmp	al, 1
		jnz	short loc_27370
		not	si
		not	dx
		not	cx
		neg	bx
		cmc
		adc	cx, di
		adc	dx, di
		adc	si, di
		jmp	short loc_27382
; ---------------------------------------------------------------------------

loc_27370:				; CODE XREF: sub_272AE+AFj
		stc
		rcr	si, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		adc	bx, di
		adc	cx, di
		adc	dx, di
		adc	si, di
		inc	di

loc_27382:				; CODE XREF: sub_272AE+C0j
		mov	ax, word_29B1D
		xchg	ax, di
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, si
		stosw
		xchg	ax, bx
		stosw
		mov	al, 0
		stosb
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn	4
sub_272AE	endp

; ---------------------------------------------------------------------------
byte_2739B	db 8			; DATA XREF: sub_27465r
					; Method
		db 0
		db 0			; Procedure
		db 0
		db 0Ah dup(0), 0B6h, 6 dup(0AAh), 2Ah, 2 dup(0), 1, 0
		db 3, 24h, 5 dup(22h), 2, 4 dup(0), 0B3h, 0E4h,	0, 0Dh
		db 0D0h, 0, 0Dh, 3 dup(0), 1, 0, 6Eh, 8, 4Bh, 0C7h, 3Bh
		db 2Eh,	6 dup(0), 0C6h,	40h, 16h, 99h, 6Bh, 5 dup(0), 1
		db 0, 0Ch, 45h,	92h, 0B0h, 8 dup(0), 0D5h, 45h,	0D6h, 7	dup(0)
		db 1, 0
word_273FD	dw 8			; DATA XREF: sub_27483r
		db 0Ch dup(0), 88h, 6 dup(0FFh), 7Fh, 2	dup(0),	1, 0, 0A6h
		db 9Ah,	5 dup(0AAh), 0Ah, 4 dup(0), 7Fh, 0E6h, 4, 5Bh
		db 0B0h, 5, 5Bh, 3 dup(0), 1, 0, 0EFh, 26h, 9Bh, 1, 1Ah
		db 0A0h, 1, 5 dup(0), 1Dh, 0CEh, 0DCh, 93h, 9Fh, 4, 4 dup(0)
		db 1, 0, 0Fh, 0B1h, 4Bh, 0F7h, 8, 7 dup(0), 3, 0D8h, 7Bh
		db 0Ch,	6 dup(0), 1, 0

; =============== S U B	R O U T	I N E =======================================


sub_2745F	proc near		; CODE XREF: seg018:loc_279DBp
		call	sub_26BCB
		call	sub_271A6
sub_2745F	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_27465	proc near		; CODE XREF: sub_27490+9p
		push	word ptr cs:byte_2739B
		mov	ax, 163Dh
		push	ax
		call	sub_272AE
		push	word_29B1D
		push	si
		push	si
		call	sub_2601D
		add	word_29B1D, 0Ch
		retn
sub_27465	endp


; =============== S U B	R O U T	I N E =======================================


sub_27480	proc near		; CODE XREF: seg018:1C76p
		call	sub_271A6
sub_27480	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_27483	proc near		; CODE XREF: sub_27490+Cp
		push	cs:word_273FD
		mov	ax, 169Fh
		push	ax
		call	sub_272AE
		retn
sub_27483	endp


; =============== S U B	R O U T	I N E =======================================


sub_27490	proc near		; CODE XREF: seg018:1CA4p
		call	sub_26BCB
		call	sub_271A6
		call	sub_26C1A
		call	sub_27465
		call	sub_27483
		retn
sub_27490	endp

; ---------------------------------------------------------------------------
		db 35h,	0C2h, 68h, 21h,	0A2h, 0DAh, 0Fh, 0C9h, 1, 3 dup(0)
word_274AC	dw 8			; DATA XREF: sub_27639+1Dr
		db 0Ch dup(0), 57h, 6 dup(55h),	1, 2 dup(0), 1,	0, 0BEh
		db 32h,	4 dup(33h), 3, 5 dup(0), 7Dh, 1Eh, 49h,	92h, 24h
		db 9, 4	dup(0),	1, 0, 0BCh, 0FEh, 0C6h,	71h, 1Ch, 7 dup(0)
		db 5Ch,	0FFh, 16h, 5Dh,	6 dup(0), 1, 0,	0D8h, 0BBh, 3Ah
		db 1, 8	dup(0),	0Ah, 0Ch, 4, 7 dup(0), 1, 8 dup(0), 0E7h
		db 0FDh, 0FFh, 2 dup(0), 0BDh, 0A4h, 0D6h, 7Bh,	0EEh, 64h
		db 5Ch,	0B3h, 2	dup(0FFh), 2 dup(0), 0B5h, 85h,	47h, 0FCh
		db 74h,	30h, 11h, 0A1h,	0Bh dup(0), 80h, 1, 3 dup(0), 9Ch
		db 0FAh, 64h, 0B0h, 0B2h, 1Dh, 7, 0E6h,	0FEh, 0FFh, 2 dup(0)
		db 9Ch,	0FAh, 64h, 0B0h, 0B2h, 1Dh, 7, 0E6h, 2 dup(0FFh)
		db 2 dup(0), 0F5h, 0BBh, 4Bh, 4, 46h, 56h, 85h,	0ACh, 4	dup(0)
		db 0E6h, 6Eh, 0D9h, 1Fh, 0BDh, 9, 0FAh,	0E9h, 0FEh, 0FFh
		db 2 dup(0), 8Dh, 7Bh, 35h, 0BDh, 5Bh, 84h, 0DDh, 0F6h
		db 2 dup(0FFh),	2 dup(0), 7Fh, 0D5h, 35h, 2, 0DBh, 80h
		db 73h,	0CCh, 4	dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_27586	proc near		; CODE XREF: seg018:1D07p

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		push	si
		push	di
		push	si
		push	di
		push	si
		call	sub_261EA
		mov	[bp+var_2], 0
		mov	di, 17AEh

loc_2759C:				; CODE XREF: sub_27586+3Bj
		cmp	[bp+var_2], 3
		jnb	short loc_275C3
		xchg	si, di
		call	sub_26BE7
		xchg	di, si
		push	si
		push	word_29B1D
		call	sub_26739
		add	word_29B1D, 0Ch
		cmp	ax, 0
		jnz	short loc_275C3
		inc	[bp+var_2]
		add	di, 0Ch
		jmp	short loc_2759C
; ---------------------------------------------------------------------------

loc_275C3:				; CODE XREF: sub_27586+1Aj
					; sub_27586+33j
		cmp	[bp+var_2], 0
		jnz	short loc_275CE
		call	sub_27639
		jmp	short loc_27633
; ---------------------------------------------------------------------------

loc_275CE:				; CODE XREF: sub_27586+41j
		mov	bx, [bp+var_2]
		dec	bx
		mov	bl, cs:[bx+2]
		mov	[bp+var_2], bx
		add	bx, 1802h
		mov	di, bx
		xchg	si, di
		call	sub_26BE7
		xchg	di, si
		push	si
		mov	di, word_29B1D
		push	di
		lea	ax, [di-0Ch]
		mov	word_29B1D, ax
		push	ax
		call	sub_25E4F
		push	si
		push	di
		push	si
		call	sub_2601D
		call	sub_26B21
		push	di
		push	si
		push	si
		call	sub_25E53
		push	word_29B1D
		push	si
		push	si
		call	sub_261EA
		add	word_29B1D, 18h
		call	sub_27639
		mov	di, [bp+var_2]
		add	di, 17DEh
		xchg	si, di
		call	sub_26BE7
		xchg	di, si
		push	word_29B1D
		push	si
		push	si
		call	sub_25E53
		add	word_29B1D, 0Ch

loc_27633:				; CODE XREF: sub_27586+46j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_27586	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_27639	proc near		; CODE XREF: sub_27586+43p
					; sub_27586+8Ep
		push	si
		push	di
		call	sub_26BCB
		cmp	word ptr [si+8], 0FFE0h
		jg	short loc_2764B
		mov	di, si
		call	sub_26C04
		jmp	short loc_2766D
; ---------------------------------------------------------------------------

loc_2764B:				; CODE XREF: sub_27639+9j
		mov	di, word_29B1D
		add	word ptr [di+8], 3
		call	sub_271A6
		push	cs:word_274AC
		mov	ax, 174Eh
		push	ax
		call	sub_272AE
		push	di
		push	si
		push	si
		call	sub_2601D
		add	word_29B1D, 0Ch

loc_2766D:				; CODE XREF: sub_27639+10j
		pop	di
		pop	si
		retn
sub_27639	endp

; ---------------------------------------------------------------------------
word_27670	dw 0Dh			; DATA XREF: sub_2770E+60r
		db 0Ch dup(0), 3, 6 dup(0), 40h, 4 dup(0), 0A9h, 6 dup(0AAh)
		db 0Ah,	4 dup(0), 78h, 6 dup(55h), 1, 4	dup(0),	26h, 23h
		db 5 dup(22h), 5 dup(0), 1Ch, 2Bh, 0D8h, 82h, 2Dh, 0D8h
		db 2, 5	dup(0),	0FCh, 0F9h, 33h, 40h, 3, 34h, 6	dup(0)
		db 14h,	52h, 3,	34h, 40h, 3, 6 dup(0), 1Eh, 6Ch, 0C7h
		db 3Bh,	2Eh, 7 dup(0), 4Ch, 0B0h, 0C9h,	4Fh, 2,	7 dup(0)
		db 91h,	0Eh, 0E6h, 1Ah,	8 dup(0), 51h, 76h, 1Fh, 1, 8 dup(0)
		db 0C5h, 2Ch, 0Bh, 9 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_2770E	proc near		; CODE XREF: seg018:1E98p
		push	bp
		push	si
		push	di
		mov	bp, word_29B1D
		lea	di, [bp-0Ch]
		mov	word_29B1D, di
		call	sub_26B76
		push	di
		push	si
		push	si
		call	sub_2601D
		mov	word_29B1D, bp
		mov	di, [si+8]
		cmp	di, 0FFC0h
		jle	short loc_27788
		mov	ax, [si]
		mov	bx, [si+2]
		mov	cx, [si+4]
		mov	dx, [si+6]
		inc	di
		jge	short loc_27756

loc_2773F:				; CODE XREF: sub_2770E+3Aj
		shr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		inc	di
		jl	short loc_2773F
		adc	ax, 0
		adc	bx, 0
		adc	cx, 0
		adc	dx, 0

loc_27756:				; CODE XREF: sub_2770E+2Fj
		sub	word_29B1D, 0Ch
		cld
		mov	di, word_29B1D
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		sub	ax, ax
		stosw
		stosb
		sub	di, 0Bh
		push	cs:word_27670
		mov	ax, 1912h
		push	ax
		call	sub_272AE
		mov	ax, word_29B1D
		push	ax
		push	si
		push	si
		call	sub_2601D
		add	word_29B1D, 0Ch

loc_27788:				; CODE XREF: sub_2770E+21j
		pop	di
		pop	si
		pop	bp
		retn
sub_2770E	endp

; ---------------------------------------------------------------------------
		db 0BBh, 0F0h, 17h, 5Ch, 29h, 3Bh, 0AAh, 0B8h, 1, 3 dup(0)
word_27798	dw 9			; DATA XREF: sub_278F6+34r
		db 0Ch dup(0), 68h, 6 dup(55h),	5, 4 dup(0), 0BAh, 34h
		db 5 dup(33h), 5 dup(0), 0A7h, 0C3h, 48h, 92h, 24h, 49h
		db 2, 5	dup(0),	4Dh, 5Dh, 22h, 0C7h, 71h, 1Ch, 6 dup(0)
		db 24h,	56h, 0EBh, 5Ch,	74h, 1,	6 dup(0), 39h, 0ADh, 0ECh
		db 0B1h, 13h, 7	dup(0),	0FDh, 0D6h, 80h, 0Fh, 1, 7 dup(0)
		db 0B5h, 7Ah, 0E4h, 10h, 8 dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_27806	proc near		; CODE XREF: seg018:1D81p

var_4		= word ptr -4
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		push	word ptr [di+8]
		push	si
		push	di
		mov	ax, [di]
		mov	bx, [di+2]
		mov	cx, [di+4]
		mov	dx, [di+6]
		cmp	dx, 0B505h
		ja	short loc_2782F
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1
		mov	si, 0
		dec	[bp+var_2]
		jmp	short loc_27844
; ---------------------------------------------------------------------------

loc_2782F:				; CODE XREF: sub_27806+17j
		not	dx
		not	cx
		not	bx
		neg	ax
		cmc
		adc	bx, 0
		adc	cx, 0
		adc	dx, 0
		mov	si, 1

loc_27844:				; CODE XREF: sub_27806+27j
		sub	di, di

loc_27846:				; CODE XREF: sub_27806+4Dj
		or	dx, dx
		jnz	short loc_27863
		xchg	ax, bx
		xchg	ax, cx
		xchg	ax, dx
		sub	di, 10h
		cmp	di, 0FFC0h
		jg	short loc_27846
		sub	word_29B1D, 0Ch
		mov	di, word_29B1D
		call	sub_26B87
		jmp	short loc_27890
; ---------------------------------------------------------------------------

loc_27863:				; CODE XREF: sub_27806+42j
		js	short loc_27870

loc_27865:				; CODE XREF: sub_27806+68j
		dec	di
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jns	short loc_27865

loc_27870:				; CODE XREF: sub_27806:loc_27863j
		push	si
		push	di
		push	dx
		push	cx
		push	bx
		push	ax
		mov	si, sp
		call	sub_278F6
		mov	si, 1A2Ch
		call	sub_26BE7
		mov	si, word_29B1D
		mov	ax, sp
		push	si
		push	ax
		push	si
		call	sub_2601D
		add	sp, 0Ch

loc_27890:				; CODE XREF: sub_27806+5Bj
		lea	si, [bp+var_2]
		sub	word_29B1D, 0Ch
		mov	di, word_29B1D
		call	sub_26C58
		lea	si, [di+0Ch]
		push	si
		push	di
		push	di
		call	sub_25E53
		push	di
		push	[bp+var_4]
		push	[bp+var_4]
		call	sub_2601D
		add	word_29B1D, 18h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_27806	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, di
		call	sub_26BCB
		mov	si, word_29B1D
		call	sub_278F6
		mov	si, 1A2Ch
		call	sub_26BE7
		mov	si, word_29B1D
		push	si
		lea	si, [si+0Ch]
		push	si
		push	si
		call	sub_2601D
		push	si
		push	word ptr [bp-2]
		push	word ptr [bp-2]
		call	sub_2601D
		add	word_29B1D, 18h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_278F6	proc near		; CODE XREF: sub_27806+72p
					; seg018:1B6Bp
		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word ptr [si+8], 0FFC0h
		jle	short loc_27947
		sub	word_29B1D, 0Ch
		mov	di, word_29B1D
		call	sub_26B21
		inc	word ptr [di+8]
		push	si
		push	di
		push	di
		call	sub_25E53
		push	si
		push	di
		push	di
		call	sub_261EA
		call	sub_26C1A
		mov	bx, word_29B1D
		add	word ptr [bx+8], 2
		call	sub_271A6
		push	cs:word_27798
		mov	ax, 1A3Ah
		push	ax
		call	sub_272AE
		push	word_29B1D
		push	di
		push	si
		call	sub_2601D
		inc	word ptr [si+8]
		add	word_29B1D, 18h

loc_27947:				; CODE XREF: sub_278F6+9j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_278F6	endp

; ---------------------------------------------------------------------------
		mov	cl, 0
		jmp	short loc_27957
; ---------------------------------------------------------------------------
		mov	cl, 2
		jmp	short loc_27957
; ---------------------------------------------------------------------------
		mov	cl, 4

loc_27957:				; CODE XREF: seg018:1BEFj seg018:1BF3j
		mov	es, di
		mov	bp, sp
		mov	di, word_29B1D
		mov	ch, [di+0Ah]
		push	cx
		push	ax
		cmp	word ptr [di+8], 0FFE0h
		jg	short loc_27975
		cmp	cl, 2
		jnz	short loc_27972
		call	sub_26B21

loc_27972:				; CODE XREF: seg018:1C0Dj
		jmp	loc_27A2F
; ---------------------------------------------------------------------------

loc_27975:				; CODE XREF: seg018:1C08j
		cmp	word ptr [di+8], 40h ; '@'
		jle	short loc_27986
		call	sub_26BB3
		mov	word ptr [di+6], 21h ; '!'
		jmp	loc_27A2F
; ---------------------------------------------------------------------------

loc_27986:				; CODE XREF: seg018:1C19j
		mov	byte ptr [di+0Ah], 0
		lea	si, [di-0Ch]
		mov	word_29B1D, si
		xchg	di, si
		call	sub_26B54
		xchg	di, si
		sub	word ptr [si+8], 2
		call	sub_26631
		and	al, 7
		mov	[bp-4],	al
		mov	bl, [bp-2]
		cmp	bl, 4
		jz	short loc_279E7
		add	bl, [bp-4]
		and	bl, 7
		mov	[bp-4],	bl
		shr	bx, 1
		jnb	short loc_279CA
		xchg	di, si
		call	sub_26B54
		xchg	di, si
		sub	word ptr [si+8], 2
		push	si
		push	di
		push	di
		call	sub_25E4F

loc_279CA:				; CODE XREF: seg018:1C57j
		mov	word_29B1D, di
		mov	si, di
		test	byte ptr [bp-4], 3
		jp	short loc_279DB
		call	sub_27480
		jmp	short loc_279DE
; ---------------------------------------------------------------------------

loc_279DB:				; CODE XREF: seg018:1C74j
		call	sub_2745F

loc_279DE:				; CODE XREF: seg018:1C79j
		mov	bl, [bp-4]
		shr	bl, 1
		shr	bl, 1
		jmp	short loc_27A23
; ---------------------------------------------------------------------------

loc_279E7:				; CODE XREF: seg018:1C4Aj
		test	byte ptr [bp-4], 1
		jz	short loc_279FE
		xchg	si, di
		call	sub_26B54
		xchg	si, di
		sub	word ptr [si+8], 2
		push	si
		push	di
		push	di
		call	sub_25E4F

loc_279FE:				; CODE XREF: seg018:1C8Bj
		mov	word_29B1D, di
		mov	si, di
		call	sub_27490
		lea	di, [si-0Ch]
		mov	ax, si
		test	byte ptr [bp-4], 3
		jp	short loc_27A14
		xchg	si, di

loc_27A14:				; CODE XREF: seg018:1CB0j
		xchg	ax, di
		push	si
		push	ax
		push	di
		call	sub_261EA
		mov	bl, [bp-4]
		shr	bl, 1
		and	bl, 1

loc_27A23:				; CODE XREF: seg018:1C85j
		cmp	byte ptr [bp-2], 2
		jz	short loc_27A2C
		xor	bl, [bp-1]

loc_27A2C:				; CODE XREF: seg018:1CC7j
		mov	[di+0Ah], bl

loc_27A2F:				; CODE XREF: seg018:loc_27972j
					; seg018:1C23j
		mov	word_29B1D, di
		mov	sp, bp
		retn
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word_29B1D
		lea	di, [si-0Ch]
		mov	word_29B1D, di
		call	sub_26B21
		mov	ax, [si+8]
		cmp	ax, 4001h
		jge	short loc_27A86
		cmp	ax, 0C001h
		jle	short loc_27A81
		mov	cl, 0
		mov	bx, si
		dec	ax
		jl	short loc_27A61
		call	sub_26C37
		mov	bx, di
		mov	cl, 1

loc_27A61:				; CODE XREF: seg018:1CF8j
		mov	ch, 0
		xchg	ch, [bx+0Ah]
		push	cx
		call	sub_27586
		pop	cx
		cmp	cl, 1
		jnz	short loc_27A7E
		push	cx
		call	sub_26B54
		dec	word ptr [di+8]
		push	di
		push	si
		push	si
		call	sub_25E4F
		pop	cx

loc_27A7E:				; CODE XREF: seg018:1D0Ej
		mov	[si+0Ah], ch

loc_27A81:				; CODE XREF: seg018:1CF1j seg018:1D35j
		mov	word_29B1D, si
		retn
; ---------------------------------------------------------------------------

loc_27A86:				; CODE XREF: seg018:1CECj
		mov	di, si
		push	word ptr [si+0Ah]
		call	sub_26B54
		pop	ax
		mov	[si+0Ah], al
		dec	word ptr [si+8]
		jmp	short loc_27A81
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word_29B1D
		lea	di, [si-0Ch]
		mov	word_29B1D, di
		call	sub_26B76
		jmp	short loc_27ACB
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word_29B1D
		lea	di, [si-0Ch]
		mov	word_29B1D, di
		call	sub_26B21
		jmp	short loc_27ACB
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word_29B1D
		lea	di, [si-0Ch]
		mov	word_29B1D, di
		call	sub_26B65

loc_27ACB:				; CODE XREF: seg018:1D47j seg018:1D59j
		call	sub_26C37
		cmp	byte ptr [di+0Ah], 0
		jnz	short loc_27AED
		mov	ax, [di+8]
		cmp	ax, 0C001h
		jle	short loc_27AE9
		cmp	ax, 4001h
		jge	short loc_27AED
		call	sub_27806

loc_27AE4:				; CODE XREF: seg018:1D9Fj seg018:1DA6j
		mov	word_29B1D, si
		retn
; ---------------------------------------------------------------------------

loc_27AE9:				; CODE XREF: seg018:1D7Aj
		mov	ch, 4
		jmp	short loc_27AEF
; ---------------------------------------------------------------------------

loc_27AED:				; CODE XREF: seg018:1D72j seg018:1D7Fj
		mov	ch, 1

loc_27AEF:				; CODE XREF: seg018:1D8Bj
		call	sub_28469
		mov	ax, 4001h
		mov	di, si
		mov	cl, 0
		call	sub_26B9D
		cmp	ch, 1
		jnz	short loc_27AE4
		mov	word ptr [di+6], 0C000h
		jmp	short loc_27AE4
; ---------------------------------------------------------------------------
		mov	ax, 0DE3h
		jmp	short loc_27B1B
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word_29B1D
		lea	di, [si-0Ch]
		jmp	short loc_27B34
; ---------------------------------------------------------------------------
		mov	ax, 0DD2h

loc_27B1B:				; CODE XREF: seg018:1DABj
		mov	es, di
		mov	si, word_29B1D
		lea	di, [si-0Ch]
		mov	word_29B1D, di
		call	ax ; sub_26B43
		push	si
		push	di
		push	si
		call	sub_2601D
		mov	word_29B1D, si

loc_27B34:				; CODE XREF: seg018:1DB6j
		mov	bp, sp
		mov	ax, 0
		push	ax
		mov	ax, [si+8]
		cmp	ax, 0Ch
		jg	short loc_27B90
		cmp	ax, 0FFC0h
		jle	short loc_27BBC
		call	sub_26C1A
		inc	word ptr [di+8]
		push	word_29B12
		and	byte ptr word_29B12+1, 0F3h
		or	byte ptr word_29B12+1, 4
		mov	si, di
		call	sub_27097
		pop	word_29B12
		push	ax
		mov	di, sp
		call	sub_26C9B
		dec	word ptr [si+8]
		lea	di, [si+0Ch]
		push	di
		push	si
		push	di
		call	sub_25E4F
		pop	ax
		sar	ax, 1
		jnb	short loc_27BD8
		mov	word ptr [si], 6485h
		mov	word ptr [si+2], 0F9DEh
		mov	word ptr [si+4], 0F333h
		mov	word ptr [si+6], 0B504h
		jmp	short loc_27BEB
; ---------------------------------------------------------------------------

loc_27B90:				; CODE XREF: seg018:1DE0j
		cmp	ax, 4001h
		jnz	short loc_27BA5
		mov	ax, 7FFFh
		and	ax, [si+6]
		or	ax, [si+4]
		or	ax, [si+2]
		or	ax, [si]
		jnz	short loc_27BC3

loc_27BA5:				; CODE XREF: seg018:1E33j
		cmp	byte ptr [si+0Ah], 0
		jnz	short loc_27BD1
		mov	di, si
		mov	ch, 8
		call	sub_28469
		mov	ax, 4001h
		mov	cl, 0
		call	sub_26B9D
		jmp	short loc_27C11
; ---------------------------------------------------------------------------

loc_27BBC:				; CODE XREF: seg018:1DE5j
		mov	di, si
		call	sub_26B21
		jmp	short loc_27C11
; ---------------------------------------------------------------------------

loc_27BC3:				; CODE XREF: seg018:1E43j
		mov	word ptr [si+6], 0C000h
		mov	di, si
		mov	ch, 1
		call	sub_28469
		jmp	short loc_27C11
; ---------------------------------------------------------------------------

loc_27BD1:				; CODE XREF: seg018:1E49j
		mov	di, si
		call	sub_26B87
		jmp	short loc_27C11
; ---------------------------------------------------------------------------

loc_27BD8:				; CODE XREF: seg018:1E19j
		mov	word ptr [si], 0
		mov	word ptr [si+2], 0
		mov	word ptr [si+4], 0
		mov	word ptr [si+6], 8000h

loc_27BEB:				; CODE XREF: seg018:1E2Ej
		inc	ax
		mov	[si+8],	ax
		mov	byte ptr [si+0Ah], 0
		mov	di, si
		lea	si, [di+0Ch]
		call	sub_2770E
		push	si
		push	di
		push	si
		call	sub_2601D
		push	si
		push	di
		push	si
		call	sub_25E53
		cmp	byte ptr [bp-2], 1
		jnz	short loc_27C11
		xor	byte ptr [si+0Ah], 1

loc_27C11:				; CODE XREF: seg018:1E5Aj seg018:1E61j ...
		mov	word_29B1D, si
		mov	sp, bp
		retn

; =============== S U B	R O U T	I N E =======================================


sub_27C18	proc near		; CODE XREF: sub_27C47+26p
					; sub_27C47+3Dp ...
		push	bx
		push	cx
		push	dx
		mov	cl, 4
		mov	ch, 0Ah
		mov	bx, es:[si]
		mov	al, bh
		shr	al, cl
		mul	ch
		mov	dl, 0Fh
		and	dl, bh
		add	al, dl
		mul	ch
		mov	dx, 0F0h ; 'ð'
		and	dl, bl
		shr	dx, cl
		add	ax, dx
		mov	cx, 0Ah
		mul	cx
		and	bx, 0Fh
		add	ax, bx
		pop	dx
		pop	cx
		pop	bx
		retn
sub_27C18	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_27C47	proc near		; CODE XREF: sub_28143+7p

var_4		= word ptr -4
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, es:[si+9]
		and	ax, 80h
		rol	al, 1
		mov	[di+0Ah], al
		mov	cl, 4
		mov	al, es:[si+8]
		shl	ax, cl
		shr	al, cl
		aad
		mov	di, 2710h
		mul	di
		xchg	ax, bx
		lea	si, [si+6]
		call	sub_27C18
		add	ax, bx
		adc	dl, dh
		mov	bx, dx
		mul	di
		xchg	ax, bx
		mov	cx, dx
		mul	di
		add	cx, ax
		adc	dl, dh
		sub	si, 2
		call	sub_27C18
		add	ax, bx
		adc	cx, 0
		adc	dl, dh
		push	si
		mov	bx, dx
		mul	di
		xchg	ax, cx
		mov	si, dx
		mul	di
		xchg	ax, bx
		xchg	di, dx
		mul	dx
		add	bx, si
		adc	di, ax
		pop	si
		sub	si, 2
		call	sub_27C18
		add	ax, cx
		adc	bx, dx
		adc	di, dx
		mov	si, 2710h
		mul	si
		xchg	ax, bx
		mov	cx, dx
		mul	si
		xchg	ax, si
		xchg	di, dx
		mul	dx
		add	cx, si
		adc	di, ax
		adc	dx, 0
		mov	si, [bp+var_2]
		call	sub_27C18
		add	bx, ax
		adc	cx, 0
		adc	di, 0
		adc	dx, 0
		mov	ax, 40h	; '@'

loc_27CD8:				; CODE XREF: sub_27C47+A0j
		or	dx, dx
		jnz	short loc_27CE9
		sub	ax, 10h
		jz	short loc_27D0D
		xchg	dx, di
		xchg	di, cx
		xchg	cx, bx
		jmp	short loc_27CD8
; ---------------------------------------------------------------------------

loc_27CE9:				; CODE XREF: sub_27C47+93j
		js	short loc_27CF6

loc_27CEB:				; CODE XREF: sub_27C47+ADj
		dec	ax
		shl	bx, 1
		rcl	cx, 1
		rcl	di, 1
		adc	dx, dx
		jns	short loc_27CEB

loc_27CF6:				; CODE XREF: sub_27C47:loc_27CE9j
					; sub_27C47+C9j
		mov	si, [bp+var_4]
		mov	[si], bx
		mov	[si+2],	cx
		mov	[si+4],	di
		mov	[si+6],	dx
		mov	[si+8],	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_27D0D:				; CODE XREF: sub_27C47+98j
		mov	ax, 0C001h
		jmp	short loc_27CF6
sub_27C47	endp


; =============== S U B	R O U T	I N E =======================================


sub_27D12	proc near		; CODE XREF: sub_27D30+81p
					; sub_27D30+8Fp ...
		push	ax
		push	cx
		mov	al, 64h	; 'd'
		mov	cl, 4
		xchg	ax, dx
		div	dl
		mov	dl, ah
		aam
		shl	ah, cl
		or	ah, al
		xchg	ax, dx
		aam
		shl	ah, cl
		or	al, ah
		mov	ah, dh
		stosw
		pop	cx
		pop	ax
		retn
sub_27D12	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_27D30	proc near		; CODE XREF: sub_28170+4p

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	ax, [si+8]
		mov	bx, [si]
		mov	cx, [si+2]
		mov	dx, [si+6]
		mov	si, [si+4]
		cmp	ax, 0
		jl	short loc_27D81
		sub	ax, 3Ch	; '<'
		jl	short loc_27D6D
		jg	short loc_27D83
		cmp	dx, 0DE0Bh
		jb	short loc_27D6D
		ja	short loc_27D83
		cmp	si, 6B3Ah
		jb	short loc_27D6D
		ja	short loc_27D83
		cmp	cx, 763Fh
		jb	short loc_27D6D
		ja	short loc_27D83
		cmp	bx, 0FFF0h
		ja	short loc_27D83

loc_27D6D:				; CODE XREF: sub_27D30+1Cj
					; sub_27D30+24j ...
		mov	ah, 0
		sub	al, 4

loc_27D71:				; CODE XREF: sub_27D30+4Fj
		add	al, 10h
		jg	short loc_27D85
		mov	ah, bh
		mov	bx, cx
		mov	cx, si
		mov	si, dx
		sub	dx, dx
		jmp	short loc_27D71
; ---------------------------------------------------------------------------

loc_27D81:				; CODE XREF: sub_27D30+17j
		jmp	short loc_27DEA
; ---------------------------------------------------------------------------

loc_27D83:				; CODE XREF: sub_27D30+1Ej
					; sub_27D30+26j ...
		jmp	short loc_27DF3
; ---------------------------------------------------------------------------

loc_27D85:				; CODE XREF: sub_27D30+43j
		sub	al, 10h
		jge	short loc_27D97

loc_27D89:				; CODE XREF: sub_27D30+65j
		shr	dx, 1
		rcr	si, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ah, 1
		inc	al
		jl	short loc_27D89

loc_27D97:				; CODE XREF: sub_27D30+57j
		add	ah, ah
		adc	bx, 0
		adc	cx, 0
		adc	si, 0
		adc	dx, 0
		xchg	ax, si
		mov	si, 2710h
		div	si
		xchg	ax, cx
		div	si
		xchg	ax, bx
		div	si
		call	sub_27D12
		sub	dx, dx
		xchg	ax, cx
		div	si
		xchg	ax, bx
		div	si
		xchg	ax, cx
		div	si
		call	sub_27D12
		mov	dx, bx
		xchg	ax, cx
		div	si
		xchg	ax, cx
		div	si
		call	sub_27D12
		mov	dx, cx
		div	si
		call	sub_27D12
		aam
		mov	cl, 4
		shl	ah, cl
		or	al, ah
		stosb

loc_27DDD:				; CODE XREF: sub_27D30+C1j
		mov	si, [bp+var_2]
		mov	al, [si+0Ah]
		ror	al, 1
		stosb
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_27DEA:				; CODE XREF: sub_27D30:loc_27D81j
		mov	al, 0

loc_27DEC:				; CODE XREF: sub_27D30+CAj
		mov	cx, 9
		rep stosb
		jmp	short loc_27DDD
; ---------------------------------------------------------------------------

loc_27DF3:				; CODE XREF: sub_27D30:loc_27D83j
		mov	ch, 8
		call	sub_28469
		mov	al, 99h	; '™'
		jmp	short loc_27DEC
sub_27D30	endp

; ---------------------------------------------------------------------------
off_27DFC	dw offset loc_27EFE	; DATA XREF: seg018:2199r
		dw offset loc_27F08
		dw offset loc_27F12
		dw offset loc_27F1C
		dw offset loc_27F26
		dw offset loc_27F2D
		dw offset loc_27F4B
		dw offset loc_27F34
off_27E0C	dw offset loc_282DC	; DATA XREF: seg018:2217r
		dw offset loc_28351
		dw offset loc_283C1
		dw offset loc_283C3
off_27E14	dw offset sub_268E9	; DATA XREF: seg018:223Br
		dw offset sub_26DEA
		dw offset sub_269ED
		dw offset sub_26C58
off_27E1C	dw offset sub_27FDC	; DATA XREF: seg018:2250r seg018:2277r
		dw offset sub_27FE3
		dw offset sub_27FED
		dw offset sub_27FEA
		dw offset sub_27FF4
		dw offset sub_27FF3
		dw offset sub_27FFC
		dw offset sub_27FFB
off_27E2C	dw offset sub_268E9	; DATA XREF: seg018:22C7r
		dw offset sub_26DEA
		dw offset sub_269ED
		dw offset sub_26C58
off_27E34	dw offset sub_2686F	; DATA XREF: seg018:22DBr seg018:22EAr
		dw offset sub_26E42
		dw offset sub_26946
		dw offset sub_26C9B
off_27E3C	dw offset sub_28074	; DATA XREF: seg018:22FFr
		dw offset sub_2806E
		dw offset sub_280D5
		dw offset sub_28143
		dw offset sub_2807D
		dw offset sub_28153
		dw offset sub_2806E
		dw offset sub_28133
off_27E4C	dw offset sub_28088	; DATA XREF: seg018:2306r
		dw offset sub_2806E
		dw offset sub_280B1
		dw offset sub_28170
		dw offset sub_28107
		dw offset sub_2817D
		dw offset sub_2810C
		dw offset sub_28163
; ---------------------------------------------------------------------------

loc_27E5C:				; CODE XREF: seg018:2109j
		mov	ch, 1
		call	sub_28469
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_27E64:				; CODE XREF: seg018:2165j
		ja	short loc_27E8A
		test	ah, 20h
		jnz	short loc_27E5C
		mov	al, ah
		inc	dx
		mov	di, ds
		and	al, 0C0h
		jz	short loc_27E82
		cmp	al, 80h	; '€'
		mov	di, ss
		jb	short loc_27E82
		mov	di, [bp+0]
		ja	short loc_27E82
		mov	di, [bp+14h]

loc_27E82:				; CODE XREF: seg018:2112j seg018:2118j ...
		lods	byte ptr es:[si]
		xchg	ah, al
		and	al, 7
		jmp	short loc_27EC7
; ---------------------------------------------------------------------------

loc_27E8A:				; CODE XREF: seg018:loc_27E64j
		cmp	al, 9
		jnz	short loc_27EA2
		mov	ax, es
		xor	ax, ss:97h
		mov	es, ax
		push	es
		pop	es
		mov	word ptr es:[si-3], 0E489h
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_27EA2:				; CODE XREF: seg018:212Cj
		jmp	loc_284A6
; ---------------------------------------------------------------------------
		lds	ax, [bx+si]

loc_27EA7:				; DATA XREF: seg000:0469o
		sti
		cld
		push	ax
		push	cx
		push	dx
		push	bx
		push	ds
		push	bp
		push	si
		push	di
		push	es
		mov	bp, sp
		mov	ss:0C3h, bp
		les	si, [bp+12h]
		mov	dl, 0
		dec	si
		lods	word ptr es:[si]
		sub	al, 34h	; '4'
		cmp	al, 8
		jnb	short loc_27E64

loc_27EC7:				; CODE XREF: seg018:2128j
		mov	bx, 0C007h
		and	bl, ah
		and	bh, ah
		xchg	ax, cx
		cmp	bh, 0C0h ; 'À'
		jnb	short loc_27F3B
		cmp	bh, 40h	; '@'
		ja	short loc_27EEB
		jz	short loc_27EEF
		sub	ax, ax
		cmp	bl, 6
		jnz	short loc_27EF2
		lods	word ptr es:[si]
		mov	[bp+12h], si
		mov	si, ds
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27EEB:				; CODE XREF: seg018:2177j
		lods	word ptr es:[si]
		jmp	short loc_27EF2
; ---------------------------------------------------------------------------

loc_27EEF:				; CODE XREF: seg018:2179j
		lods	byte ptr es:[si]
		cbw

loc_27EF2:				; CODE XREF: seg018:2180j seg018:218Dj
		mov	[bp+12h], si
		mov	bh, 0
		shl	bx, 1
		jmp	cs:off_27DFC[bx]

loc_27EFE:				; DATA XREF: seg018:off_27DFCo
		add	ax, [bp+0Ah]
		add	ax, [bp+4]
		mov	si, ds
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27F08:				; CODE XREF: seg018:2199j
					; DATA XREF: seg018:209Eo
		add	ax, [bp+0Ah]
		add	ax, [bp+2]
		mov	si, ds
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27F12:				; CODE XREF: seg018:2199j
					; DATA XREF: seg018:20A0o
		add	ax, [bp+6]
		add	ax, [bp+4]
		mov	si, ss
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27F1C:				; CODE XREF: seg018:2199j
					; DATA XREF: seg018:20A2o
		add	ax, [bp+6]
		add	ax, [bp+2]
		mov	si, ss
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27F26:				; CODE XREF: seg018:2199j
					; DATA XREF: seg018:20A4o
		add	ax, [bp+4]
		mov	si, ds
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27F2D:				; CODE XREF: seg018:2199j
					; DATA XREF: seg018:20A6o
		add	ax, [bp+2]
		mov	si, ds
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27F34:				; CODE XREF: seg018:2199j
					; DATA XREF: seg018:20AAo
		add	ax, [bp+0Ah]
		mov	si, ds
		jmp	short loc_27F50
; ---------------------------------------------------------------------------

loc_27F3B:				; CODE XREF: seg018:2172j
		mov	[bp+12h], si
		mov	ax, ss
		mov	ds, ax
		mov	es, ax
		test	cl, 1
		jz	short loc_27F7C
		jmp	short loc_27F62
; ---------------------------------------------------------------------------

loc_27F4B:				; CODE XREF: seg018:2199j
					; DATA XREF: seg018:20A8o
		add	ax, [bp+6]
		mov	si, ss

loc_27F50:				; CODE XREF: seg018:2189j seg018:21A6j ...
		xchg	ax, si
		cmp	dl, 1
		jnz	short loc_27F57
		xchg	ax, di

loc_27F57:				; CODE XREF: seg018:21F4j
		mov	es, ax
		mov	ax, ss
		mov	ds, ax
		test	cl, 1
		jz	short loc_27F7C

loc_27F62:				; CODE XREF: seg018:21E9j
		cmp	ch, 0C0h ; 'À'
		jnb	short loc_27F6A
		jmp	loc_28003
; ---------------------------------------------------------------------------

loc_27F6A:				; CODE XREF: seg018:2205j
		test	ch, 20h
		jnz	short loc_27F72
		jmp	loc_281AA
; ---------------------------------------------------------------------------

loc_27F72:				; CODE XREF: seg018:220Dj
		mov	bx, 6
		and	bl, cl
		jmp	cs:off_27E0C[bx]
; ---------------------------------------------------------------------------

loc_27F7C:				; CODE XREF: seg018:21E7j seg018:2200j
		mov	ax, 38h	; '8'
		and	al, ch
		shr	ax, 1
		shr	ax, 1
		xchg	ax, bp
		cmp	ch, 0C0h ; 'À'
		jnb	short loc_27FB5
		mov	di, word_29B1D
		sub	di, 0Ch
		mov	word_29B1D, di
		mov	bx, 6
		and	bl, cl
		call	cs:off_27E14[bx]
		mov	cx, ss
		mov	es, cx
		mov	si, 0Ch
		mov	bx, di
		lea	ax, [bx+si]
		mov	dx, ax
		mov	cx, 268Ch
		jmp	cs:off_27E1C[bp]
; ---------------------------------------------------------------------------

loc_27FB5:				; CODE XREF: seg018:2229j
		mov	bh, 0
		mov	bl, cs:[bx+2]
		mov	ax, word_29B1D
		add	bx, ax
		test	cl, 4
		mov	dx, ax
		jz	short loc_27FCA
		mov	dx, bx

loc_27FCA:				; CODE XREF: seg018:2266j
		sub	si, si
		test	cl, 2
		jz	short loc_27FD4
		mov	si, 0Ch

loc_27FD4:				; CODE XREF: seg018:226Fj
		mov	cx, 268Ch
		jmp	cs:off_27E1C[bp]

; =============== S U B	R O U T	I N E =======================================


sub_27FDC	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_25E53
sub_27FDC	endp


; =============== S U B	R O U T	I N E =======================================


sub_27FE3	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_2601D
sub_27FE3	endp


; =============== S U B	R O U T	I N E =======================================


sub_27FEA	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		add	si, 0Ch
sub_27FEA	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_27FED	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		push	ax
		push	bx
		push	cx
		jmp	sub_26739
sub_27FED	endp


; =============== S U B	R O U T	I N E =======================================


sub_27FF3	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		xchg	ax, bx
sub_27FF3	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_27FF4	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_25E4F
sub_27FF4	endp


; =============== S U B	R O U T	I N E =======================================


sub_27FFB	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		xchg	ax, bx
sub_27FFB	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_27FFC	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_261EA
sub_27FFC	endp

; ---------------------------------------------------------------------------

loc_28003:				; CODE XREF: seg018:2207j
		mov	bp, 6
		and	bp, cx
		test	ch, 20h
		jnz	short loc_2804F
		test	ch, 10h
		jnz	short loc_2802C
		test	ch, 8
		jnz	short loc_2806B
		mov	di, word_29B1D
		mov	ax, 0FFF4h
		add	di, ax
		mov	word_29B14, ax
		mov	ax, 2687h
		push	ax
		jmp	cs:off_27E2C[bp]
; ---------------------------------------------------------------------------

loc_2802C:				; CODE XREF: seg018:22B0j
		mov	di, word_29B1D
		xchg	si, di
		test	ch, 8
		jnz	short loc_28040
		mov	ax, 2691h
		push	ax
		jmp	cs:off_27E34[bp]
; ---------------------------------------------------------------------------

loc_28040:				; CODE XREF: seg018:22D5j
		mov	word_29B14, 0Ch
		mov	ax, 2687h
		push	ax
		jmp	cs:off_27E34[bp]
; ---------------------------------------------------------------------------

loc_2804F:				; CODE XREF: seg018:22ABj
		mov	ax, 8
		and	al, ch
		or	bp, ax
		mov	ax, 2691h
		push	ax
		test	ch, 10h
		jnz	short loc_28064
		jmp	cs:off_27E3C[bp]
; ---------------------------------------------------------------------------

loc_28064:				; CODE XREF: seg018:22FDj
		xchg	si, di
		jmp	cs:off_27E4C[bp]
; ---------------------------------------------------------------------------

loc_2806B:				; CODE XREF: seg018:22B5j
		jmp	loc_283F1

; =============== S U B	R O U T	I N E =======================================


sub_2806E	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	ch, 1
		call	sub_28469
		retn
sub_2806E	endp


; =============== S U B	R O U T	I N E =======================================


sub_28074	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	cl, 4
		mov	ax, es:[si+2]
		mov	word_29B10, ax
sub_28074	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_2807D	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	ax, es:[si]
		mov	word_29B12, ax
		mov	ch, 0
		jmp	sub_28469
sub_2807D	endp


; =============== S U B	R O U T	I N E =======================================


sub_28088	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		call	sub_28107
		call	sub_2810C
		mov	ax, word_29B21
		sub	ax, word_29B1D
		mov	cx, 60h	; '`'
		cmp	ax, cx
		jb	short loc_2809D
		xchg	ax, cx

loc_2809D:				; CODE XREF: sub_28088+12j
		mov	dl, 0Ch
		div	dl
		xchg	ax, cx
		add	cx, cx
		mov	ax, 0FFFFh
		shr	ax, cl
		stosw
		sub	ax, ax
		stosw
		stosw
		stosw
		stosw
		retn
sub_28088	endp


; =============== S U B	R O U T	I N E =======================================


sub_280B1	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		call	sub_28088
		mov	si, word_29B1D
		mov	bp, es:[di-0Ah]
		neg	bp
		dec	bp

loc_280BF:				; CODE XREF: sub_280B1+1Dj
		jz	short loc_280D0
		call	sub_26AAB
		add	si, 0Ch
		add	di, 0Ah
		shl	bp, 1
		shl	bp, 1
		jmp	short loc_280BF
; ---------------------------------------------------------------------------

loc_280D0:				; CODE XREF: sub_280B1:loc_280BFj
		mov	word_29B1D, si
		retn
sub_280B1	endp


; =============== S U B	R O U T	I N E =======================================


sub_280D5	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	di, word_29B1D
		mov	bp, es:[si+4]
		neg	bp
		dec	bp
		jz	short sub_28074
		add	si, 5Eh	; '^'

loc_280E5:				; CODE XREF: sub_280D5+17j
		sub	si, 0Ah
		shr	bp, 1
		shr	bp, 1
		jnb	short loc_280E5

loc_280EE:				; CODE XREF: sub_280D5+26j
		sub	di, 0Ch
		call	sub_26AD8
		sub	si, 0Ah
		shr	bp, 1
		shr	bp, 1
		jb	short loc_280EE
		add	si, 0FFFCh
		mov	word_29B1D, di
		jmp	sub_28074
sub_280D5	endp


; =============== S U B	R O U T	I N E =======================================


sub_28107	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	ax, word_29B12
		stosw
		retn
sub_28107	endp


; =============== S U B	R O U T	I N E =======================================


sub_2810C	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	ax, word_29B21
		sub	ax, word_29B1D
		mov	cx, 60h	; '`'
		cmp	ax, cx
		jb	short loc_2811B
		xchg	ax, cx

loc_2811B:				; CODE XREF: sub_2810C+Cj
		neg	ax
		mov	cl, 0Ch
		idiv	cl
		and	al, 7
		mov	cl, 3
		shl	al, cl
		mov	cx, word_29B10
		and	ch, 0C7h
		or	ch, al
		xchg	ax, cx
		stosw
		retn
sub_2810C	endp


; =============== S U B	R O U T	I N E =======================================


sub_28133	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	di, word_29B1D
		sub	di, 0Ch
		call	sub_26F2E
		sub	word_29B1D, 0Ch
		retn
sub_28133	endp


; =============== S U B	R O U T	I N E =======================================


sub_28143	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	di, word_29B1D
		sub	di, 0Ch
		call	sub_27C47
		sub	word_29B1D, 0Ch
		retn
sub_28143	endp


; =============== S U B	R O U T	I N E =======================================


sub_28153	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	di, word_29B1D
		sub	di, 0Ch
		call	sub_26AD8
		sub	word_29B1D, 0Ch
		retn
sub_28153	endp


; =============== S U B	R O U T	I N E =======================================


sub_28163	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	si, word_29B1D
		call	sub_26FA1
		add	word_29B1D, 0Ch
		retn
sub_28163	endp


; =============== S U B	R O U T	I N E =======================================


sub_28170	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	si, word_29B1D
		call	sub_27D30
		add	word_29B1D, 0Ch
		retn
sub_28170	endp


; =============== S U B	R O U T	I N E =======================================


sub_2817D	proc near		; CODE XREF: seg018:2199j seg018:2217j ...
		mov	si, word_29B1D
		call	sub_26AAB
		add	word_29B1D, 0Ch
		retn
sub_2817D	endp

; ---------------------------------------------------------------------------
off_2818A	dw offset loc_281C9	; DATA XREF: seg018:2464r
		dw offset loc_28223
		dw offset loc_281DC
		dw offset loc_281D7
		dw offset loc_2822A
		dw offset loc_28223
		dw offset loc_2822A
		dw offset loc_2822A
		dw offset loc_2821E
		dw offset loc_28223
		dw offset loc_2823B
		dw offset loc_28246
		dw offset loc_28246
		dw offset loc_28223
		dw offset loc_28246
		dw offset loc_28246
; ---------------------------------------------------------------------------

loc_281AA:				; CODE XREF: seg018:220Fj
		mov	bh, 0
		mov	bl, cs:[bx+2]
		mov	si, word_29B1D
		add	si, bx
		mov	bl, 18h
		and	bl, ch
		and	cl, 6
		or	bl, cl
		cld
		mov	cx, 6
		jmp	cs:off_2818A[bx]

loc_281C9:				; DATA XREF: seg018:off_2818Ao
		sub	word_29B1D, 0Ch
		mov	di, word_29B1D
		rep movsw
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_281D7:				; CODE XREF: seg018:2464j
					; DATA XREF: seg018:2430o
		mov	di, 0Ch
		jmp	short loc_281DF
; ---------------------------------------------------------------------------

loc_281DC:				; CODE XREF: seg018:2464j
					; DATA XREF: seg018:242Eo
		mov	di, 0

loc_281DF:				; CODE XREF: seg018:247Aj
		mov	ax, word_29B21
		sub	ax, 0Ch
		cmp	si, ax
		jz	short loc_281F9
		xchg	di, si
		mov	ax, 4001h
		mov	cl, 0
		call	sub_26B9D
		add	word_29B1D, si
		jmp	short loc_28252
; ---------------------------------------------------------------------------

loc_281F9:				; CODE XREF: seg018:2487j
		add	di, 0Ch
		mov	dx, di
		mov	cx, si
		sub	cx, word_29B1D
		jz	short loc_28218
		push	ss
		pop	es
		sub	si, 2
		mov	di, word_29B21
		sub	di, 2
		std
		shr	cx, 1
		rep movsw
		cld

loc_28218:				; CODE XREF: seg018:24A4j
		add	word_29B1D, dx
		jmp	short loc_28252
; ---------------------------------------------------------------------------

loc_2821E:				; CODE XREF: seg018:2464j
					; DATA XREF: seg018:243Ao
		test	ch, 7
		jz	short loc_28252

loc_28223:				; CODE XREF: seg018:2464j
					; DATA XREF: seg018:242Co ...
		mov	ch, 1
		call	sub_28469
		jmp	short loc_28252
; ---------------------------------------------------------------------------

loc_2822A:				; CODE XREF: seg018:2464j
					; DATA XREF: seg018:2432o ...
		mov	di, word_29B1D

loc_2822E:				; CODE XREF: seg018:24D6j
		mov	ax, [di]
		xchg	ax, [si]
		stosw
		add	si, 2
		loop	loc_2822E
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_2823B:				; CODE XREF: seg018:2464j
					; DATA XREF: seg018:243Eo
		mov	di, si
		mov	si, word_29B1D
		rep movsw
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_28246:				; CODE XREF: seg018:2464j
					; DATA XREF: seg018:2440o ...
		mov	di, si
		mov	si, word_29B1D
		rep movsw
		mov	word_29B1D, si

loc_28252:				; CODE XREF: seg018:2497j seg018:24BCj ...
		jmp	loc_283F1
; ---------------------------------------------------------------------------
		db 8 dup(4), 7 dup(0), 2 dup(4), 8, 6, 8, 6, 4,	2, 0, 0Ah
		db 8, 3	dup(4),	0Ah, 2 dup(4)
off_28275	dw offset sub_282B5	; DATA XREF: sub_282C7+2Fr
					; sub_282C7+45r ...
		dw offset sub_282BA
		dw offset sub_282C7
		dw offset sub_282C7
		dw offset sub_267F9
		dw offset sub_26835
		dw offset sub_282C7
		dw offset sub_282C7
		dw offset sub_26B21
		db 0D2h, 0Dh, 0E3h, 0Dh, 0F4h, 0Dh, 5, 0Eh, 16h, 0Eh, 27h
		db 0Eh,	67h, 25h, 0AEh,	19h, 0A6h, 1Ah,	30h, 17h, 26h
		db 18h,	5Fh, 25h, 67h, 25h, 67h, 25h, 67h, 25h,	0D1h, 8
		db 5Dh,	1Bh, 5,	8, 67h,	25h, 37h, 2 dup(13h), 10h, 67h
		db 25h,	67h, 25h

; =============== S U B	R O U T	I N E =======================================


sub_282B5	proc near		; CODE XREF: sub_282C7+2Fp
					; sub_282C7+45j ...
		xor	byte ptr [si+0Ah], 1
		retn
sub_282B5	endp


; =============== S U B	R O U T	I N E =======================================


sub_282BA	proc near		; CODE XREF: sub_282C7+2Fp
					; sub_282C7+45j ...
		mov	byte ptr [si+0Ah], 0
		retn
sub_282BA	endp

; ---------------------------------------------------------------------------
		push	si
		push	di
		call	sub_26D3E
		pop	di
		pop	si
		retn

; =============== S U B	R O U T	I N E =======================================


sub_282C7	proc far		; CODE XREF: sub_282C7+2Fp
					; sub_282C7+45j ...
		mov	ch, 1
		call	sub_28469
		jmp	loc_283F1
; ---------------------------------------------------------------------------
		retn
; ---------------------------------------------------------------------------
off_282D0	dw offset loc_282EF	; DATA XREF: sub_282C7+23r
		dw offset loc_28326
		dw offset loc_28302
		dw offset loc_28311
		dw offset loc_2832E
		dw offset loc_28341
; ---------------------------------------------------------------------------

loc_282DC:				; CODE XREF: seg018:2199j seg018:2217j
					; DATA XREF: ...
		mov	bx, 1Fh
		and	bl, ch
		mov	al, cs:[bx+24F5h]
		cbw
		xchg	ax, di
		shl	bx, 1
		jmp	cs:off_282D0[di]

loc_282EF:				; DATA XREF: sub_282C7:off_282D0o
		mov	di, word_29B1D
		sub	di, 0Ch
		call	cs:off_28275[bx]
		mov	word_29B1D, di
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_28302:				; CODE XREF: sub_282C7+23j
					; DATA XREF: sub_282C7+Do
		mov	si, word_29B1D
		mov	di, si
		mov	ax, 2691h
		push	ax
		jmp	cs:off_28275[bx]
; ---------------------------------------------------------------------------

loc_28311:				; CODE XREF: sub_282C7+23j
					; DATA XREF: sub_282C7+Fo
		mov	si, word_29B1D
		mov	di, si
		sub	di, 0Ch
		call	cs:off_28275[bx]
		mov	word_29B1D, di
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_28326:				; CODE XREF: sub_282C7+23j
					; DATA XREF: sub_282C7+Bo
		add	word_29B1D, 0Ch
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_2832E:				; CODE XREF: sub_282C7+23j
					; DATA XREF: sub_282C7+11o
		mov	di, word_29B1D
		lea	si, [di+0Ch]
		call	cs:off_28275[bx]
		mov	word_29B1D, si
		jmp	loc_283F1
; ---------------------------------------------------------------------------

loc_28341:				; CODE XREF: sub_282C7+23j
					; DATA XREF: sub_282C7+13o
		mov	di, word_29B1D
		lea	si, [di+0Ch]
		mov	ax, 2691h
		push	ax
		jmp	cs:off_28275[bx]
; ---------------------------------------------------------------------------

loc_28351:				; CODE XREF: seg018:2199j seg018:2217j
					; DATA XREF: ...
		and	ch, 1Fh
		cmp	ch, 3
		jnz	short loc_283AE
		mov	word_29B49, 2
		mov	word_29B45, 6D65h
		mov	word_29B47, 8775h
		mov	word_29B14, 0
		mov	di, word_29B21
		mov	word_29B1D, di
		mov	bx, word_29B1F
		sub	bx, di
		neg	bx
		mov	ax, 4001h
		mov	cl, 0
		call	sub_26B9D
		mov	byte ptr [di+7], 0C0h ;	'À'
		lea	si, [di+0Ah]
		sub	di, 2
		mov	cx, word_29B1F
		sub	cx, di
		neg	cx
		shr	cx, 1
		std
		rep movsw
		mov	word_29B10, 4100h
		mov	word_29B12, 33Fh
		jmp	short loc_283BF
; ---------------------------------------------------------------------------

loc_283AE:				; CODE XREF: sub_282C7+90j
		cmp	ch, 2
		jnz	short loc_283BA
		mov	byte ptr word_29B10, 0
		jmp	short loc_283BF
; ---------------------------------------------------------------------------

loc_283BA:				; CODE XREF: sub_282C7+EAj
					; sub_282C7:loc_283C1j	...
		mov	ch, 1
		call	sub_28469

loc_283BF:				; CODE XREF: sub_282C7+E5j
					; sub_282C7+F1j
		jmp	short loc_283F1
; ---------------------------------------------------------------------------

loc_283C1:				; CODE XREF: seg018:2199j seg018:2217j
					; DATA XREF: ...
		jmp	short loc_283BA
; ---------------------------------------------------------------------------

loc_283C3:				; CODE XREF: seg018:2199j seg018:2217j
					; DATA XREF: ...
		test	ch, 1Fh
		jnz	short loc_283BA
		mov	ax, word_29B1D
		sub	ax, word_29B21
		mov	cl, 0Ch
		idiv	cl
		and	al, 7
		mov	cl, 3
		shl	al, cl
		mov	cx, word_29B10
		and	ch, 0C7h
		or	ch, al
		mov	[bp+10h], cx
		jmp	short loc_283F1
; ---------------------------------------------------------------------------
		mov	si, ss:94h
		add	ss:9Dh,	si

loc_283F1:				; CODE XREF: seg018:2101j seg018:213Fj ...
		mov	ax, ss:9Fh
		cmp	ss:9Dh,	ax
		jb	short loc_2840B

loc_283FC:				; CODE XREF: sub_282C7+152j
		mov	sp, ss:0C3h
		pop	es
		pop	di
		pop	si
		pop	bp
		pop	ds
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		iret
; ---------------------------------------------------------------------------

loc_2840B:				; CODE XREF: sub_282C7+133j
		mov	ch, 40h	; '@'
		mov	di, word_29B21
		mov	word_29B1D, di
		call	sub_28469
		int	3		; Trap to Debugger
		jmp	short loc_283FC
sub_282C7	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		in	ax, dx
		sbb	si, cx
		sbb	si, bp
		sbb	bp, bp
		sbb	si, cx
		sbb	si, bp
		sbb	dx, si
		sbb	al, 37h	; '7'
		sbb	ax, 1D49h
		pop	bx
		sbb	ax, 1DA8h
		lodsw
		sbb	ax, 1DB8h

loc_28435:				; DATA XREF: seg000:0473o
		sti
		cld
		push	ax
		push	cx
		push	dx
		push	bx
		push	ds
		push	bp
		push	si
		push	di
		push	es
		mov	bp, sp
		mov	ss:0C3h, sp
		lds	si, [bp+12h]
		lodsb
		mov	[bp+12h], si
		mov	di, ss
		mov	ds, di
		cbw
		xchg	ax, bx
		cmp	bl, 0E6h ; 'æ'
		jb	short loc_28462
		mov	ax, 2691h
		push	ax
		jmp	word ptr cs:[bx+26D5h]
; ---------------------------------------------------------------------------

loc_28462:				; CODE XREF: seg018:26F7j
		mov	ch, 1
		call	sub_28469
		jmp	short loc_283F1

; =============== S U B	R O U T	I N E =======================================


sub_28469	proc near		; CODE XREF: sub_25D72+77p
					; sub_25E53:loc_25FB9p	...
		push	ax
		push	cx
		push	ds
		push	ss
		pop	ds
		mov	al, byte ptr word_29B10
		mov	cl, byte ptr word_29B12
		and	cl, 7Fh
		xor	cl, 7Fh
		or	al, ch
		mov	ah, al
		and	ah, cl
		xor	ah, al
		test	ah, 8
		jz	short loc_2848A
		or	al, 20h

loc_2848A:				; CODE XREF: sub_28469+1Dj
		test	al, cl
		jz	short loc_2849D
		or	al, 80h
		mov	byte ptr word_29B10, al
		and	al, cl
		cmp	al, 20h	; ' '
		jnz	short loc_284A6
		pop	ds
		pop	cx
		pop	ax
		retn
; ---------------------------------------------------------------------------

loc_2849D:				; CODE XREF: sub_28469+23j
		and	al, 7Fh
		mov	byte ptr word_29B10, al
		pop	ds
		pop	cx
		pop	ax
		retn
; ---------------------------------------------------------------------------

loc_284A6:				; CODE XREF: seg018:loc_27EA2j
					; sub_28469+2Ej
		call	sub_105C2
		cmp	ax, 0FFFFh
		jz	short loc_284BE
		mov	ah, 35h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	ss:0D1h, bx
		mov	word ptr ss:0D3h, es

loc_284BE:				; CODE XREF: sub_28469+45j
		mov	sp, ss:0C3h
		pop	es
		pop	di
		pop	si
		pop	bp
		pop	ds
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		jmp	dword ptr ss:0D1h
sub_28469	endp

; ---------------------------------------------------------------------------
		align 10h
seg018		ends

; ===========================================================================

; Segment type:	Pure code
seg019		segment	byte public 'CODE' use16
		assume cs:seg019
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
; [0000006F BYTES: COLLAPSED FUNCTION string::string(string &).	PRESS KEYPAD "+" TO EXPAND]
byte_2854F	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
					; DATA XREF: seg000:936Bo
		db 0Dh dup(0), 2, 0, 2,	0, 79h,	93h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0B1h, 0
		dw seg seg019
		db 2 dup(0), 3,	0Dh dup(0), 4, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 3, 0, 2Ch, 0, 30h, 0Dh dup(0), 1, 0,	1, 0, 9Fh, 5Ch
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
; [000000C9 BYTES: COLLAPSED FUNCTION string::string(char *). PRESS KEYPAD "+" TO EXPAND]
		db 4, 0, 90h, 20h, 0Ah,	0, 91h,	2
		dw seg seg019
aTstringref	db 'TStringRef *',0
byte_286A9	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
					; DATA XREF: seg000:93CFo
		db 0Dh dup(0), 2, 0, 2,	0, 0FBh, 93h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLengther	db 'string::lengtherror',0
		dd byte_28739
		db 2 dup(0), 3,	0Dh dup(0)
byte_286F7	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
					; DATA XREF: seg000:93CBo
		db 0Dh dup(0), 2, 0, 2,	0, 48h,	94h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 59h,	2
		dw seg seg019
		db 2 dup(0), 3,	0Dh dup(0)
byte_28739	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
					; DATA XREF: seg019:0203o
		db 0Dh dup(0), 1, 0, 1,	0, 9Fh,	5Ch
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 0Ch, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 32h, 0, 3Eh, 0Dh dup(0)
		db 1, 0, 1, 0, 0A8h, 6
		dw seg seg019
		db 5, 0, 42h, 0, 54h, 53h, 74h,	72h, 69h, 6Eh, 67h, 52h
		db 65h,	66h, 2 dup(0), 0D7h, 2
		dw seg seg019
		db 2 dup(0), 3,	0Dh dup(0), 2, 0, 3, 0,	1Ah, 0,	2 dup(0FFh)
		db 1, 0, 26h, 0, 2Ah, 0Dh dup(0), 54h, 52h, 65h, 66h, 65h
		db 72h,	65h, 6Eh, 63h, 65h, 0Ah	dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_287E5(void (*driver)(void), char)
sub_287E5	proc far		; CODE XREF: string::contains(char *)+45P
					; xmsg::~xmsg(void)+3FP ...

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 949Eh
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_2885D
		les	bx, [bp+driver]
		les	bx, es:[bx]
		dec	word ptr es:[bx]
		mov	ax, es:[bx]
		or	ax, ax
		jnz	short loc_2884A
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		nop
		push	cs
		call	near ptr sub_28B88
		add	sp, 6

loc_2884A:				; CODE XREF: sub_287E5+3Bj
		test	[bp+arg_4], 1
		jz	short loc_2885D
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_2885D:				; CODE XREF: sub_287E5+2Bj
					; sub_287E5+69j
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_287E5	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 94D2h
		call	___InitExceptBlocks
		mov	ax, [bp+0Ah]
		mov	[bp-28h], ax
		les	bx, [bp+6]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp-28h]
		jbe	short loc_28898
		mov	ax, 1
		jmp	short loc_2889A
; ---------------------------------------------------------------------------

loc_28898:				; CODE XREF: seg019:03B1j
		xor	ax, ax

loc_2889A:				; CODE XREF: seg019:03B6j
		or	ax, ax
		jnz	short loc_2891B
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 95C4h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		mov	word ptr [bp-1Ah], 6
		push	ds
		mov	ax, 22B4h
		push	ax
		push	ss
		lea	ax, [bp-4]
		push	ax
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp-4]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp-8]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	word ptr [bp-1Ah], 0Eh
		mov	ax, 2
		push	ax
		push	ss
		lea	ax, [bp-4]
		push	ax
		push	cs
		call	near ptr sub_287E5
		add	sp, 6
		mov	word ptr [bp-1Ah], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-8]
		push	ss
		push	ax
		push	cs
		mov	ax, 0BFAh
		push	ax
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_2891B:				; CODE XREF: seg019:03BCj
		push	word ptr [bp-26h]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9516h
		call	___InitExceptBlocks
		mov	ax, [bp+0Ah]
		mov	[bp-28h], ax
		les	bx, [bp+6]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp-28h]
		jb	short loc_28956
		mov	ax, 1
		jmp	short loc_28958
; ---------------------------------------------------------------------------

loc_28956:				; CODE XREF: seg019:046Fj
		xor	ax, ax

loc_28958:				; CODE XREF: seg019:0474j
		or	ax, ax
		jnz	short loc_289D9
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 95C4h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		mov	word ptr [bp-1Ah], 6
		push	ds
		mov	ax, 22D2h
		push	ax
		push	ss
		lea	ax, [bp-4]
		push	ax
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp-4]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp-8]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	word ptr [bp-1Ah], 0Eh
		mov	ax, 2
		push	ax
		push	ss
		lea	ax, [bp-4]
		push	ax
		push	cs
		call	near ptr sub_287E5
		add	sp, 6
		mov	word ptr [bp-1Ah], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-8]
		push	ss
		push	ax
		push	cs
		mov	ax, 0BFAh
		push	ax
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_289D9:				; CODE XREF: seg019:047Aj
		push	word ptr [bp-26h]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 955Ah
		call	___InitExceptBlocks
		mov	ax, [bp+0Ah]
		mov	[bp-28h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		cmp	ax, [bp-28h]
		jbe	short loc_28A11
		mov	ax, 1
		jmp	short loc_28A13
; ---------------------------------------------------------------------------

loc_28A11:				; CODE XREF: seg019:052Aj
		xor	ax, ax

loc_28A13:				; CODE XREF: seg019:052Fj
		or	ax, ax
		jnz	short loc_28A94
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 95C4h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		mov	word ptr [bp-1Ah], 6
		push	ds
		mov	ax, 22F0h
		push	ax
		push	ss
		lea	ax, [bp-4]
		push	ax
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp-4]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp-8]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	word ptr [bp-1Ah], 0Eh
		mov	ax, 2
		push	ax
		push	ss
		lea	ax, [bp-4]
		push	ax
		push	cs
		call	near ptr sub_287E5
		add	sp, 6
		mov	word ptr [bp-1Ah], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-8]
		push	ss
		push	ax
		push	cs
		mov	ax, 0BFAh
		push	ax
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_28A94:				; CODE XREF: seg019:0535j
		push	word ptr [bp-26h]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_28AA2(__int32, void *src, size_t n, int, int, int, int)
sub_28AA2	proc far		; CODE XREF: string::string(char *)+76p

arg_0		= dword	ptr  6
src		= dword	ptr  0Ah
n		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_28AC6
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jnz	short loc_28AC6
		jmp	loc_28B6C
; ---------------------------------------------------------------------------

loc_28AC6:				; CODE XREF: sub_28AA2+Bj
					; sub_28AA2+1Fj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		mov	word ptr es:[bx+0Ah], 0
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		mov	es:[bx+6], ax
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_10]
		push	ax
		nop
		push	cs
		call	near ptr sub_28D20
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		call	sub_12890
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_28B20
		push	ds
		mov	ax, 1EE6h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_28B20:				; CODE XREF: sub_28AA2+70j
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2] ; dest
		call	_memcpy
		push	[bp+arg_E]	; n
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		add	ax, [bp+n]
		push	word ptr es:[bx+4]
		push	ax		; dest
		call	_memcpy
		add	sp, 14h
		les	bx, [bp+arg_0]
		les	bx, es:[bx+2]
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		add	bx, ax
		mov	byte ptr es:[bx], 0

loc_28B6C:				; CODE XREF: sub_28AA2+21j
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
sub_28AA2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_28B88(void (*driver)(void), char)
sub_28B88	proc far		; CODE XREF: sub_287E5+5Fp

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9574h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_28BDA
		les	bx, [bp+driver]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	sub_1275D
		pop	cx
		pop	cx
		test	[bp+arg_4], 1
		jz	short loc_28BDA
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_28BDA:				; CODE XREF: sub_28B88+2Bj
					; sub_28B88+43j
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_28B88	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9586h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		or	word ptr es:[bx+0Ah], 1
		mov	ax, [bp+0Ah]
		inc	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_28D20
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_2BD32
		jbe	short loc_28C48
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	sub_129F7
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_28C48:				; CODE XREF: seg019:073Fj
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9590h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		push	word ptr es:[bx+6]
		nop
		push	cs
		call	near ptr sub_28D20
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_2BD32
		jbe	short loc_28CB0
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	sub_129F7
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_28CB0:				; CODE XREF: seg019:07A7j
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_28CBE	proc far		; CODE XREF: seg019:08BFp

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 95A2h
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	sub_129F7
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_28D12
		push	ds
		mov	ax, 1EE6h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_28D12:				; CODE XREF: sub_28CBE+46j
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_28CBE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_28D20	proc far		; CODE XREF: sub_28AA2+46p
					; seg019:072Ap	...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 95ACh
		call	___InitExceptBlocks
		mov	ax, word_2BD2E
		mov	[bp+var_20], ax
		mov	cx, word_2BD30
		mov	ax, [bp+arg_0]
		sub	ax, [bp+var_20]
		add	ax, cx
		dec	ax
		xor	dx, dx
		div	cx
		imul	cx
		add	ax, [bp+var_20]
		push	ax
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_28D20	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 95BEh
		call	___InitExceptBlocks
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		add	ax, [bp+12h]
		sub	ax, [bp+0Ch]
		mov	[bp-24h], ax
		push	ax
		push	cs
		call	near ptr sub_28D20
		pop	cx
		mov	[bp-26h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		cmp	ax, [bp-26h]
		jnb	short loc_28DA7
		push	word ptr [bp-26h]
		push	word ptr [bp+8]
		push	bx
		push	cs
		call	near ptr sub_28CBE
		add	sp, 6
		jmp	short loc_28E16
; ---------------------------------------------------------------------------

loc_28DA7:				; CODE XREF: seg019:08B5j
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-26h]
		cmp	ax, word_2BD32
		jbe	short loc_28E16
		test	byte ptr es:[bx+0Ah], 1
		jnz	short loc_28E16
		mov	ax, [bp-26h]
		inc	ax
		push	ax
		call	sub_12890
		pop	cx
		mov	[bp-20h], dx
		mov	[bp-22h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_28DE8
		push	ds
		mov	ax, 1EE6h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_28DE8:				; CODE XREF: seg019:08FAj
		cmp	word ptr [bp+0Ah], 0
		jz	short loc_28E0A
		push	word ptr [bp+0Ah]
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr [bp-20h]
		push	word ptr [bp-22h]
		call	_memcpy
		add	sp, 0Ah

loc_28E0A:				; CODE XREF: seg019:090Cj
		les	bx, [bp+6]
		mov	ax, [bp-26h]
		mov	es:[bx+8], ax
		jmp	short loc_28E27
; ---------------------------------------------------------------------------

loc_28E16:				; CODE XREF: seg019:08C5j seg019:08D5j ...
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	[bp-20h], dx
		mov	[bp-22h], ax

loc_28E27:				; CODE XREF: seg019:0934j
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_28E44
		cmp	ax, [bp-22h]
		jnz	short loc_28E44
		mov	ax, [bp+12h]
		cmp	ax, [bp+0Ch]
		jz	short loc_28E76

loc_28E44:				; CODE XREF: seg019:0955j seg019:095Aj
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		sub	ax, [bp+0Ah]
		sub	ax, [bp+0Ch]
		push	ax
		mov	ax, es:[bx+2]
		add	ax, [bp+0Ah]
		add	ax, [bp+0Ch]
		push	word ptr es:[bx+4]
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		add	ax, [bp+12h]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah

loc_28E76:				; CODE XREF: seg019:0962j
		cmp	word ptr [bp+12h], 0
		jz	short loc_28EBA
		mov	ax, [bp+0Eh]
		or	ax, [bp+10h]
		jz	short loc_28EA1
		push	word ptr [bp+12h]
		push	word ptr [bp+10h]
		push	word ptr [bp+0Eh]
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah
		jmp	short loc_28EBA
; ---------------------------------------------------------------------------

loc_28EA1:				; CODE XREF: seg019:09A2j
		push	word ptr [bp+12h]
		mov	ax, 20h	; ' '
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memset
		add	sp, 8

loc_28EBA:				; CODE XREF: seg019:099Aj seg019:09BFj
		les	bx, [bp+6]
		mov	ax, [bp-24h]
		mov	es:[bx+6], ax
		push	es
		les	ax, [bp-22h]
		mov	dx, es
		pop	es
		add	ax, es:[bx+6]
		mov	bx, ax
		mov	es, dx
		mov	byte ptr es:[bx], 0
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_28EEC
		cmp	ax, [bp-22h]
		jz	short loc_28F0F

loc_28EEC:				; CODE XREF: seg019:0A05j
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	sub_1275D
		pop	cx
		pop	cx
		les	bx, [bp+6]
		mov	dx, [bp-20h]
		mov	ax, [bp-22h]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax

loc_28F0F:				; CODE XREF: seg019:0A0Aj
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_2BD28
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_2BD28, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_2BD2A
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_2BD2A, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_2BD2C
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_2BD2C, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_2BD2E
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_2BD2E, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_2BD30
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_2BD30, ax
		cmp	word_2BD30, 0
		jnz	short loc_28FB2
		mov	word_2BD30, 1

loc_28FB2:				; CODE XREF: seg019:0ACAj
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_2BD32
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_2BD32, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_28FD8	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
					; DATA XREF: seg000:959Ao seg000:95B6o
		db 0Dh dup(0), 2, 0, 2,	0, 0F9h, 95h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLength_0	db 'string::lengtherror',0
		dd byte_29068
		align 4
		db 3, 0Dh dup(0), 6, 0,	3, 0, 26h, 0, 2	dup(0FFh), 7, 0
		db 2Eh,	0, 3Ah,	0Dh dup(0), 2, 0, 2, 0,	46h, 96h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 88h,	0Bh
		dw seg seg019
		db 2 dup(0), 3,	0Dh dup(0)
byte_29068	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
					; DATA XREF: seg019:0B32o seg019:0C34o
		db 0Dh dup(0), 1, 0, 1,	0, 9Fh,	5Ch
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
byte_290A0	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
					; DATA XREF: seg000:94F0o
		db 0Dh dup(0), 1, 0, 1,	0, 5, 3
		dw seg seg019
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_290DA	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
					; DATA XREF: seg000:957Eo
		db 0Dh dup(0), 2, 0, 2,	0, 93h,	96h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringOutofran	db 'string::outofrange',0
		align 2
		dd byte_29068
		db 2 dup(0), 3,	5 dup(0)
seg019		ends

; ===========================================================================

; Segment type:	Pure code
seg020		segment	byte public 'CODE' use16
		assume cs:seg020
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
byte_29120	db 8 dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29128	proc far		; CODE XREF: sub_23CFA+154P
					; sub_24FF9+95P

arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		mov	ah, 3Fh	; '?'
		mov	bx, [bp+arg_0]
		mov	cx, [bp+arg_6]
		lds	dx, [bp+arg_2]
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		lds	bx, [bp+arg_8]
		jb	short loc_29144
		mov	[bx], ax
		xor	ax, ax
		jmp	short loc_29148
; ---------------------------------------------------------------------------

loc_29144:				; CODE XREF: sub_29128+14j
		mov	word ptr [bx], 0

loc_29148:				; CODE XREF: sub_29128+1Aj
		pop	ds
		pop	bp
		retf
sub_29128	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ah, 40h	; '@'
		mov	bx, [bp+6]
		mov	cx, [bp+0Ch]
		lds	dx, [bp+8]
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		lds	bx, [bp+0Eh]
		jb	short loc_29167
		mov	[bx], ax
		xor	ax, ax
		jmp	short loc_2916B
; ---------------------------------------------------------------------------

loc_29167:				; CODE XREF: seg020:003Fj
		mov	word ptr [bx], 0

loc_2916B:				; CODE XREF: seg020:0045j
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2916E	proc far		; CODE XREF: sub_23CFA+C0P
					; sub_24FF9+1FP

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, 3D00h
		lds	dx, [bp+arg_0]
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		jnb	short loc_2917F
		mov	ax, 0FFFFh

loc_2917F:				; CODE XREF: sub_2916E+Cj
		pop	ds
		pop	bp
		retf
sub_2916E	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, 3C00h
		mov	cx, 20h	; ' '
		lds	dx, [bp+6]
		int	21h		; DOS -	2+ - CREATE A FILE WITH	HANDLE (CREAT)
					; CX = attributes for file
					; DS:DX	-> ASCIZ filename (may include drive and path)
		jnb	short loc_29196
		mov	ax, 0FFFFh

loc_29196:				; CODE XREF: seg020:0071j
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29199	proc far		; CODE XREF: sub_23CFA+27EP
					; sub_24FF9+E8P

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	ds
		push	bx
		mov	ax, 3E00h
		mov	bx, [bp+arg_0]
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		pop	bx
		pop	ds
		pop	bp
		retf
sub_29199	endp

; ---------------------------------------------------------------------------
		mov	al, byte_2BEA7
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 26h	; '&'
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 9
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 0Eh
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 0Eh
		call	dword_2BE96
		mov	ax, dx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	bx, 4
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	es
		les	ax, [bp+6]
		mov	dx, es
		mov	bx, 1Ah
		call	dword_2BE96
		pop	es
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2922B	proc far		; CODE XREF: sub_23CFA+206P

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	es
		les	ax, [bp+arg_2]
		mov	dx, es
		mov	cx, [bp+arg_0]
		mov	bx, 1Bh
		call	dword_2BE96
		pop	es
		pop	ds
		pop	bp
		retf
sub_2922B	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	es
		les	ax, [bp+8]
		mov	dx, es
		mov	cx, [bp+0Ch]
		mov	si, [bp+6]
		mov	bx, 1Ch
		call	dword_2BE96
		pop	es
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	es
		les	ax, [bp+8]
		mov	dx, es
		mov	cx, [bp+0Ch]
		mov	si, [bp+6]
		mov	bx, 1Dh
		call	dword_2BE96
		pop	es
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	es
		les	ax, [bp+0Ah]
		mov	dx, es
		mov	cx, [bp+8]
		mov	si, [bp+6]
		mov	bx, 1Eh
		call	dword_2BE96
		pop	es
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	es
		les	ax, [bp+0Ah]
		mov	dx, es
		mov	cx, [bp+8]
		mov	si, [bp+6]
		mov	bx, 1Fh
		call	dword_2BE96
		pop	es
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+8]
		mov	dx, [bp+6]
		mov	bx, 20h	; ' '
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+8]
		mov	dx, [bp+6]
		mov	bx, 21h	; '!'
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	dx, [bp+6]
		mov	bx, 22h	; '"'
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	dx, [bp+6]
		mov	bx, 23h	; '#'
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	dx, [bp+6]
		mov	bx, 24h	; '$'
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+8]
		mov	dx, [bp+6]
		mov	bx, 25h	; '%'
		call	dword_2BE96
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	di
		push	bx
		push	cx
		mov	si, [bp+6]
		mov	di, [bp+8]
		mov	cx, [bp+0Ch]
		mov	dx, [bp+0Ah]
		mov	bx, 27h	; '''
		call	dword_2BE96
		pop	cx
		pop	bx
		pop	di
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		mov	al, byte_2BEA7
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		mov	bx, 0Dh
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_293A0	proc far		; CODE XREF: sub_24264+57P
					; sub_248F0+A5P

arg_0		= byte ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= byte ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		mov	al, [bp+arg_0]
		mov	ah, [bp+arg_6]
		mov	cx, [bp+arg_4]
		mov	dx, [bp+arg_8]
		mov	di, [bp+arg_2]
		mov	bx, 8
		call	dword_2BE9A
		pop	di
		pop	ds
		pop	bp
		retf
sub_293A0	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	di
		mov	al, [bp+6]
		mov	ah, [bp+0Eh]
		mov	cx, [bp+0Ch]
		mov	dx, [bp+10h]
		mov	si, [bp+8]
		mov	di, [bp+0Ah]
		mov	bx, 9
		call	dword_2BE9A
		pop	di
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 1Ah
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29400	proc far		; CODE XREF: LoadAUXDRV_DRV+1FP
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 0
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
sub_29400	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29413	proc far		; CODE XREF: LoadAUXDRV_DRV+2FP

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		les	di, [bp+arg_0]
		mov	bx, 1Dh
		call	dword_2BE9A
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
sub_29413	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	bx, 16h
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	cx, [bp+6]
		mov	bx, 1Ch
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	bx, 0Fh
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	bx, 18h
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29485	proc far		; CODE XREF: sub_24394+4AP

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+arg_0]
		mov	bx, 7
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
sub_29485	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 4
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 0Ch
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 11h
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	bx, 19h
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_294EA	proc far		; CODE XREF: sub_24264+44P
					; sub_248F0+92P

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		les	di, [bp+arg_0]
		mov	bx, 2
		call	dword_2BE9A
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
sub_294EA	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		mov	bx, 15h
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	es
		mov	cx, [bp+6]
		les	ax, [bp+8]
		mov	dx, es
		mov	bx, 1Bh
		call	dword_2BE9A
		pop	es
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		mov	bx, 0Eh
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		les	di, [bp+6]
		mov	bx, 3
		call	dword_2BE9A
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		mov	bx, 17h
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29586	proc far		; CODE XREF: sub_243FD+51P

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		mov	bx, 6
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
sub_29586	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2959F	proc far		; CODE XREF: sub_24264+5FP
					; sub_248F0+ADP
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 0Ah
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
sub_2959F	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 0Bh
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 5
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 1Eh
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 1Fh
		mov	ax, [bp+6]
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, [bp+6]
		mov	bx, 20h	; ' '
		call	dword_2BE9A
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		align 2
		mov	al, byte_2BEA7
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		mov	bx, 3
		call	dword_2BE9E
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 4
		mov	ax, [bp+6]
		call	dword_2BE9E
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 9
		call	dword_2BE9E
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	es
		mov	bx, 1Ch
		les	si, [bp+6]
		call	dword_2BE9E
		pop	es
		pop	si
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2967B	proc far		; CODE XREF: sub_23CFA+1BFP

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		mov	bx, 1Dh
		mov	ax, [bp+arg_0]
		les	di, [bp+arg_2]
		call	dword_2BE9E
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
sub_2967B	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		mov	bx, 1Eh
		mov	ax, [bp+6]
		les	di, [bp+8]
		mov	cx, [bp+0Ch]
		call	dword_2BE9E
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	di
		mov	bx, 1Fh
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		mov	si, [bp+0Ah]
		mov	di, [bp+0Ch]
		call	dword_2BE9E
		pop	di
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		mov	bx, 20h	; ' '
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		les	di, [bp+0Ah]
		call	dword_2BE9E
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		mov	bx, 21h	; '!'
		mov	ax, [bp+6]
		les	di, [bp+8]
		mov	cx, [bp+0Ch]
		mov	dx, [bp+0Eh]
		call	dword_2BE9E
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	di
		mov	bx, 22h	; '"'
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		mov	si, [bp+0Ah]
		mov	di, [bp+0Ch]
		mov	cx, [bp+0Eh]
		call	dword_2BE9E
		pop	di
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	es
		mov	bx, 23h	; '#'
		mov	ax, [bp+6]
		les	di, [bp+8]
		call	dword_2BE9E
		pop	es
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	si
		push	di
		mov	bx, 24h	; '$'
		mov	ax, [bp+6]
		mov	dx, [bp+8]
		mov	si, [bp+0Ah]
		mov	di, [bp+0Ch]
		call	dword_2BE9E
		pop	di
		pop	si
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 25h	; '%'
		mov	ax, [bp+6]
		call	dword_2BE9E
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 26h	; '&'
		mov	ax, [bp+6]
		call	dword_2BE9E
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 27h	; '''
		mov	ax, [bp+6]
		call	dword_2BE9E
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 28h	; '('
		mov	ax, [bp+6]
		mov	cx, [bp+8]
		call	dword_2BE9E
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		mov	bx, 29h	; ')'
		call	dword_2BE9E
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		mov	al, byte_2BEA7

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_297F5	proc far		; CODE XREF: LoadCTMIDI_DRV+1FP
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 0
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_297F5	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		mov	bx, 1
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29825	proc far		; CODE XREF: LoadCTMIDI_DRV+2FP

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	bx, 2
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_29825	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29840	proc far		; CODE XREF: sub_24559:loc_24627P
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 3
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_29840	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_29855	proc far		; CODE XREF: sub_24632:loc_24658P
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 4
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_29855	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2986A	proc far		; CODE XREF: sub_24F8B+7P
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 5
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_2986A	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		mov	bx, 6
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2989A	proc far		; CODE XREF: sub_24F8B+14P

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	bx, 7
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_2989A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_298B5	proc far		; CODE XREF: sub_24F8B+26P

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	bx, 8
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_298B5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_298D0	proc far		; CODE XREF: sub_24F8B+32P
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 9
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_298D0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_298E5	proc far		; CODE XREF: sub_24264:loc_242D1P
					; sub_248F0+C1P
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 0Ah
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
sub_298E5	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 0Bh
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 0Ch
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 0Dh
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	ax, [bp+6]
		mov	bx, 0Eh
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	ax, [bp+6]
		mov	bx, 0Fh
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	ax, [bp+6]
		mov	bx, 10h
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		push	cx
		mov	cx, [bp+0Ah]
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		mov	bx, 11h
		call	dword_2BEA2
		pop	cx
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		push	cx
		mov	cx, [bp+0Ah]
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		mov	bx, 12h
		call	dword_2BEA2
		pop	cx
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		mov	bx, 1Eh
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	ax, [bp+6]
		mov	bx, 1Fh
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	bx
		push	cx
		mov	di, [bp+0Ch]
		mov	cx, [bp+0Ah]
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		mov	bx, 20h	; ' '
		call	dword_2BEA2
		pop	cx
		pop	bx
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	di
		push	bx
		push	cx
		mov	di, [bp+0Ch]
		mov	cx, [bp+0Ah]
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		mov	bx, 21h	; '!'
		call	dword_2BEA2
		pop	cx
		pop	bx
		pop	di
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 22h	; '"'
		call	dword_2BEA2
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		push	bx
		mov	bx, 23h	; '#'
		call	dword_2BEA2
		jb	short loc_29A6A
		sub	ax, ax
		jmp	short loc_29A6D
; ---------------------------------------------------------------------------

loc_29A6A:				; CODE XREF: seg020:0944j
		mov	ax, 1

loc_29A6D:				; CODE XREF: seg020:0948j
		pop	bx
		pop	ds
		pop	bp
		retf
; ---------------------------------------------------------------------------
		align 2
		db 0A0h, 27h, 24h, 0Bh dup(0)
seg020		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg
word_29A80	dw 0			; DATA XREF: sub_1268C+20r
					; sub_1268C:loc_126E7r	...
word_29A82	dw 0			; DATA XREF: sub_12629+9r sub_12629+Dr ...
word_29A84	dw 554Eh		; DATA XREF: seg000:089Dr seg000:08D9r ...
word_29A86	dw 4C4Ch		; DATA XREF: seg000:09ACr seg000:0A31r ...
word_29A88	dw 4320h		; DATA XREF: sub_12629+24r
					; sub_1268C+Dw	...
		dw 4548h
		dw 4B43h
		dw 0
unk_29A90	db    0			; DATA XREF: sub_20C1D+119o
					; sub_20C1D+143o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  42h	; B
		db  6Fh	; o
		db  72h	; r
		db  6Ch	; l
		db  61h	; a
		db  6Eh	; n
		db  64h	; d
		db  20h
		db  43h	; C
		db  2Bh	; +
		db  2Bh	; +
		db  20h
		db  2Dh	; -
		db  20h
		db  43h	; C
		db  6Fh	; o
		db  70h	; p
		db  79h	; y
		db  72h	; r
		db  69h	; i
		db  67h	; g
		db  68h	; h
		db  74h	; t
		db  20h
		db  31h	; 1
		db  39h	; 9
		db  39h	; 9
		db  33h	; 3
		db  20h
		db  42h	; B
		db  6Fh	; o
		db  72h	; r
		db  6Ch	; l
		db  61h	; a
		db  6Eh	; n
		db  64h	; d
		db  20h
		db  49h	; I
		db  6Eh	; n
		db  74h	; t
		db  6Ch	; l
		db  2Eh	; .
		db    0
		db  44h	; D
		db  69h	; i
		db  76h	; v
		db  69h	; i
		db  64h	; d
		db  65h	; e
		db  20h
		db  65h	; e
		db  72h	; r
		db  72h	; r
		db  6Fh	; o
		db  72h	; r
		db  0Dh
		db  0Ah
		db    0
dword_29ADA	dd 0			; DATA XREF: sub_10174+6w
					; __restorezero+4r ...
dword_29ADE	dd 0			; DATA XREF: sub_10174+13w
					; __restorezero+Fr ...
dword_29AE2	dd 0			; DATA XREF: sub_10174+20w
					; __restorezero+1Ar ...
dword_29AE6	dd 0			; DATA XREF: sub_10174+2Dw
					; __restorezero+25r ...
; int argc
argc		dw 0			; DATA XREF: start+133r seg000:92DBw
; char **argv
argv		dw 0			; DATA XREF: start+12Fr seg000:92E7w
word_29AEE	dw 0			; DATA XREF: start+12Br seg000:92E1w
; char **envp
envp		dw 0			; DATA XREF: start+127r seg000:9362w
word_29AF2	dw 0			; DATA XREF: start+123r seg000:935Cw
word_29AF4	dw 0			; DATA XREF: start+46w	seg000:91C4r
word_29AF6	dw 0			; DATA XREF: start+1Dw	start+28r ...
word_29AF8	dw 0			; DATA XREF: start+55w	seg000:9317r
; unsigned int segx
segx		dw 0			; DATA XREF: start+19w	start+95r ...
word_29AFC	dw 0			; DATA XREF: start+16w	start+C3r ...
word_29AFE	dw 0			; DATA XREF: sub_105C7:loc_10653w
					; sub_10FFE:loc_110A0w	...
		db 0FFh
		db 0FFh
		db  32h	; 2
		db  37h	; 7
word_29B04	dw 0			; DATA XREF: __brk+9r __sbrk+45r
word_29B06	dw 0			; DATA XREF: start+8Dw	__brk+5r ...
word_29B08	dw 0			; DATA XREF: sub_12A78+6Ew __sbrk+12r	...
word_29B0A	dw 0			; DATA XREF: start+91w	sub_12A78+6Aw ...
word_29B0C	dw 0			; DATA XREF: sub_12A78+7Ew __brk+1Cr ...
word_29B0E	dw 0			; DATA XREF: start+21w	start+F1w ...
word_29B10	dw 0			; DATA XREF: sub_257E0-34r
					; sub_28074+6w	...
word_29B12	dw 0			; DATA XREF: sub_257E0:loc_257A9r
					; sub_257E0:loc_2589Ar	...
word_29B14	dw 0			; DATA XREF: seg018:22C0w
					; seg018:loc_28040w ...
byte_29B16	db 0			; DATA XREF: sub_257E0+9r
word_29B17	dw 0			; DATA XREF: sub_257E0+3Ar
					; sub_25955+21r
word_29B19	dw 0			; DATA XREF: sub_257E0+11Ew
		db    0
		db    0
word_29B1D	dw 0			; DATA XREF: sub_257E0+B2r sub_25955w	...
word_29B1F	dw 0			; DATA XREF: sub_282C7+B2r
					; sub_282C7+CCr
word_29B21	dw 0			; DATA XREF: sub_28088+6r sub_2810Cr ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_29B35	db 0			; DATA XREF: sub_257E0+FFw
		db    0
tbyte_29B37	dt 0.0			; DATA XREF: sub_25908+22w
					; sub_25908+27r ...
word_29B41	dw 0			; DATA XREF: sub_257E0+84w
					; sub_257E0+89w ...
		db    0
		db    0
word_29B45	dw 0			; DATA XREF: sub_282C7+98w
word_29B47	dw 0			; DATA XREF: sub_282C7+9Ew
word_29B49	dw 0			; DATA XREF: sub_282C7+92w
		align 2
byte_29B4C	db 0			; DATA XREF: sub_26C9B+71r
					; sub_26C9B:loc_26D27w	...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
; char *filePathSCE
filePathSCE	dd 0			; DATA XREF: ArgHandler:loc_19C35r
					; ArgHandler+185w ...
a_sce		db '.sce',0             ; DATA XREF: ArgHandler+1F7o
; char *filePathDAT
filePathDAT	dd 0			; DATA XREF: ArgHandler:loc_19C4Dr
					; ArgHandler+19Dw ...
; char *path
path		dw 1BFh			; DATA XREF: ArgHandler+85w _main+11Cr ...
seg_29C2F	dw seg dseg		; DATA XREF: ArgHandler+81w
					; _main:loc_19E4Fr ...
word_29C31	dw 0			; DATA XREF: ArgHandler+165w
					; ArgHandler:loc_19CF5r ...
word_29C33	dw 0			; DATA XREF: func+4r
					; ArgHandler:loc_19B2Cw ...
; FILE *stream
stream		dd 0			; DATA XREF: func+Fr _main+12Cw ...
word_29C39	dw 0			; DATA XREF: ArgHandler:loc_19B4Ew
					; RunSCE+18Fr
word_29C3B	dw 0			; DATA XREF: ArgHandler+A0w
					; ArgHandler+B8w ...
word_29C3D	dw 0			; DATA XREF: ArgHandler+103w
					; ArgHandler+239w ...
aSce_log	db 'sce.log',0
aError		db 'error : ',0
aError_0	db 'error : ',0
; char aScenarioExecut[134]
aScenarioExecut	db 'SCenario Executer : Ver 1.18',0Ah ; DATA XREF: PrintHelp+4o
		db '[HELP]',0Ah
		db 'SCE [/options] [ s_filename [ u_filename ]]',0Ah
		db 9,'option',0Ah
		db 9,9,'H,? ..... help',0Ah
		db 9,9,'26 ...... 26‰¹Œ¹  F86‰¹Œ¹‚ð–³Ž‹‚·‚é',0Ah
		db 9,9,'86 ...... 86‰¹Œ¹  F(“Á‚ÉˆÓ–¡‚Í‚È‚¢) ',0Ah
		db 9,9,'MIDI .... MIDI‰'
word_29D22	dw 8CB9h		; DATA XREF: seg000:04BDw
		db '¹FMIDI‚ª‚ ‚ê‚Î–Â‚ç‚·',0Ah
		db 9,9,'D ....... ƒfƒoƒbƒOƒ‚[ƒhi‰Rj',0Ah
		db 9,'    '
word_29D60	dw 5B20h		; DATA XREF: seg000:04B3w
word_29D62	dw 8820h		; DATA XREF: seg000:04B9w
		db 'È‰º‚ÍCƒfƒoƒbƒOƒ‚[ƒhŽž‚Ì‚Ý—LŒø ]',0Ah
		db 9,9,'Mn ...... ‰¹Œ¹‚Ìƒ}ƒXƒNi1‚Ìbit‚É‘Š“–‚·‚é•”•ª‚ð”­‰¹‚µ‚È‚¢)',0Ah
		db 9,9,'T[trace_filename]',0Ah
		db 9,9,'  ....... ƒgƒŒ[ƒX‚ðƒtƒ@ƒCƒ‹‚É‚à•Àso—Í',0Ah
		db 9,9,'           itrace_filename È—ªŽž‚ÍCsce.log ‚Éo—Íj',0Ah
		db 9,9,'S ....... ƒgƒŒ[ƒXƒ‚[ƒh‰Šú’l‚ðCstep ‚ÉD ( default : go )',0Ah
		db 9,'     [ ‚±‚±‚Ü‚ÅCƒfƒoƒbƒOƒ‚[ƒhŽž‚Ì‚Ý—LŒø ]',0Ah
		db 9,'s_filename : ƒVƒiƒŠƒIƒtƒ@ƒCƒ‹',0Ah
		db 9,'              iÈ—ªŽž‚ÍCMAINCON.SCE  :  Šg’£ŽqÈ—ªŽž‚Í .SCEj',0Ah
		db 9,'u_filename : ƒf[ƒ^ ƒ†ƒjƒtƒ@ƒCƒ‹        iÈ—ªŽž‚Í REKIAI.DATj',0Ah
		db 0
; char aS[3]
aS		db '%s',0               ; DATA XREF: func+5Bo
aMaincon_sce	db 'maincon.sce',0      ; DATA XREF: ArgHandler+1BBo
aRekiai_dat	db 'rekiai.dat',0       ; DATA XREF: ArgHandler+22Co
aFailToInitAll	db 's_initall() ‚ÉŽ¸”s‚µ‚Ü‚µ‚½',0Ah,0 ; DATA XREF: _main+4Ao
; char aD[]
aD		db '%d',0               ; DATA XREF: _main+9Ao
aUnifileAtInit	db 'UniFile ‰Šú‰»Žž‚É ',0 ; DATA XREF: _main+B4o
aNumberError	db '”Ô‚ÌƒGƒ‰[',0Ah,0   ; DATA XREF: _main+ABo
; char mode[]
mode		db 'w',0                ; DATA XREF: _main+115o
aTraceFile	db 'ƒgƒŒ[ƒXƒtƒ@ƒCƒ‹ ',0 ; DATA XREF: _main+140o
aCantOpen1	db ' ‚ªŠJ‚¯‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: _main+134o
; char aRekiai_ef1[]
aRekiai_ef1	db 'rekiai.ef',0        ; DATA XREF: _main+14Bo
aSoundEffectFile db 'Œø‰Ê‰¹ƒtƒ@ƒCƒ‹ ',0 ; DATA XREF: _main+163o
aRekiai_ef2	db 'rekiai.ef',0        ; DATA XREF: _main+15Fo
aFailedToLoad	db ' ‚Ì“Ç‚Ýž‚Ý‚ÉŽ¸”s‚µ‚Ü‚µ‚½D',0Ah,0 ; DATA XREF: _main+15Bo
		db    0
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db    2
		db  0Eh
		db    3
		db  0Fh
		db  0Ah
		db    5
		db  0Bh
		db    7
		db  0Eh
		db    3
		db  0Fh
		db    2
		db    7
		db  0Ah
		db    5
		db  0Bh
		db  0Ah
		db    5
		db  0Bh
		db    7
		db    4
		db  10h
		db    1
		db  0Dh
		db    5
		db  0Bh
		db    7
		db  0Ah
		db  0Dh
		db    4
		db  10h
		db    1
		db    4
		db  10h
		db    1
		db  0Dh
		db  0Ch
		db    8
		db    9
		db    6
		db  10h
		db    1
		db  0Dh
		db    4
		db    6
		db  0Ch
		db    8
		db    9
		db  0Ch
		db    8
		db    9
		db    6
		db    2
		db  0Eh
		db    3
		db  0Fh
		db    8
		db    9
		db    6
		db  0Ch
		db  0Fh
		db    2
		db  0Eh
		db    3
		db  0Bh
		db    2
		db  0Eh
		db    3
		db  0Fh
		db  0Ah
		db    5
		db  0Bh
		db    7
		db  0Eh
		db    3
		db  0Fh
		db    2
		db    7
		db  0Ah
		db    5
		db    1
		db  0Ah
		db    5
		db  0Bh
		db    7
		db    4
		db  10h
		db    1
		db  0Dh
		db    5
		db  0Bh
		db    7
		db  0Ah
		db  0Dh
		db    4
		db  10h
		db    9
		db    4
		db  10h
		db    1
		db  0Dh
		db  0Ch
		db    8
		db    9
		db    6
		db  10h
		db    1
		db  0Dh
		db    4
		db    6
		db  0Ch
		db    8
		db    3
		db  0Ch
		db    8
		db    9
		db    6
		db    2
		db  0Eh
		db    3
		db  0Fh
		db    8
		db    9
		db    6
		db  0Ch
		db  0Fh
		db    2
		db  0Eh
		db  0Ah
		db    5
		db  0Bh
		db    7
		db    4
		db  10h
		db    1
		db  0Dh
		db    5
		db  0Bh
		db    7
		db  0Ah
		db  0Dh
		db    4
		db  10h
		db    1
		db    4
		db  10h
		db    1
		db  0Dh
		db  0Ch
		db    8
		db    9
		db    6
		db  10h
		db    1
		db  0Dh
		db    4
		db    6
		db  0Ch
		db    8
		db    9
		db  0Ch
		db    8
		db    9
		db    6
		db    2
		db  0Eh
		db    3
		db  0Fh
		db    8
		db    9
		db    6
		db  0Ch
		db  0Fh
		db    2
		db  0Eh
		db    3
		db  0Bh
		db    2
		db  0Eh
		db    3
		db  0Fh
		db  0Ah
		db    5
		db  0Bh
		db    7
		db  0Eh
		db    3
		db  0Fh
		db    2
		db    7
		db  0Ah
		db    5
		db    1
		db  0Ah
		db    5
		db  0Bh
		db    7
		db    4
		db  10h
		db    1
		db  0Dh
		db    5
		db  0Bh
		db    7
		db  0Ah
		db  0Dh
		db    4
		db  10h
		db    9
		db    4
		db  10h
		db    1
		db  0Dh
		db  0Ch
		db    8
		db    9
		db    6
		db  10h
		db    1
		db  0Dh
		db    4
		db    6
		db  0Ch
		db    8
		db    3
		db  0Ch
		db    8
		db    9
		db    6
		db    2
		db  0Eh
		db    3
		db  0Fh
		db    8
		db    9
		db    6
		db  0Ch
		db  0Fh
		db    2
		db  0Eh
		db    2
		db  0Eh
		db    3
		db  0Fh
		db  0Ah
		db    5
		db  0Bh
		db    7
		db  0Eh
		db    3
		db  0Fh
		db    2
		db    7
		db  0Ah
		db    5
		db  0Bh
		db  10h
		db  0Fh
		db  0Eh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  0Fh
		db  0Eh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Eh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    4
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    4
		db    3
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db    9
		db    8
		db    7
		db    6
		db    5
		db    4
		db    3
		db    2
		db    1
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    4
		db    3
		db    2
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    4
		db    3
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    4
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    5
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Eh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Fh
		db  0Eh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    7
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  10h
		db  0Fh
		db  0Eh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db  10h
		db  0Fh
		db  0Eh
		db  0Dh
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db  0Ah
		db  0Bh
		db  0Ch
		db  0Dh
		db  0Eh
		db  0Fh
		db  10h
		db  0Fh
		db  0Fh
		db  0Fh
		db  0Fh
		db  10h
		db  10h
		db  10h
		db  10h
		db    1
		db    1
		db    1
		db    1
		db    2
		db    2
		db    2
		db    3
		db  0Eh
		db  0Fh
		db  0Fh
		db  0Fh
		db  0Fh
		db  10h
		db  10h
		db  10h
		db    1
		db    1
		db    1
		db    2
		db    2
		db    2
		db    3
		db    3
		db  0Eh
		db  0Eh
		db  0Fh
		db  0Fh
		db  0Fh
		db  10h
		db  10h
		db  10h
		db    1
		db    1
		db    1
		db    2
		db    2
		db    3
		db    3
		db    3
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Fh
		db  0Fh
		db  0Fh
		db  10h
		db  10h
		db    1
		db    1
		db    2
		db    2
		db    3
		db    3
		db    3
		db    3
		db  0Dh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Fh
		db  10h
		db  10h
		db    1
		db    1
		db    2
		db    2
		db    3
		db    3
		db    3
		db    4
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Fh
		db  10h
		db    1
		db    2
		db    2
		db    3
		db    3
		db    4
		db    4
		db    4
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Eh
		db  0Eh
		db  10h
		db    1
		db    2
		db    3
		db    4
		db    4
		db    4
		db    4
		db    4
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Eh
		db    2
		db    4
		db    4
		db    4
		db    4
		db    4
		db    4
		db    4
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ah
		db    6
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Bh
		db  0Ah
		db    9
		db    8
		db    6
		db    6
		db    5
		db    5
		db    5
		db    5
		db    5
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Bh
		db  0Bh
		db  0Ah
		db  0Ah
		db    9
		db    8
		db    7
		db    6
		db    6
		db    6
		db    5
		db    5
		db    5
		db  0Ch
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    8
		db    8
		db    7
		db    6
		db    6
		db    6
		db    6
		db    5
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    8
		db    8
		db    7
		db    7
		db    7
		db    6
		db    6
		db    6
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    9
		db    8
		db    8
		db    8
		db    7
		db    7
		db    7
		db    6
		db    6
		db  0Bh
		db  0Bh
		db  0Ah
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    9
		db    8
		db    8
		db    8
		db    7
		db    7
		db    7
		db    7
		db    6
		db  0Bh
		db  0Ah
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    9
		db    9
		db    8
		db    8
		db    8
		db    8
		db    7
		db    7
		db    7
		db    7
; void *scnCodeBuf
scnCodeBuf	dd 0			; DATA XREF: LoadScn_Code+44r
					; GetScnCodePtr+Fr ...
scnCodePos	dd 0			; DATA XREF: LoadScn_Code+Dw
					; LoadScn_Code+19r ...
scnCodeOfs	dd 0			; DATA XREF: LoadScn_Code+16r
					; RunSCE+57w ...
; void *scnMsgTblBuf
scnMsgTblBuf	dd 0			; DATA XREF: LoadScn_MTbl+44r
					; GetMsgTblPtr+39r ...
scnMsgTblPos	dd 0			; DATA XREF: LoadScn_MTbl+Dw
					; LoadScn_MTbl+19r ...
scnMsgTblOfs	dd 0			; DATA XREF: LoadScn_MTbl+16r
					; RunSCE+6Ew ...
; void *scnMsgDataBuf
scnMsgDataBuf	dd 0			; DATA XREF: LoadScn_Msgs+44r
					; GetScnMsgPtr+Fr ...
scnMsgDataPos	dd 0			; DATA XREF: LoadScn_Msgs+Dw
					; LoadScn_Msgs+19r ...
scnMsgDataOfs	dd 0			; DATA XREF: LoadScn_Msgs+16r
					; RunSCE+8Aw ...
; void *scnVarMemory
scnVarMemory	dd 0			; DATA XREF: ScnGetVariable+1Er
					; GetScnVarMemPtr+1Er ...
scnJumpDestPos	dd 0FFFFFFFFh		; DATA XREF: seg002:0CCEw seg002:0D39w ...
scnReqExit	dw 0			; DATA XREF: RunSCE+377w
					; RunSCE:loc_1D797r
scnResetFlag	dw 0			; DATA XREF: seg002:1747w seg002:3320w ...
word_2A438	dw 0			; DATA XREF: seg002:0C9Ar seg002:0CA1r ...
word_2A43A	dw 0			; DATA XREF: sub_1D2DC+Br
					; sub_1D2DC:loc_1D2F1r	...
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
aRekiai_1_usr	db 'rekiai_1.usr',0     ; DATA XREF: sub_1ADB4+1Co
					; sub_1ADB4+17w
aTimeDate	db '‚P‚Q^‚P‚Q  ‚P‚PF‚P‚P',0 ; DATA XREF: sub_1ADD7+80w
					; sub_1ADD7+8Fw ...
					; "12/12 11:11"	(in full-width characters)
aFromBeginning	db '       Å‰‚©‚ç       ',0
aUnused		db '        –¢Žg—p        ',0
		db '                      ',0
word_2A4AD	dw 100h, 100h, 100h, 100h, 100h, 100h, 100h, 100h, 100h
					; DATA XREF: sub_1BFED+DCo
		dw 100h, 100h, 100h, 100h, 100h, 100h, 100h, 300h, 300h
		dw 300h, 300h, 300h, 300h, 300h, 300h, 300h, 300h, 300h
		dw 300h, 300h, 300h, 300h, 300h, 700h, 700h, 700h, 700h
		dw 700h, 700h, 700h, 700h, 700h, 700h, 700h, 700h, 700h
		dw 700h, 700h, 700h, 0F00h, 0F00h, 0F00h, 0F00h, 0F00h
		dw 0F00h, 0F00h, 0F00h,	0F00h, 0F00h, 0F00h, 0F00h, 0F00h
		dw 0F00h, 0F00h, 0F00h,	1F00h, 1F00h, 1F00h, 1F00h, 1F00h
		dw 1F00h, 1F00h, 1F00h,	1F00h, 1F00h, 1F00h, 1F00h, 1F00h
		dw 1F00h, 1F00h, 1F00h,	3F00h, 3F00h, 3F00h, 3F00h, 3F00h
		dw 3F00h, 3F00h, 3F00h,	3F00h, 3F00h, 3F00h, 3F00h, 3F00h
		dw 3F00h, 3F00h, 3F00h,	7F00h, 7F00h, 7F00h, 7F00h, 7F00h
		dw 7F00h, 7F00h, 7F00h,	7F00h, 7F00h, 7F00h, 7F00h, 7F00h
		dw 7F00h, 7F00h, 7F00h,	-100h, -100h, -100h, -100h, -100h
		dw -100h, -100h, -100h,	-100h, -100h, -100h, -100h, -100h
		dw -100h, -100h, -100h,	-0FFh, -0FFh, -0FFh, -0FFh, -0FFh
		dw -0FFh, -0FFh, -0FFh,	-0FFh, -0FFh, -0FFh, -0FFh, -0FFh
		dw -0FFh, -0FFh, -0FFh,	-0FDh, -0FDh, -0FDh, -0FDh, -0FDh
		dw -0FDh, -0FDh, -0FDh,	-0FDh, -0FDh, -0FDh, -0FDh, -0FDh
		dw -0FDh, -0FDh, -0FDh,	-0F9h, -0F9h, -0F9h, -0F9h, -0F9h
		dw -0F9h, -0F9h, -0F9h,	-0F9h, -0F9h, -0F9h, -0F9h, -0F9h
		dw -0F9h, -0F9h, -0F9h,	-0F1h, -0F1h, -0F1h, -0F1h, -0F1h
		dw -0F1h, -0F1h, -0F1h,	-0F1h, -0F1h, -0F1h, -0F1h, -0F1h
		dw -0F1h, -0F1h, -0F1h,	-0E1h, -0E1h, -0E1h, -0E1h, -0E1h
		dw -0E1h, -0E1h, -0E1h,	-0E1h, -0E1h, -0E1h, -0E1h, -0E1h
		dw -0E1h, -0E1h, -0E1h,	-0C1h, -0C1h, -0C1h, -0C1h, -0C1h
		dw -0C1h, -0C1h, -0C1h,	-0C1h, -0C1h, -0C1h, -0C1h, -0C1h
		dw -0C1h, -0C1h, -0C1h,	-81h, -81h, -81h, -81h,	-81h, -81h
		dw -81h, -81h, -81h, -81h, -81h, -81h, -81h, -81h, -81h
		dw -81h, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
		dw -1, -1, -1, -1
word_2A6AD	dw 0			; DATA XREF: seg002:2604r seg002:2804r ...
scnCodeTbl	struc_1	<80h, 0FFh, 0FFh, 0FFh,	scn80_dummy> ; DATA XREF: RunSCE+2E2o
		struc_1	<81h, 0FFh, 0FFh, 0FFh,	scn81>
		struc_1	<82h, 0FFh, 0FFh, 0FFh,	scn82_dummy>
		struc_1	<83h, 0FFh, 0FFh, 0FFh,	scn83_Jump>
		struc_1	<84h, 0FFh, 0FFh, 0FFh,	scn84_GoSub>
		struc_1	<85h, 0FFh, 0FFh, 0FFh,	scn85_Return>
		struc_1	<86h, 0FFh, 0FFh, 0FFh,	scn86_CondJmp>
		struc_1	<70h, 0F2h, 0FFh, 0FFh,	scn70F2>
		struc_1	<70h, 0F3h, 0FFh, 0FFh,	scn70F3>
		struc_1	<70h, 0FFh, 0FFh, 0FFh,	scn70>
		struc_1	<71h, 0FFh, 0FFh, 0FFh,	scn71_dummy>
		struc_1	<72h, 0FFh, 0FFh, 0FFh,	scn72_dummy>
		struc_1	<73h, 0FFh, 0FFh, 0FFh,	scn73_dummy>
		struc_1	<87h, 0FFh, 0FFh, 0FFh,	scn87>
		struc_1	<8Ah, 0FFh, 0FFh, 0FFh,	scn8A_GoSub>
		struc_1	<8Bh, 0FFh, 0FFh, 0FFh,	scn85_Return>
		struc_1	<8Ch, 0FFh, 0FFh, 0FFh,	scn8C_SetVar001>
		struc_1	<15h, 0FFh, 0FFh, 0FFh,	scn15_SetVar>
		struc_1	<0B0h, 91h, 0FFh, 0FFh,	loc_1B65B>
		struc_1	<0B0h, 0B1h, 0FFh, 0FFh, loc_1B9F7>
		struc_1	<0B0h, 0B2h, 0FFh, 0FFh, loc_1BA61>
		struc_1	<0B0h, 0B4h, 0FFh, 0FFh, loc_1BB01>
		struc_1	<0B0h, 0B8h, 0FFh, 0FFh, loc_1BBD4>
		struc_1	<0B0h, 0B6h, 0FFh, 0FFh, loc_1BC77>
		struc_1	<0B0h, 0B3h, 0FFh, 0FFh, loc_1C3C3>
		struc_1	<0B0h, 90h, 0FFh, 0FFh,	scnB090_text>
		struc_1	<0B0h, 0B7h, 0FFh, 0FFh, loc_1C518>
		struc_1	<90h, 0FFh, 0FFh, 0FFh,	scn90_text>
		struc_1	<91h, 0FFh, 0FFh, 0FFh,	loc_1C755>
		struc_1	<92h, 0FFh, 0FFh, 0FFh,	loc_1C766>
		struc_1	<94h, 0FFh, 0FFh, 0FFh,	scn94_text>
		struc_1	<93h, 0FFh, 0FFh, 0FFh,	loc_1C79B>
		struc_1	<0D0h, 0D1h, 0B8h, 0F0h, loc_1CB00>
		struc_1	<0D0h, 0D1h, 0B8h, 0F1h, loc_1CB0B>
		struc_1	<0D0h, 0D1h, 0FFh, 0FFh, loc_1CB16>
		struc_1	<0D0h, 0F8h, 0FFh, 0FFh, loc_1CB2F>
		struc_1	<0D0h, 0F7h, 0FFh, 0FFh, scnD0F7_SetVarOnKey>
		struc_1	<0A0h, 0D3h, 0FFh, 0FFh, loc_1CB73>
		struc_1	<0A0h, 0D1h, 0F7h, 0FFh, loc_1CB94>
		struc_1	<0A0h, 0D1h, 0FFh, 0FFh, loc_1CBAE>
		struc_1	<0E0h, 0F2h, 0FFh, 0FFh, loc_1CBDF>
		struc_1	<0E0h, 0F0h, 0FFh, 0FFh, loc_1CC4A>
		struc_1	<0E0h, 0F1h, 0FFh, 0FFh, loc_1CC8E>
		struc_1	<0E0h, 0F4h, 0F5h, 0FFh, loc_1CCD2>
		struc_1	<0E0h, 0F4h, 0D1h, 0FFh, loc_1CCF6>
		struc_1	<0E0h, 0B3h, 0FFh, 0FFh, loc_1CD1A>
		struc_1	<0E0h, 0E1h, 0F0h, 0FFh, loc_1CD58>
		struc_1	<0E0h, 0E1h, 0F1h, 0FFh, loc_1CD7B>
		struc_1	<0D2h, 0FFh, 0FFh, 0FFh, scnD2>
		struc_1	<0F2h, 0FFh, 0FFh, 0FFh, scnF2_ReadUserSave>
		struc_1	<0F3h, 0FFh, 0FFh, 0FFh, scnF3_WriteUserSave>
		struc_1	<0F9h, 0F8h, 0FFh, 0FFh, scnF9_WriteSysSave>
		struc_1	<0FAh, 0F8h, 0FFh, 0FFh, scnFA_WriteSysSave>
		struc_1	<0FFh, 0FFh, 0FFh, 0FFh, 0>
SomePalData	db   00h,  00h,	 00h	; DATA XREF: sub_1D327+Bo
		db   00h,  44h,	0BBh
		db   11h, 0EEh,	0AAh
		db   33h,  66h,	 44h
		db   33h,  99h,	 66h
		db   77h, 0CCh,	 99h
		db   99h, 0EEh,	0BBh
		db  0BBh, 0FFh,	0DDh
		db   77h, 0EEh,	 88h
		db   11h, 0CCh,	 44h
		db   66h,  44h,	 44h
		db  0CCh,  55h,	 44h
		db  0BBh,  88h,	 99h
		db   88h,  66h,	 77h
		db  0DDh, 0BBh,	0CCh
		db  0FFh, 0FFh,	0FFh
word_2A88F	dw 0, 0, 0, 0, 0FFFFh, 0, 0, 0Bh, 11Ch,	0, 0, 38h, 74h
					; DATA XREF: sub_1D327+53o
		dw 0Fh,	2, 2, 0, 0, 0, 0, 0, 0,	1, 0Eh,	36h, 5Ch, 36h
		dw 4, 8, 1, 0Fh, 0, 0, 0, 0
aExprStackOverflow db 'Ž®‚Ì‰ðŽß—p‚ÌƒXƒ^ƒbƒN‚ªCƒI[ƒo[ƒtƒ[‚µ‚Ü‚µ‚½D',0Ah,0
					; DATA XREF: ScnEvalExpression+7Do
					; The stack for	expression interpretation has overflowed.
aExprStackUnderflow1 db	'Ž®‚Ì‰ðŽß—p‚ÌƒXƒ^ƒbƒN‚ªCƒAƒ“ƒ_[ƒtƒ[‚µ‚Ü‚µ‚½D',0Ah,0
					; DATA XREF: ScnEvalExpression+A8o
					; The stack for	expression interpretation has underflowed.
aExprStackUnderflow2 db	'Ž®‚Ì‰ðŽß—p‚ÌƒXƒ^ƒbƒN‚ªCƒAƒ“ƒ_[ƒtƒ[‚µ‚Ü‚µ‚½D',0Ah,0
					; DATA XREF: ScnEvalExpression+ECo
aExprUnfinished	db 'Ž®‚ªCŠ®‘S‚É•Â‚¶‚Ä‚¢‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: ScnEvalExpression+1C7o
					; The expression is not	completely closed.
aGosubStackOverflow1 db	'GOSUB —p‚ÌƒXƒ^ƒbƒN‚ªCƒI[ƒo[ƒtƒ[‚µ‚Ü‚µ‚½D',0Ah,0
					; DATA XREF: seg002:0CEFo
					; The stack for	GOSUB overflowed.
aGosubStackUnderflow db	'GOSUB —p‚ÌƒXƒ^ƒbƒN‚ªCƒAƒ“ƒ_[ƒtƒ[‚µ‚Ü‚µ‚½D',0Ah,0
					; DATA XREF: seg002:0D49o
					; The stack for	GOSUB underflowed.
; char aRb[]
aRb		db 'rb',0               ; DATA XREF: sub_1ADD7+14o
aGosubStackOverflow2 db	'GOSUB —p‚ÌƒXƒ^ƒbƒN‚ªCƒI[ƒo[ƒtƒ[‚µ‚Ü‚µ‚½D',0Ah,0
					; DATA XREF: seg002:16DBo
aGraphicModule	db 'Graphic module ',0  ; DATA XREF: sub_1B70C+51o
aVkbcmivVivsv_1	db ' ‚ªCŒ©‚Â‚©‚è‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: sub_1B70C+47o
aGbgvgkxsslvBcg	db 'ƒƒ‚ƒŠ•s‘«‚ÅCGraphic module ',0 ; DATA XREF: sub_1B70C+8Co
aVUVNuvVVVBd_0	db ' ‚ð“Ç‚Ýž‚ß‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: sub_1B70C+82o
aGraphicModul_0	db 'Graphic module ',0  ; DATA XREF: sub_1B70C+135o
aVkbcmivVivsv_0	db ' ‚ªCŒ©‚Â‚©‚è‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: sub_1B70C+12Bo
aGbgvgkxsslvB_0	db 'ƒƒ‚ƒŠ•s‘«‚ÅCGraphic module ',0 ; DATA XREF: sub_1B70C+170o
aVUVNuvVVVBd_1	db ' ‚ð“Ç‚Ýž‚ß‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: sub_1B70C+166o
aGraphicModul_1	db 'Graphic module ',0  ; DATA XREF: sub_1B70C+22Bo
aVkbcmivVivsvVV	db ' ‚ªCŒ©‚Â‚©‚è‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: sub_1B70C+221o
aGbgvgkxsslvB_1	db 'ƒƒ‚ƒŠ•s‘«‚ÅCGraphic module ',0 ; DATA XREF: sub_1B70C+266o
aVUVNuvVVVBd	db ' ‚ð“Ç‚Ýž‚ß‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: sub_1B70C+25Co
aU		db '%u',0               ; DATA XREF: seg002:2731o
aU_0		db '%u',0               ; DATA XREF: seg002:2944o
aLGfbG		db '‹Èƒf[ƒ^ : ',0      ; DATA XREF: seg002:2D4Eo
aVkuVNuvVVVVVVB	db '‚ª“Ç‚Ýž‚ß‚Ü‚¹‚ñ‚Å‚µ‚½D',0Ah,0 ; DATA XREF: seg002:2D44o
aSysFileRdErrMem db 'ƒƒ‚ƒŠ•s‘«‚ÅƒVƒXƒeƒ€ƒf[ƒ^ƒtƒ@ƒCƒ‹ ‚ÉƒAƒNƒZƒX‚Å‚«‚Ü‚¹‚ñD',0Ah,0
					; DATA XREF: WriteSystemSave+1Do
					; Unable to access system data file due	to insufficient	memory.
; char aRekiai_0_usr[]
aRekiai_0_usr	db 'rekiai_0.usr',0     ; DATA XREF: WriteSystemSave+CBo
; char aWb[]
aWb		db 'wb',0               ; DATA XREF: WriteSystemSave+C7o
aSystemDataFile	db 'ƒVƒXƒeƒ€ƒf[ƒ^ƒtƒ@ƒCƒ‹ ',0 ; DATA XREF: WriteSystemSave+E9o
aRekiai_0_usr_0	db 'rekiai_0.usr',0     ; DATA XREF: WriteSystemSave+E5o
aCantBeOpened1	db ' ‚ªCƒI[ƒvƒ“‚Å‚«‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: WriteSystemSave+E1o
; char aRekiai_0_usr_1[]
aRekiai_0_usr_1	db 'rekiai_0.usr',0     ; DATA XREF: ReadSystemSave+9o
; char aRb_1[3]
aRb_1		db 'rb',0               ; DATA XREF: ReadSystemSave+5o
aSysFile_MemErr	db 'ƒƒ‚ƒŠ•s‘«‚ÅƒVƒXƒeƒ€ƒf[ƒ^ƒtƒ@ƒCƒ‹ ‚ð“Ç‚Ýž‚ß‚Ü‚¹‚ñD',0Ah,0
					; DATA XREF: ReadSystemSave+50o
					; Unable to read system	data file due to insufficient memory.
aRb_6		db 'rb',0               ; DATA XREF: seg002:3191o
aBacewaka_psa	db 'bacewaka.psa',0     ; DATA XREF: seg002:3224o
aSongData	db '‹Èƒf[ƒ^ : ',0      ; DATA XREF: seg002:32F6o
aCantBeLoaded	db '‚ª“Ç‚Ýž‚ß‚Ü‚¹‚ñ‚Å‚µ‚½D',0Ah,0 ; DATA XREF: seg002:32EEo
aWb_0		db 'wb',0               ; DATA XREF: seg002:3354o
aUserDataFile	db 'ƒ†[ƒU[ƒf[ƒ^ƒtƒ@ƒCƒ‹ ',0 ; DATA XREF: seg002:337Ao
aCantBeOpened2	db ' ‚ªCƒI[ƒvƒ“‚Å‚«‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: seg002:3370o
aModule		db 'ƒ‚ƒWƒ…[ƒ‹ ',0      ; DATA XREF: RunSCE+2Eo
aCantBeOpened3	db ' ‚ªCƒI[ƒvƒ“‚Å‚«‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: RunSCE+24o
aScnMemErr_Code	db 'ƒVƒiƒŠƒI(code)“Ç‚Ýž‚Ý—p‚Ìƒoƒbƒtƒ@‚ªŠm•Û‚Å‚«‚Ü‚¹‚ñ',0Ah,0
					; DATA XREF: RunSCE+A6o
					; Unable to allocate buffer for	reading	scenario (code).
aScnMemErr_MTbl	db 'ƒVƒiƒŠƒI(msgtable)“Ç‚Ýž‚Ý—p‚Ìƒoƒbƒtƒ@‚ªŠm•Û‚Å‚«‚Ü‚¹‚ñ',0Ah,0
					; DATA XREF: RunSCE+DFo
aScnMemErr_Msg	db 'ƒVƒiƒŠƒI(msg)“Ç‚Ýž‚Ý—p‚Ìƒoƒbƒtƒ@‚ªŠm•Û‚Å‚«‚Ü‚¹‚ñ',0Ah,0
					; DATA XREF: RunSCE+118o
aMemErr_Vars	db '•Ï”—p‚Ìƒoƒbƒtƒ@‚ªŠm•Û‚Å‚«‚Ü‚¹‚ñ',0Ah,0 ; DATA XREF: RunSCE+158o
					; Unable to allocate buffer for	variable.
; char a08lx[]
a08lx		db '%08lX',0            ; DATA XREF: RunSCE+338o
aCodeAreaAddr	db 'ƒR[ƒh—Ìˆæ‚ÌƒAƒhƒŒƒX ',0 ; DATA XREF: RunSCE+352o
aCantInterpret	db ' ‚©‚ç‚ª‰ðŽß‚Å‚«‚Ü‚¹‚ñD',0Ah,0 ; DATA XREF: RunSCE+349o
		db    0
word_2ADB2	dw 5			; DATA XREF: sub_1DC31+6r
					; sub_1DC31+19w ...
word_2ADB4	dw 3			; DATA XREF: sub_1DC31+16r
					; sub_1DC31+25w ...
M_PI		dq 3.141592653589793	; DATA XREF: sub_1D805+67r
					; sub_1D805+9Cr ...
flt_2ADBE	dd 180.0		; DATA XREF: sub_1D805+70r
					; sub_1D805+A5r ...
flt_2ADC2	dd 128.0		; DATA XREF: sub_1D805+8Ar
					; sub_1D805+F7r ...
flt_2ADC6	dd 0.5			; DATA XREF: sub_1D805+8Fr
					; sub_1D805+C7r ...
flt_2ADCA	dd 256.0		; DATA XREF: sub_1D805+C2r
					; sub_1D805+12Cr ...
flt_2ADCE	dd 64.0			; DATA XREF: sub_1D9E9+75r
flt_2ADD2	dd 360.0		; DATA XREF: sub_1DC31+178r
					; sub_1DC31+2CBr ...
flt_2ADD6	dd 3.0			; DATA XREF: sub_1DC31+192r
					; sub_1DC31+1C7r ...
flt_2ADDA	dd 330.0		; DATA XREF: sub_1DC31+241r
					; sub_1DC31+256r ...
flt_2ADDE	dd 0.75			; DATA XREF: sub_1DC31+25Br
					; sub_1DC31+289r ...
flt_2ADE2	dd 340.0		; DATA XREF: sub_1DC31+26Fr
					; sub_1DC31+284r ...
flt_2ADE6	dd 350.0		; DATA XREF: sub_1DC31+29Dr
					; sub_1DC31+2B2r ...
flt_2ADEA	dd 16.0			; DATA XREF: sub_1DC31+30Fr
					; sub_1DC31+314r
word_2ADEE	dw 0			; DATA XREF: fopen3+72r
word_2ADF0	dw 0			; DATA XREF: fopen3+6Er
unk_2ADF2	db  3Bh	; ;		; DATA XREF: fopen3+ABo
		db  2Bh	; +
		db  0Ah
		db    0
; void *ptr
ptr		dd 0			; DATA XREF: LoadDATFile2+A9w
					; LoadDATFile2+C8r ...
word_2ADFA	dw 0			; DATA XREF: LoadDATFile2+163w
					; fopen2+146r
word_2ADFC	dw 0			; DATA XREF: LoadDATFile2+15Fw
					; fopen2+14Ar
; FILE *dword_2ADFE
dword_2ADFE	dd 0			; DATA XREF: sub_1E58E+31r
					; sub_1E58E+4Dr ...
; __int32 offset
offset		dw 0			; DATA XREF: sub_1E58E+13r
					; sub_1E58E+2Ew ...
word_2AE04	dw 0			; DATA XREF: sub_1E58E:loc_1E59Dr
					; sub_1E58E+2Aw ...
word_2AE06	dw 0			; DATA XREF: sub_1E58E+3r sub_1E5EB+3r ...
; char aRb_5[3]
aRb_5		db 'rb',0               ; DATA XREF: LoadDATFile2+26o
; char aRb_2[3]
aRb_2		db 'rb',0               ; DATA XREF: LoadDATFile2+3Ao
; char aRb_4[]
aRb_4		db 'rb',0               ; DATA XREF: fopen2+81o
; char aRb_3[3]
aRb_3		db 'rb',0               ; DATA XREF: fopen2+95o
word_2AE14	dw 0			; DATA XREF: sub_1F137+3r
					; sub_1F137+78w ...
word_2AE16	dw 0			; DATA XREF: sub_1F1D3+3r
					; sub_1F1D3+11w ...
word_2AE18	dw 0			; DATA XREF: sub_1F399+1r
					; sub_1F399+21w ...
word_2AE1A	dw 0			; DATA XREF: sub_1F399+11w
					; sub_1F399:loc_1F3CEr
word_2AE1C	dw 0			; DATA XREF: sub_1F399+15w
					; sub_1F399+39r
word_2AE1E	dw 0			; DATA XREF: sub_1F774+6Cw
					; sub_1F774+185w
word_2AE20	dw 0			; DATA XREF: sub_1F774+66w
					; sub_1F774+182w
word_2AE22	dw 0			; DATA XREF: sub_1F774+78w
					; sub_1F774+17Ew
word_2AE24	dw 0			; DATA XREF: sub_1F774+72w
					; sub_1F774+17Bw
word_2AE26	dw 0			; DATA XREF: sub_1F774+84w
					; sub_1F774+177w
word_2AE28	dw 0			; DATA XREF: sub_1F774+7Ew
					; sub_1F774+174w
word_2AE2A	dw 0			; DATA XREF: sub_1F774+90w
					; sub_1F774+170w
word_2AE2C	dw 0			; DATA XREF: sub_1F774+8Aw
					; sub_1F774+16Dw
word_2AE2E	dw 0			; DATA XREF: sub_1F774+BCw
					; sub_1F774+1C4w
word_2AE30	dw 0			; DATA XREF: sub_1F774+B6w
					; sub_1F774+1C1w
word_2AE32	dw 0			; DATA XREF: sub_1F774+C8w
					; sub_1F774+1BDw
word_2AE34	dw 0			; DATA XREF: sub_1F774+C2w
					; sub_1F774+1BAw
word_2AE36	dw 0			; DATA XREF: sub_1F774+D4w
					; sub_1F774+1B6w
word_2AE38	dw 0			; DATA XREF: sub_1F774+CEw
					; sub_1F774+1B3w
word_2AE3A	dw 0			; DATA XREF: sub_1F774+E0w
					; sub_1F774+1AFw
word_2AE3C	dw 0			; DATA XREF: sub_1F774+DAw
					; sub_1F774+1ACw
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2AE4E	dw 0			; DATA XREF: sub_1F774+10Fw
					; sub_1F774+209w
word_2AE50	dw 0			; DATA XREF: sub_1F774+109w
					; sub_1F774+206w
word_2AE52	dw 0			; DATA XREF: sub_1F774+11Bw
					; sub_1F774+202w
word_2AE54	dw 0			; DATA XREF: sub_1F774+115w
					; sub_1F774+1FFw
word_2AE56	dw 0			; DATA XREF: sub_1F774+127w
					; sub_1F774+1FBw
word_2AE58	dw 0			; DATA XREF: sub_1F774+121w
					; sub_1F774+1F8w
word_2AE5A	dw 0			; DATA XREF: sub_1F774+133w
					; sub_1F774+1F4w
word_2AE5C	dw 0			; DATA XREF: sub_1F774+12Dw
					; sub_1F774+1F1w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2AF1E	dw 0			; DATA XREF: sub_1F774+A8w
					; sub_1F774+19Bw
word_2AF20	dw 0			; DATA XREF: sub_1F774+F5w
					; sub_1F774+1DAw
word_2AF22	dw 0			; DATA XREF: sub_1F774+FBw
					; sub_1F774+1E0w
word_2AF24	dw 0			; DATA XREF: sub_1F774+148w
					; sub_1F774+21Fw
word_2AF26	dw 0			; DATA XREF: sub_1F774+25Ew
word_2AF28	dw 0			; DATA XREF: sub_1F774+29Aw
word_2AF2A	dw 0			; DATA XREF: sub_1F774+2DEw
word_2AF2C	dw 0			; DATA XREF: sub_1F774+322w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2AF3E	dw 0			; DATA XREF: sub_1FDBF+6r seg009:1B95w ...
word_2AF40	dw 0			; DATA XREF: sub_1FDBF+59r
					; sub_1FDBF+74r ...
unk_2AF42	db    0			; DATA XREF: seg009:0EE9o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db 0FFh
		db  2Dh	; -
		db  2Dh	; -
		db 0FFh
		db  4Bh	; K
		db  4Bh	; K
		db 0FFh
		db  69h	; i
		db  69h	; i
		db 0FFh
		db  87h	; ‡
		db  87h	; ‡
		db 0FFh
		db 0A5h	; ¥
		db 0A5h	; ¥
		db 0FFh
		db 0C3h	; Ã
		db 0C3h	; Ã
		db 0FFh
		db 0E1h	; á
		db 0E1h	; á
		db 0FFh
		db 0FFh
		db 0FFh
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2AFB2	dw 0			; DATA XREF: sub_1F36D+1r sub_1F36D+Aw ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2AFE4	dw 0			; DATA XREF: sub_1F447+83w
					; sub_1F4EB+32r ...
word_2AFE6	dw 0			; DATA XREF: sub_1F774+6r
					; sub_1F774+3BDw ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
seg_2B010	dw seg dseg		; DATA XREF: sub_20C1D+102r
					; sub_20C1D+11Cr ...
word_2B012	dw 2D02h		; DATA XREF: sub_20C1D+106r
					; sub_20C1D+120r ...
unk_2B014	db    0			; DATA XREF: sub_20C1D+17o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  30h	; 0
		db    0
		db  0Fh
		db 0FEh	; þ
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_2B034	db    0			; DATA XREF: sub_20C1D+A8o
		db    0
		db    2
		db    0
		db    2
		db    0
		db    4
		db    0
		db    8
		db    0
		db    8
		db    0
		db  11h
		db    0
		db  21h	; !
		db    0
		db  41h	; A
		db    0
		db    2
		db  10h
		db    2
		db    8
		db    2
		db    8
		db    4
		db    4
		db    4
		db 0FCh	; ü
		db  3Fh	; ?
		db    2
		db    0
		db    2
unk_2B054	db  20h			; DATA XREF: sub_20C1D+55o
		db 0F8h	; ø
		db  21h	; !
		db    4
		db  22h	; "
		db    2
		db  22h	; "
		db    2
		db  20h
		db    2
		db  20h
		db    4
		db  20h
		db    8
		db  20h
		db  10h
		db  20h
		db  20h
		db  20h
		db  20h
		db  20h
		db  20h
		db    0
		db    0
		db    0
		db    0
		db  20h
		db  20h
		db  70h	; p
		db  70h	; p
		db  20h
		db  20h
unk_2B074	db    0			; DATA XREF: sub_20C1D+6Ao
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db 0FFh
		db 0FFh
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_2B094	db    0			; DATA XREF: sub_20C1D+7Fo
		db    0
		db    0
		db    0
		db    0
		db    6
		db    0
		db  0Eh
		db    0
		db  1Ch
		db    0
		db  38h	; 8
		db    0
		db  70h	; p
		db    0
		db 0C0h	; À
		db    1
		db  80h	; €
		db    3
		db    0
		db    4
		db    0
		db    8
		db    0
		db    0
		db    0
		db  20h
		db    0
		db  70h	; p
		db    0
		db  20h
		db    0
unk_2B0B4	db    0			; DATA XREF: sub_20C1D+94o
		db    0
		db    0
		db 0F8h	; ø
		db    1
		db  8Ch	; Œ
		db    1
		db    6
		db    0
		db    2
		db    0
		db    6
		db    0
		db  0Eh
		db    0
		db  3Ch	; <
		db    0
		db 0F0h	; ð
		db    1
		db  80h	; €
		db    6
		db    0
		db  0Ch
		db    0
		db    0
		db    0
		db  20h
		db    0
		db  70h	; p
		db    0
		db  20h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
; char a2j[]
a2j		db 1Bh,'[2J',0          ; DATA XREF: sub_1F3DE+6o
; char a230h[]
a230h		db 1Bh,'[23;0H',0       ; DATA XREF: sub_1F3DE+12o
		align 2
word_2B102	dw 0			; DATA XREF: sub_1B70C+C8w
					; sub_1B70C+1ACw ...
dword_2B104	dd 0			; DATA XREF: sub_1D805+63w
					; sub_1D805+195w ...
word_2B108	dw 0			; DATA XREF: sub_1D805+Fw sub_1D9E9+Fw ...
word_2B10A	dw 0			; DATA XREF: sub_1D805+15w
					; sub_1D805+2Cr ...
word_2B10C	dw 0			; DATA XREF: sub_1D805+1Bw
					; sub_1D805+40r ...
word_2B10E	dw 0			; DATA XREF: sub_1D805+21w
					; sub_1D9E9+21w ...
word_2B110	dw 0			; DATA XREF: sub_1D805+29w
					; sub_1D9E9+27w ...
word_2B112	dw 0			; DATA XREF: sub_1D805+26w
					; sub_1D9E9+2Dw ...
word_2B114	dw 0			; DATA XREF: sub_1D805+36w
					; sub_1D805+58r ...
word_2B116	dw 0			; DATA XREF: sub_1D805+158w
					; sub_1D805+183w ...
word_2B118	dw 0			; DATA XREF: sub_1D805+176w
					; sub_1D805+18Cw ...
word_2B11A	dw 0			; DATA XREF: sub_1D805+99w
					; sub_1D805+145r ...
word_2B11C	dw 0			; DATA XREF: sub_1D805+D1w
					; sub_1D805+163r ...
word_2B11E	dw 0			; DATA XREF: sub_1D805+106w
					; sub_1D805+14Er ...
word_2B120	dw 0			; DATA XREF: sub_1D805+13Bw
					; sub_1D805+16Cr ...
word_2B122	dw 0			; DATA XREF: sub_23933+72r
					; sub_23933+78w ...
word_2B124	dw 0			; DATA XREF: sub_23933+7Br
					; sub_23933+81w ...
word_2B126	dw 0			; DATA XREF: sub_23933+29r
					; sub_23933+2Fw ...
word_2B128	dw 0			; DATA XREF: sub_23933+50r
					; sub_23933+56w ...
word_2B12A	dw 20h			; DATA XREF: sub_23A31+1Bw
					; sub_23A5A:loc_23A79r	...
word_2B12C	dw 20h			; DATA XREF: sub_23A31+24w
					; sub_23A5A:loc_23A97r	...
word_2B12E	dw 0			; DATA XREF: sub_23C5B+4r
					; sub_23C5B+56w ...
word_2B130	dw 0			; DATA XREF: sub_24823:loc_248CCr
					; sub_24823+B6r ...
word_2B132	dw 0			; DATA XREF: sub_24823+ACr
					; sub_24823+B2r ...
byte_2B134	db 0			; DATA XREF: sub_24264+72w
					; sub_24823+C2w ...
word_2B135	dw 0			; DATA XREF: sub_24559+Ar
					; sub_24559:loc_24588w	...
word_2B137	dw 0			; DATA XREF: LoadMusic:loc_24BE4w
					; LoadMusic:loc_24C1Ew	...
; char name[]
name		db 'SOUND',0            ; DATA XREF: sub_23CFA+14o
; char src[]
src		db '\DRV\',0            ; DATA XREF: sub_23CFA+2Ao
; char aDriverFileSDoe[]
aDriverFileSDoe	db 0Ah			; DATA XREF: sub_23CFA+ADo
		db 'Driver file %s does not exist.',0
; char aOpenSError_[]
aOpenSError_	db 'Open %s error.',0Ah,0 ; DATA XREF: sub_23CFA+D5o
; char s2[]
s2		db 'CT-VOICE.DRV',0     ; DATA XREF: sub_23CFA+196o
; char aErrorRetrievin[]
aErrorRetrievin	db 0Ah			; DATA XREF: sub_23CFA+1CCo
		db 'Error retrieving driver size.',0
; char aCtvdsk_drv[]
aCtvdsk_drv	db 'CTVDSK.DRV',0       ; DATA XREF: sub_23CFA+1DDo
; char aErrorRetriev_0[]
aErrorRetriev_0	db 0Ah			; DATA XREF: sub_23CFA+213o
		db 'Error retrieving driver size.',0
; char aMemoryAllocati[]
aMemoryAllocati	db 'Memory allocation error',0Ah,0 ; DATA XREF: sub_23CFA+268o
; char aMsdrv[]
aMsdrv		db 'MsDRV',0            ; DATA XREF: sub_23F8A+18o
; char aBlaster[]
aBlaster	db 'BLASTER',0          ; DATA XREF: sub_23F8A+3Co
; char aBlasterEnviron[]
aBlasterEnviron	db 0Ah			; DATA XREF: sub_23F8A+5Ao
		db 'BLASTER environment not set.',0
a0camera_wav	db '0camera.wav',0      ; DATA XREF: sub_244D9+35o
a1knock_wav	db '1knock.wav',0       ; DATA XREF: sub_244D9+3Bo
a2paso_wav	db '2paso.wav',0        ; DATA XREF: sub_244D9+41o
a3ping_wav	db '3ping.wav',0        ; DATA XREF: sub_244D9+47o
a4ping_wav	db '4ping.wav',0        ; DATA XREF: sub_244D9+4Do
a5ping1_wav	db '5ping1.wav',0       ; DATA XREF: sub_244D9+53o
a6ring_wav	db '6ring.wav',0        ; DATA XREF: sub_244D9+59o
; char a7busy_wav[]
a7busy_wav	db '7busy.wav',0        ; DATA XREF: sub_244D9+5Fo
; char aBlaster_0[]
aBlaster_0	db 'BLASTER',0          ; DATA XREF: sub_24559+39o
; char aBlasterEnvir_0[]
aBlasterEnvir_0	db 0Ah			; DATA XREF: sub_24559+57o
		db 'BLASTER environment not set.',0
; char aErrorCtmididrv[]
aErrorCtmididrv	db 0Ah			; DATA XREF: sub_24559+8Co
		db 'error CTMIDIDRV',0
; char aErrorCtauxdrv[]
aErrorCtauxdrv	db 'error CTAUXDRV',0   ; DATA XREF: sub_24559+C1o
; char aMf01[]
aMf01		db 'MF01',0             ; DATA XREF: LoadMusic+4Bo
; char aInitdev_mf[]
aInitdev_mf	db 'initdev.mf',0       ; DATA XREF: sub_24C74+45o
; char aCtmidi_drv[]
aCtmidi_drv	db 'CTMIDI.DRV',0       ; DATA XREF: LoadCTMIDI_DRV+Ao
; char aBlasterEnvir_1[]
aBlasterEnvir_1	db 0Ah			; DATA XREF: LoadCTMIDI_DRV+49o
		db 'BLASTER environment is not valid',0
; char aInvalidCtmidi_[]
aInvalidCtmidi_	db 0Ah			; DATA XREF: LoadCTMIDI_DRV+5Eo
		db 'Invalid CTMIDI.DRV - ',0
; char aINeedCtmidi_dr[]
aINeedCtmidi_dr	db 'I need CTMIDI.DRV version 1.00 or higher.',0Ah,0
					; DATA XREF: LoadCTMIDI_DRV+6Ao
; char aAuxdrv_drv[]
aAuxdrv_drv	db 'AUXDRV.DRV',0       ; DATA XREF: LoadAUXDRV_DRV+Ao
; char aBlasterEnvir_2[]
aBlasterEnvir_2	db 0Ah			; DATA XREF: LoadAUXDRV_DRV+49o
		db 'BLASTER environment is not valid',0
; char aInvalidAuxdrv_[]
aInvalidAuxdrv_	db 0Ah			; DATA XREF: LoadAUXDRV_DRV+5Eo
		db 'Invalid AUXDRV.DRV - ',0
; char aINeedAuxdrv_dr[]
aINeedAuxdrv_dr	db 'I need AUXDRV.DRV version 3.03 or higher.',0Ah,0
					; DATA XREF: LoadAUXDRV_DRV+6Ao
; char aErrorSettingMi[]
aErrorSettingMi	db 0Ah			; DATA XREF: sub_24F8B+47o
		db 'Error setting MIDI status address.',0
; char aErrorResetting[]
aErrorResetting	db 0Ah			; DATA XREF: sub_24F8B+5Co
		db 'Error resetting MIDI device.',0
; char aDosReadFileErr[]
aDosReadFileErr	db 0Ah			; DATA XREF: sub_24FF9+A2o
		db 'DOS : Read file error.',0
; char aMemoryAlloca_0[]
aMemoryAlloca_0	db 0Ah			; DATA XREF: sub_24FF9+DCo
		db 'Memory allocation error.',0
; char aOpenSFailed_[]
aOpenSFailed_	db 0Ah			; DATA XREF: sub_24FF9+FEo
		db 'Open %s failed.',0
		align 2
word_2B41E	dw 0			; DATA XREF: sub_25198+3r
					; sub_25198+10r ...
word_2B420	dw 0			; DATA XREF: sub_25198+6r sub_25198+Cr ...
; char aSoundBlasterNo[]
aSoundBlasterNo	db 'Sound Blaster not found at 0220h',0Ah,0 ; DATA XREF: sub_2513C+46o
; char aRb_0[]
aRb_0		db 'rb',0               ; DATA XREF: sub_25374+9o
; char aErrorOpening_w[]
aErrorOpening_w	db 'Error opening .WAV file [%s]',0Ah,0 ; DATA XREF: sub_25374+2Co
; char aNotARiffFormat[]
aNotARiffFormat	db 'Not a RIFF format file',0Ah,0 ; DATA XREF: sub_25374+115o
; char aNotAWaveFormat[]
aNotAWaveFormat	db 'Not a WAVE format chunk',0Ah,0 ; DATA XREF: sub_25374+169o
; char aNotAFmtWaveFor[]
aNotAFmtWaveFor	db 'Not a fmt WAVE Format Chunk',0Ah,0 ; DATA XREF: sub_25374+1A5o
; char aDataIsNotPcm[]
aDataIsNotPcm	db 'Data is not PCM',0Ah,0 ; DATA XREF: sub_25374+20Fo
; char aMustBeMonoOrSt[]
aMustBeMonoOrSt	db 'Must be MONO or STEREO data',0Ah,0 ; DATA XREF: sub_25374+249o
; char aStereoDataWill[]
aStereoDataWill	db 'STEREO data will be half speed (twice as much data played mono)',0Ah
					; DATA XREF: sub_25374+264o
		db 0
; char aNotADataChunk[]
aNotADataChunk	db 'Not a DATA chunk',0Ah,0 ; DATA XREF: sub_25374+2E2o
flt_2B534	dd 1000.0		; DATA XREF: sub_25374+3B3r
					; sub_25374+3DEr
word_2B538	dw 1330h		; DATA XREF: seg000:052Fr
		align 8
		dw 0
		align 10h
word_2B550	dw 0FFFFh		; DATA XREF: seg000:044Er seg000:0495r ...
		db 0FFh
		db 0FFh
		db  7Fh	; 
		db  7Fh	; 
dbl_2B556	dq 1.797693134862316e308 ; DATA	XREF: seg000:0B96r
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FEh	; þ
		db  7Fh	; 
		db    0
		db    0
		db 0C0h	; À
		db  7Fh	; 
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  80h	; €
		db    1
		db    0
		dd aDomain		; "DOMAIN"
		dd aSing		; "SING"
		dd aOverflow		; "OVERFLOW"
		dd aUnderflow		; "UNDERFLOW"
		dd aTloss		; "TLOSS"
		dd aPloss		; "PLOSS"
aDomain		db 'DOMAIN',0           ; DATA XREF: dseg:1AF6o
aSing		db 'SING',0             ; DATA XREF: dseg:1AFAo
aOverflow	db 'OVERFLOW',0         ; DATA XREF: dseg:1AFEo
aUnderflow	db 'UNDERFLOW',0        ; DATA XREF: dseg:1B02o
aTloss		db 'TLOSS',0            ; DATA XREF: dseg:1B06o
aPloss		db 'PLOSS',0            ; DATA XREF: dseg:1B0Ao
		align 2
flt_2B5BA	dd 3.4028237e38		; DATA XREF: seg000:loc_10B12r
flt_2B5BE	dd -3.4028237e38	; DATA XREF: seg000:0B0Br
flt_2B5C2	dd 5.1042355e38		; DATA XREF: seg000:loc_10B55r
flt_2B5C6	dd -5.1042355e38	; DATA XREF: seg000:0B4Dr
dbl_2B5CA	dq 1.797693134862316e308 ; DATA	XREF: seg000:0BD1r
		db  81h	; 
		db    0
		dd aDomain_0		; "Domain"
		db  82h	; ‚
		db    0
		dd aDenormal		; "Denormal"
		db  83h	; ƒ
		db    0
		dd aDivideBy0		; "Divide by 0"
		db  84h	; „
		db    0
		dd aOverflow_0		; "Overflow"
		db  85h	; …
		db    0
		dd aUnderflow_0		; "Underflow"
		db  86h	; †
		db    0
		dd aPartialLossOfP	; "Partial loss	of precision"
		db  87h	; ‡
		db    0
		dd aStackFault		; "Stack fault"
aDomain_0	db 'Domain',0           ; DATA XREF: dseg:1B54o
aDenormal	db 'Denormal',0         ; DATA XREF: dseg:1B5Ao
aDivideBy0	db 'Divide by 0',0      ; DATA XREF: dseg:1B60o
aOverflow_0	db 'Overflow',0         ; DATA XREF: dseg:1B66o
aUnderflow_0	db 'Underflow',0        ; DATA XREF: dseg:1B6Co
aPartialLossOfP	db 'Partial loss of precision',0 ; DATA XREF: dseg:1B72o
aStackFault	db 'Stack fault',0      ; DATA XREF: dseg:1B78o
aFloatingPointE	db 'Floating point error: %s.',0Ah,0
flt_2B66C	dd 1.0			; DATA XREF: sub_10EB0+BFr
		db    0
		db    0
		db  20h
		db  41h	; A
		db    0
		db    0
		db 0C8h	; È
		db  42h	; B
		db    0
		db    0
		db  7Ah	; z
		db  44h	; D
		db    0
		db  40h	; @
		db  1Ch
		db  46h	; F
		db    0
		db  50h	; P
		db 0C3h	; Ã
		db  47h	; G
		db    0
		db  24h	; $
		db  74h	; t
		db  49h	; I
		db  80h	; €
		db  96h	; –
		db  18h
		db  4Bh	; K
flt_2B68C	dd 1.0e8		; DATA XREF: sub_10EB0+47r
dbl_2B690	dq 1.0e16		; DATA XREF: sub_10EB0+54r
tbyte_2B698	dt 1.0e32		; DATA XREF: sub_10EB0+5Dr
tbyte_2B6A2	dt 9.9999999999999999998e63 ; DATA XREF: sub_10EB0+69r
tbyte_2B6AC	dt 1.0e128		; DATA XREF: sub_10EB0+75r
tbyte_2B6B6	dt 1.0e256		; DATA XREF: sub_10EB0+81r
tbyte_2B6C0	dt 1.0e512		; DATA XREF: sub_10EB0+8Dr
tbyte_2B6CA	dt 9.9999999999999999997e1023 ;	DATA XREF: sub_10EB0+99r
tbyte_2B6D4	dt 1.0e2048		; DATA XREF: sub_10EB0+A5r
tbyte_2B6DE	dt 1.0e4096		; DATA XREF: sub_10EB0+B1r
flt_2B6E8	dd 3.4028237e38		; DATA XREF: sub_10EB0+17r
dbl_2B6EC	dq 2.698350123236176e308 ; DATA	XREF: sub_10FAE+26r
		db  73h	; s
		db  69h	; i
		db  6Eh	; n
		db    0
		db  25h	; %
		db  73h	; s
		db  3Ah	; :
		db  20h
		db  25h	; %
		db  73h	; s
		db  20h
		db  65h	; e
		db  72h	; r
		db  72h	; r
		db  6Fh	; o
		db  72h	; r
		db  0Ah
		db    0
dbl_2B706	dq 2.698350123236176e308 ; DATA	XREF: sub_110AC+26r
		db  63h	; c
		db  6Fh	; o
		db  73h	; s
		db    0
		db  41h	; A
		db  62h	; b
		db  6Eh	; n
		db  6Fh	; o
		db  72h	; r
		db  6Dh	; m
		db  61h	; a
		db  6Ch	; l
		db  20h
		db  70h	; p
		db  72h	; r
		db  6Fh	; o
		db  67h	; g
		db  72h	; r
		db  61h	; a
		db  6Dh	; m
		db  20h
		db  74h	; t
		db  65h	; e
		db  72h	; r
		db  6Dh	; m
		db  69h	; i
		db  6Eh	; n
		db  61h	; a
		db  74h	; t
		db  69h	; i
		db  6Fh	; o
		db  6Eh	; n
		db  0Dh
		db  0Ah
		db    0
		db    0
word_2B732	dw 0			; DATA XREF: _atexit+5r
					; _atexit:loc_111A5r ...
off_2B734	dd sub_11373		; DATA XREF: sub_11378+29r
					; _setvbuf+C0w	...
off_2B738	dd sub_11373		; DATA XREF: sub_11378+43r
					; sub_13A21+B4w ...
off_2B73C	dd sub_11373		; DATA XREF: sub_11378+47r _open+157w	...
		db    0
		db    0
word_2B742	dw 209h			; DATA XREF: seg000:1CA6w seg000:1CB0r
byte_2B744	db 0			; DATA XREF: seg000:1C97r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db 0C0h	; À
		db  1Ch
word_2B754	dw 0			; DATA XREF: seg002:29BAw seg002:29D3o ...
word_2B756	dw 20Ah			; DATA XREF: seg000:1CDFw seg000:1CE9r
byte_2B758	db 1			; DATA XREF: seg000:1CD0r
		align 8
dword_2B760	dd 0			; DATA XREF: seg002:29C0r seg002:29C4w ...
		db    0
		db    0
		db 0D4h	; Ô
		db  1Ch
		db    0
		db    0
		db    2
		db    2
byte_2B76C	db 2			; DATA XREF: ___ErrorMessage+19r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db 0E8h	; è
		db  1Ch
		db    0
		db    0
		db  43h	; C
		db    2
		db    3
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db 0FCh	; ü
		db  1Ch
		db    0
		db    0
		db  42h	; B
		db    2
		db    4
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  10h
		db  1Dh
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2B8D0	dw 14h			; DATA XREF: start+BCr	start+DFr ...
		db    1
		db  60h	; `
		db    2
		db  60h	; `
		db    2
		db  60h	; `
		db    4
		db 0A0h	;  
		db    2
		db 0A0h	;  
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2B8FA	dw 4000h		; DATA XREF: sub_13A21:loc_13ABCr
					; seg000:4549r
word_2B8FC	dw 0FFFFh		; DATA XREF: _open:loc_1457Br
		db 0CCh	; Ì
		db    0
word_2B900	dw 0			; DATA XREF: __IOERROR:loc_116AEw
					; __IOERROR+2Bw ...
		db    0
		db  13h
		db    2
		db    2
		db    4
		db    5
		db    6
		db    8
		db    8
		db    8
		db  14h
		db  15h
		db    5
		db  13h
		db  0Eh
		db    5
		db    5
		db  11h
		db    2
		db  1Eh
		db  29h	; )
		db  2Ch	; ,
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  29h	; )
		db  2Ch	; ,
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db    5
		db    5
		db  29h	; )
		db  17h
		db  17h
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Fh
		db  2Ch	; ,
		db  23h	; #
		db    2
		db  2Ch	; ,
		db  0Fh
		db  2Ah	; *
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  13h
		db  1Bh
		db  1Ch
		db    2
		db    2
		db    5
		db  0Fh
		db    2
		db  17h
		db  28h	; (
		db  2Ah	; *
		db  13h
		db  2Ah	; *
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  23h	; #
		db  0Eh
		db  1Ch
		db  28h	; (
		db  17h
		db  23h	; #
		db  25h	; %
		db  13h
		db  28h	; (
		db    0
		db  54h	; T
		db  4Dh	; M
		db  50h	; P
		db    0
		db  2Eh	; .
		db  24h	; $
		db  24h	; $
		db  24h	; $
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2B96A	dw 0			; DATA XREF: seg000:18E7r
word_2B96C	dw 18ACh		; DATA XREF: set_new_handler(void (*)(void))+Cr
					; set_new_handler(void (*)(void))+1Fw ...
seg_2B96E	dw seg seg000		; DATA XREF: set_new_handler(void (*)(void))+8r
					; set_new_handler(void (*)(void))+1Bw ...
aOutOfMemory	db 'Out of memory',0
word_2B97E	dw 1			; DATA XREF: _srand+Ew	_rand+6r ...
word_2B980	dw 0			; DATA XREF: _srand+8w	_rand+2r ...
word_2B982	dw 1000h		; DATA XREF: start+62r	start+70w
		public __ctype
; unsigned __int8 _ctype[257]
__ctype		db    0, 20h, 20h, 20h,	20h, 20h, 20h, 20h ; DATA XREF:	_toupper+18r
		db  20h, 20h, 21h, 21h,	21h, 21h, 21h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 81h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 12h, 12h, 12h,	12h, 12h, 12h, 12h
		db  12h, 12h, 12h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 14h, 14h,	14h, 14h, 14h, 14h
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	40h, 40h, 40h, 40h
		db  40h, 40h, 18h, 18h,	18h, 18h, 18h, 18h
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	40h, 40h, 40h, 40h
		db  20h,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0
		align 2
off_2BA86	dd unk_2BAB6		; DATA XREF: sub_106A7+8r seg000:0884r
		dd unk_2BAB8
		dd unk_2BAB9
		dd unk_2BABA
		dd unk_2BABB
		dd unk_2BABC
		dd unk_2BABD
		dd unk_2BABE
		dd unk_2BABF
		dd unk_2BAC0
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
unk_2BAB6	db  2Eh	; .		; DATA XREF: dseg:off_2BA86o
		db    0
unk_2BAB8	db    0			; DATA XREF: dseg:200Ao
unk_2BAB9	db    0			; DATA XREF: dseg:200Eo
unk_2BABA	db    0			; DATA XREF: dseg:2012o
unk_2BABB	db    0			; DATA XREF: dseg:2016o
unk_2BABC	db    0			; DATA XREF: dseg:201Ao
unk_2BABD	db    0			; DATA XREF: dseg:201Eo
unk_2BABE	db    0			; DATA XREF: dseg:2022o
unk_2BABF	db    0			; DATA XREF: dseg:2026o
unk_2BAC0	db    0			; DATA XREF: dseg:202Ao
		db    0
		db  28h	; (
		db  6Eh	; n
		db  75h	; u
		db  6Ch	; l
		db  6Ch	; l
		db  29h	; )
		db    0
		db    0
		db  14h
		db  14h
		db    1
		db  14h
		db  15h
		db  14h
		db  14h
		db  14h
		db  14h
		db    2
		db    0
		db  14h
		db    3
		db    4
		db  14h
		db    9
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  0Fh
		db  17h
		db  0Fh
		db    8
		db  14h
		db  14h
		db  14h
		db    7
		db  14h
		db  16h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  0Dh
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  10h
		db  0Ah
		db  0Fh
		db  0Fh
		db  0Fh
		db    8
		db  0Ah
		db  14h
		db  14h
		db    6
		db  14h
		db  12h
		db  0Bh
		db  0Eh
		db  14h
		db  14h
		db  11h
		db  14h
		db  0Ch
		db  14h
		db  14h
		db  0Dh
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		dd @terminate$qv	; terminate(void)
		dd @unexpected$qv	; unexpected(void)
word_2BB3C	dw 0			; DATA XREF: __ExceptInit+28w
word_2BB3E	dw 0			; DATA XREF: __ExceptInit+25w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2BC52	dw 0			; DATA XREF: seg000:2590w seg000:25A3w ...
word_2BC54	dw 0			; DATA XREF: sub_12A78+22r
					; sub_12A78+61w
byte_2BC56	db 0			; DATA XREF: seg000:3001r seg000:3019w
byte_2BC57	db 0			; DATA XREF: seg000:2F9Cr seg000:2FAFw
word_2BC58	dw 0			; DATA XREF: seg000:2F09r seg000:2F3Fw
word_2BC5A	dw 0			; DATA XREF: seg000:2F05r
					; seg000:loc_12F39w
		align 8
word_2BC60	dw 0			; DATA XREF: seg000:2E23r seg000:2E59w ...
word_2BC62	dw 0			; DATA XREF: seg000:2E1Fr
					; seg000:loc_12E53w ...
		align 10h
		db    2
		db    4
		db    8
		db  0Bh
		db  0Fh
		db  16h
		db    0
		db  15h
		db  8Ch	; Œ
		db  0Bh
		db    0
		db    0
		db  1Fh
		db  1Ch
		db  1Fh
		db  1Eh
		db  1Fh
		db  1Eh
		db  1Fh
		db  1Fh
		db  1Eh
		db  1Fh
		db  1Eh
		db  1Fh
dword_2BC88	dd 0			; DATA XREF: seg000:3561w sub_13575+Ar ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  0Dh
		db    0
word_2BC9A	dw 0			; DATA XREF: _setvbuf:loc_14C97r
					; _setvbuf+4Bw
word_2BC9C	dw 0			; DATA XREF: _setvbuf:loc_14C81r
					; _setvbuf+35w
word_2BC9E	dw 30h			; DATA XREF: __IOERROR+25r
		db    0
		db    0
		db  1Fh
		db    0
		db  3Bh	; ;
		db    0
		db  5Ah	; Z
		db    0
		db  78h	; x
		db    0
		db  97h	; —
		db    0
		db 0B5h	; µ
		db    0
		db 0D4h	; Ô
		db    0
		db 0F3h	; ó
		db    0
		db  11h
		db    1
		db  30h	; 0
		db    1
		db  4Eh	; N
		db    1
		db  6Dh	; m
		db    1
; char *dest
dest		dw 3714h		; DATA XREF: sub_153DA+D1r
					; sub_153DA+114r ...
seg_2BCBC	dw seg dseg		; DATA XREF: sub_153DA+CDr
					; sub_153DA+110r
; void *s
s		dw 3718h		; DATA XREF: sub_153DA+E3r
					; sub_153DA+FDr ...
seg_2BCC0	dw seg dseg		; DATA XREF: sub_153DA+DFr
					; sub_153DA+F9r ...
word_2BCC2	dw 8170h		; DATA XREF: sub_1313B+44r
					; __dostounix+11r ...
word_2BCC4	dw 0FFFFh		; DATA XREF: sub_1313B+40r
					; __dostounix+Dr ...
word_2BCC6	dw 0			; DATA XREF: sub_1313B+52r
					; __dostounix+BDr ...
		db  54h	; T
		db  5Ah	; Z
		db    0
		db  4Ah	; J
		db  53h	; S
		db  54h	; T
		db    0
		db    0
		db  3Ch	; <
		db  6Eh	; n
		db  6Fh	; o
		db  74h	; t
		db  79h	; y
		db  70h	; p
		db  65h	; e
		db  3Eh	; >
		db    0
		db  2Ah	; *
		db  2Ah	; *
		db  42h	; B
		db  43h	; C
		db  43h	; C
		db  78h	; x
		db  68h	; h
		db  31h	; 1
		db    0
		db  70h	; p
		db  72h	; r
		db  69h	; i
		db  6Eh	; n
		db  74h	; t
		db  20h
		db  73h	; s
		db  63h	; c
		db  61h	; a
		db  6Eh	; n
		db  66h	; f
		db  20h
		db  3Ah	; :
		db  20h
		db  66h	; f
		db  6Ch	; l
		db  6Fh	; o
		db  61h	; a
		db  74h	; t
		db  69h	; i
		db  6Eh	; n
		db  67h	; g
		db  20h
		db  70h	; p
		db  6Fh	; o
		db  69h	; i
		db  6Eh	; n
		db  74h	; t
		db  20h
		db  66h	; f
		db  6Fh	; o
		db  72h	; r
		db  6Dh	; m
		db  61h	; a
		db  74h	; t
		db  73h	; s
		db  20h
		db  6Eh	; n
		db  6Fh	; o
		db  74h	; t
		db  20h
		db  6Ch	; l
		db  69h	; i
		db  6Eh	; n
		db  6Bh	; k
		db  65h	; e
		db  64h	; d
		db  0Dh
		db  0Ah
		db    0
word_2BD14	dw 0			; DATA XREF: seg000:928Dw seg000:92D8r
word_2BD16	dw 0			; DATA XREF: seg000:92A0w seg000:92E4r
word_2BD18	dw 0			; DATA XREF: seg000:92A4w seg000:92DEr
word_2BD1A	dw 0			; DATA XREF: seg000:unknown_libname_4w
					; seg000:92EAr
word_2BD1C	dw 0			; DATA XREF: seg000:919Dw seg000:92D4r
word_2BD1E	dw 0			; DATA XREF: seg000:91A1w seg000:92D0r
word_2BD20	dw 0			; DATA XREF: seg000:91AAw seg000:92C8r
word_2BD22	dw 0			; DATA XREF: seg000:91AEw seg000:92CCr
dword_2BD24	dd 0			; DATA XREF: _getenv+21r seg000:9324w	...
word_2BD28	dw 1			; DATA XREF: seg019:0A45r seg019:0A4Ew
word_2BD2A	dw 0			; DATA XREF: seg019:0A62r seg019:0A6Bw
word_2BD2C	dw 1			; DATA XREF: seg019:0A7Fr seg019:0A88w
word_2BD2E	dw 3Fh			; DATA XREF: sub_28D20+13r
					; seg019:0A9Cr	...
word_2BD30	dw 40h			; DATA XREF: sub_28D20+19r
					; seg019:0AB9r	...
word_2BD32	dw 3Fh			; DATA XREF: seg019:073Br seg019:07A3r ...
aStringReferenc	db 'String reference out of range',0
aStringRefere_0	db 'String reference out of range',0
aStringRefere_1	db 'String reference out of range',0
byte_2BD8E	db 0			; DATA XREF: getch+2r getch+9w ...
byte_2BD8F	db 0			; DATA XREF: getch+Er
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    0
		db    8
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db    8
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db    0
		db    0
		db    0
		db    0
word_2BE92	dw 0			; DATA XREF: sub_198E2:loc_19900r
					; sub_198E2+31r ...
word_2BE94	dw 0			; DATA XREF: sub_198E2+21r
					; sub_198E2+2Dr ...
dword_2BE96	dd 0			; DATA XREF: sub_23CFA+1FCw
					; seg020:0099r	...
dword_2BE9A	dd 0			; DATA XREF: LoadAUXDRV_DRV+18w
					; seg020:0279r	...
dword_2BE9E	dd 0			; DATA XREF: sub_23CFA+1B5w
					; seg020:050Fr	...
dword_2BEA2	dd 0			; DATA XREF: LoadCTMIDI_DRV+18w
					; sub_297F5+Dr	...
		db    2
byte_2BEA7	db 4			; DATA XREF: seg020:008Ar seg020:0264r ...
aSbkCopyrightCC	db 'SBK - Copyright (c) Creative Technology Ltd, 1995, All rights res'
		db 'erved.',0
off_2BEF0	dw offset sub_106A7	; DATA XREF: sub_19193r
		db  0Eh
		db  90h	; 
		db  55h	; U
		db    8
		db  73h	; s
		db  0Bh
		db  6Bh	; k
		db  0Bh
		db  13h
		db  90h	; 
		db  13h
		db  90h	; 
		db  13h
		db  90h	; 
		db    0
		db  10h
		db 0EFh	; ï
		db    2
		db    0
		db    0
		db    1
		db  1Fh
		dd loc_11209
		db    1
		db  20h
		dd @string@contains$xqnxc ; string::contains(char *)
		db    0
		db    2
		db  68h	; h
		db  1Ch
		db    0
		db    0
		db    0
		db  10h
		db  7Fh	; 
		db  25h	; %
		db    0
		db    0
		db    0
		db  0Fh
		db  2Ch	; ,
		db  35h	; 5
		db    0
		db    0
		db    1
		db  1Eh
		dd sub_153DA
		db    0
		db  10h
		db  99h	; ™
		db  91h	; ‘
		db    0
		db    0
		db    0
		db  10h
		db  0Eh
		db  93h	; “
		db    0
		db    0
		db    0
		db  10h
		db  56h	; V
		db    5
		db    0
		db    0
		db    1
		db  20h
		dw offset loc_11A5A
dseg		ends

; ===========================================================================

; Segment type:	Regular
seg022		segment	byte public 'UNK' use16
		assume cs:seg022
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
unk_2BF40	db    0	;  SEG16 SEGDEF	[seg000,0]
		db  10h
; char byte_2BF42[81]
byte_2BF42	db 51h dup(0)		; DATA XREF: ArgHandler+20Ao
word_2BF93	dw 0			; DATA XREF: PrintErrExit1+7w
					; PrintErrExit2+7w
word_2BF95	dw 0			; DATA XREF: PrintErrExit1+3w
					; PrintErrExit2+3w
word_2BF97	dw 0			; DATA XREF: PrintErrExit1+17w
					; PrintErrExit2+17w
word_2BF99	dw 0			; DATA XREF: PrintErrExit1+13w
					; PrintErrExit2+13w
word_2BF9B	dw 0			; DATA XREF: PrintErrExit2+24w
word_2BF9D	dw 0			; DATA XREF: PrintErrExit2+20w
word_2BF9F	dw 0			; DATA XREF: PrintErrExit2+31w
word_2BFA1	dw 0			; DATA XREF: PrintErrExit2+2Dw
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_2BFBC	db    0			; DATA XREF: seg002:1B43o seg002:2D16o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2BFC9	dw 0			; DATA XREF: seg002:31BBo seg002:31F2r ...
word_2BFCB	dw 0			; DATA XREF: RunSCE+1B8w RunSCE+1C7r ...
word_2BFCD	dw 0			; DATA XREF: RunSCE+1B2w RunSCE+1C3r ...
word_2BFCF	dw 0			; DATA XREF: RunSCE+1CEw RunSCE+333r ...
word_2BFD1	dw 0			; DATA XREF: RunSCE+1CAw RunSCE+32Fr ...
word_2BFD3	dw 0			; DATA XREF: sub_1ABA3+3w seg002:0CE2w ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_2C08A	db    0			; DATA XREF: sub_1B70C+1DEo
					; sub_1B70C+2CEo ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2C0BA	dw 0			; DATA XREF: seg002:loc_1C4EAr
					; seg002:loc_1C6EAr ...
word_2C0BC	dw 0			; DATA XREF: seg002:loc_1C4E4r
					; seg002:loc_1C6E4r ...
word_2C0BE	dw 0			; DATA XREF: seg002:28ABr seg002:2C33w ...
unk_2C0C0	db    0			; DATA XREF: scnExec70+2F0o
					; scnExec70+340o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2C0F4	dw 0			; DATA XREF: seg002:27E3r seg002:2860r ...
word_2C0F6	dw 0			; DATA XREF: seg002:2899r
		db    0
		db    0
word_2C0FA	dw 0			; DATA XREF: seg002:25E4r seg002:2CBFw
word_2C0FC	dw 0			; DATA XREF: seg002:25F0r
word_2C0FE	dw 0			; DATA XREF: seg002:25ECr
word_2C100	dw 0			; DATA XREF: seg002:25E8r
word_2C102	dw 0			; DATA XREF: seg002:27E7r seg002:285Dr ...
word_2C104	dw 0			; DATA XREF: seg002:289Dw
byte_2C106	db 0			; DATA XREF: seg002:2D62o seg002:32D6r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_2C112	db 0			; DATA XREF: seg002:2D6Dw
word_2C113	dw 0			; DATA XREF: seg002:2D72w seg002:2DB6w ...
unk_2C115	db    0			; DATA XREF: RunSCE+46o
		db    0
		db    0
		db    0
word_2C119	dw 0			; DATA XREF: RunSCE+61r RunSCE+75r
word_2C11B	dw 0			; DATA XREF: RunSCE+5Dr RunSCE+71r
word_2C11D	dw 0			; DATA XREF: RunSCE+78r
					; RunSCE:loc_1D477r ...
word_2C11F	dw 0			; DATA XREF: RunSCE+7Cr RunSCE+B4r ...
word_2C121	dw 0			; DATA XREF: RunSCE:loc_1D4B0r
					; RunSCE+F9w
word_2C123	dw 0			; DATA XREF: RunSCE+EDr RunSCE+F3w
; unsigned __int32 nunits
nunits		dw 0			; DATA XREF: sub_1CFD2+Fr seg002:31CEr ...
word_2C127	dw 0			; DATA XREF: RunSCE+126r RunSCE+12Cw ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
; __int32 word_2C135
word_2C135	dw 0			; DATA XREF: LoadScn_Code+27r
					; LoadScn_Code+37r ...
word_2C137	dw 0			; DATA XREF: LoadScn_Code+23r
					; LoadScn_Code+33r ...
		align 2
; char byte_2C13A
byte_2C13A	db 0			; DATA XREF: fopen3+2Cw fopen3+3Ao ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_2C18C	db 0			; DATA XREF: LoadDATFile2+6Eo
					; LoadDATFile2:loc_1E798r
byte_2C18D	db 0			; DATA XREF: LoadDATFile2+8Br
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
; size_t n
n		dw 0			; DATA XREF: LoadDATFile2:loc_1E7ACr
					; LoadDATFile2+BEr ...
word_2C196	dw 0			; DATA XREF: LoadDATFile2+D6r
					; LoadDATFile2+125r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2C364	dw 0			; DATA XREF: sub_1EFDA+3r
					; sub_1EFDA:loc_1EFFAr	...
word_2C366	dw 0			; DATA XREF: sub_1F137+25w
word_2C368	dw 0			; DATA XREF: sub_1F137+28w
word_2C36A	dw 0			; DATA XREF: sub_1F137+2Ew
					; sub_23933+4r	...
word_2C36C	dw 0			; DATA XREF: sub_1F137+3Aw
					; sub_23A31+15r ...
word_2C36E	dw 0			; DATA XREF: sub_1F137+37w
					; sub_23A31+1Er ...
word_2C370	dw 0			; DATA XREF: sub_1F137+3Dw
					; sub_24089+9r	...
word_2C372	dw 0			; DATA XREF: sub_1F137+43w
word_2C374	dw 0			; DATA XREF: sub_1F137+69w sub_1F340w
word_2C376	dw 0			; DATA XREF: sub_1F137+66w
					; sub_1F340+4w
word_2C378	dw 0			; DATA XREF: sub_1F137+63w
					; sub_1F340+8w
word_2C37A	dw 0			; DATA XREF: sub_1F137+60w
					; sub_1F340+Cw
word_2C37C	dw 0			; DATA XREF: sub_1F137+5Dw
					; sub_1F340:loc_1F350w
word_2C37E	dw 0			; DATA XREF: sub_1F137+5Aw
					; sub_1F340+14w
word_2C380	dw 0			; DATA XREF: sub_1F137+57w
					; sub_1F340+18w
word_2C382	dw 0			; DATA XREF: sub_1F137+54w
					; sub_1F340+1Cw
word_2C384	dw 0			; DATA XREF: sub_1F137+51w
					; sub_1F340+20w
word_2C386	dw 0			; DATA XREF: sub_1F017:loc_1F02Ar
					; sub_1F017:loc_1F03Cr	...
word_2C388	dw 0			; DATA XREF: sub_1F08D:loc_1F0A0r
					; sub_1F08D:loc_1F0B2r	...
dword_2C38A	dd 0			; DATA XREF: sub_1F137+72w
					; sub_1F399+8r	...
word_2C38E	dw 0			; DATA XREF: sub_1F447+45w
					; sub_1FB74+45w ...
word_2C390	dw 0			; DATA XREF: sub_1F447+51w
					; sub_1FB74+15w ...
word_2C392	dw 0			; DATA XREF: sub_202E3+135w
					; sub_202E3+19Aw
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_2C782	db    0			; DATA XREF: sub_20C1D+1Bo
					; sub_20C1D+59o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_2C7A2	db    0			; DATA XREF: sub_20E74+24o
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
; size_t word_2C7B2
word_2C7B2	dw 0			; DATA XREF: sub_1F774+9Cw
					; sub_1F774+18Fw ...
word_2C7B4	dw 0			; DATA XREF: sub_1F774+E9w
					; sub_1F774+1CEw
		align 4
word_2C7B8	dw 0			; DATA XREF: sub_1F774+13Cw
					; sub_1F774+213w ...
word_2C7BA	dw 0			; DATA XREF: sub_1F774+252w
word_2C7BC	dw 0			; DATA XREF: sub_1F774+28Ew
word_2C7BE	dw 0			; DATA XREF: sub_1F774+2D2w
word_2C7C0	dw 0			; DATA XREF: sub_1F774+316w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2C7D2	dw 0			; DATA XREF: sub_1F774+A2w
					; sub_1F774+195w ...
word_2C7D4	dw 0			; DATA XREF: sub_1F774+EFw
					; sub_1F774+1D4w
		align 4
word_2C7D8	dw 0			; DATA XREF: sub_1F774+142w
					; sub_1F774+219w ...
word_2C7DA	dw 0			; DATA XREF: sub_1F774+258w
word_2C7DC	dw 0			; DATA XREF: sub_1F774+294w
word_2C7DE	dw 0			; DATA XREF: sub_1F774+2D8w
word_2C7E0	dw 0			; DATA XREF: sub_1F774+31Cw
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2C7F2	dw 0			; DATA XREF: sub_1F774+96w
					; sub_1F774+189w
word_2C7F4	dw 0			; DATA XREF: sub_1F774+E3w
					; sub_1F774+1C8w
		align 4
word_2C7F8	dw 0			; DATA XREF: sub_1F774+136w
					; sub_1F774+20Dw
word_2C7FA	dw 0			; DATA XREF: sub_1F774+24Cw
word_2C7FC	dw 0			; DATA XREF: sub_1F774+288w
word_2C7FE	dw 0			; DATA XREF: sub_1F774+2CCw
word_2C800	dw 0			; DATA XREF: sub_1F774+310w
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2C812	dw 0			; DATA XREF: sub_1F774:loc_1F7CEw
					; sub_1FD79+1Ew
word_2C814	dw 0			; DATA XREF: sub_1F774+60w
					; sub_1FD79+28w
dword_2C816	dd 0			; DATA XREF: sub_1F774+161w
					; sub_202E3+1ADr ...
unk_2C81A	db    0			; DATA XREF: sub_1F544+Co
					; sub_1F544+EBo
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
dword_2C87A	dd 0			; DATA XREF: sub_1F774+4Cw
					; sub_20C1D+10Ar ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_2C900	db    0			; DATA XREF: sub_231DA+41o
					; sub_231DA+69o ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2D050	dw 0			; DATA XREF: sub_242DD:loc_2430Ar
					; sub_2431E:loc_2434Er	...
word_2D052	dw 0			; DATA XREF: sub_24264+41o
					; sub_24264:loc_242CAr	...
unk_2D054	db    0			; DATA XREF: LoadAUXDRV_DRV+4o
		db    0
		db    0
		db    0
unk_2D058	db    0			; DATA XREF: LoadCTMIDI_DRV+4o
		db    0
		db    0
		db    0
word_2D05C	dw 0			; DATA XREF: sub_23F8A+4Bw
					; sub_24559+48w ...
word_2D05E	dw 0			; DATA XREF: sub_23F8A+47w
					; sub_24559+44w ...
; void *word_2D060
word_2D060	dw 0			; DATA XREF: sub_251C2+6Cw
					; sub_25374+385r
word_2D062	dw 0			; DATA XREF: sub_251C2+69w
					; sub_25374+381r
byte_2D064	db 0			; DATA XREF: sub_251C2+5Aw
					; sub_251C2+5Er ...
		align 2
word_2D066	dw 0			; DATA XREF: sub_25374+321w
					; sub_25374+325r
		db    0
; size_t word_2D069
word_2D069	dw 0			; DATA XREF: sub_25374+34Ew
					; sub_25374+361w ...
word_2D06B	dw 0			; DATA XREF: sub_25374:loc_256BCw
					; sub_25374+35Dw ...
; FILE *word_2D06D
word_2D06D	dw 0			; DATA XREF: sub_25374+1Ew
					; sub_25374+DDr ...
word_2D06F	dw 0			; DATA XREF: sub_25374+1Aw
					; sub_25374+D9r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_2D0C1	db 0			; DATA XREF: sub_25374+52w
					; sub_25374+5Dr
byte_2D0C2	db 0			; DATA XREF: sub_25374+5Aw
word_2D0C3	dw 0			; DATA XREF: sub_25374+F9o
					; sub_25374+10Cr
word_2D0C5	dw 0			; DATA XREF: sub_25374+104r
unk_2D0C7	db    0			; DATA XREF: sub_25374+135o
		db    0
		db    0
		db    0
word_2D0CB	dw 0			; DATA XREF: sub_25374+14Do
					; sub_25374+160r
word_2D0CD	dw 0			; DATA XREF: sub_25374+158r
word_2D0CF	dw 0			; DATA XREF: sub_25374+189o
					; sub_25374+19Cr
word_2D0D1	dw 0			; DATA XREF: sub_25374+194r
word_2D0D3	dw 0			; DATA XREF: sub_25374+1C5o
					; sub_25374+1E0r
word_2D0D5	dw 0			; DATA XREF: sub_25374+1E4r
; __int32 word_2D0D7
word_2D0D7	dw 0			; DATA XREF: sub_25374+1ECw
					; sub_25374+2A5r
word_2D0D9	dw 0			; DATA XREF: sub_25374+1E8w
					; sub_25374+2A1r
word_2D0DB	dw 0			; DATA XREF: sub_25374+1FCo
					; sub_25374+207r
word_2D0DD	dw 0			; DATA XREF: sub_25374+22Fo
					; sub_25374+23Ar ...
word_2D0DF	dw 0			; DATA XREF: sub_25374+27Co
					; sub_25374+30Fr
unk_2D0E1	db    0			; DATA XREF: sub_25374+294o
		db    0
word_2D0E3	dw 0			; DATA XREF: sub_25374+2C6o
					; sub_25374+2D9r
word_2D0E5	dw 0			; DATA XREF: sub_25374+2D1r
word_2D0E7	dw 0			; DATA XREF: sub_25374+302o
					; sub_25374+340r ...
word_2D0E9	dw 0			; DATA XREF: sub_25374:loc_256ABr
					; sub_25374:loc_256CAr	...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_2D16C	dw 0			; DATA XREF: _clock+1Ar seg000:1227w
word_2D16E	dw 0			; DATA XREF: _clock+1Er seg000:1223w
word_2D170	dw 0			; DATA XREF: _clock+2Er seg000:122Dw
dword_2D172	dd 0			; DATA XREF: seg000:1244r _ctrlbrk+Fw	...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
dword_2D184	dd 0			; DATA XREF: sub_10E09+Cr
					; sub_10E09+1Dr ...
		db    0
		db    0
		db    0
		db    0
word_2D18C	dw 0			; DATA XREF: seg000:2F49r seg000:3016w ...
word_2D18E	dw 0			; DATA XREF: seg000:2F45r seg000:3012w ...
byte_2D190	db 0			; DATA XREF: _fgetc:loc_1425Ar
					; _fgetc+F0r
		align 2
byte_2D192	db 0			; DATA XREF: _fputc+8w
					; _fputc:loc_147B1r ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
dword_2D19C	dd 0			; DATA XREF: sub_17966+ACw
					; sub_17966+C2r ...
dword_2D1A0	dd 0			; DATA XREF: __ExceptionHandler+2BEw
					; __ExceptionHandler+2D1r ...
		db    0
		db    0
word_2D1A6	dw 0			; DATA XREF: seg000:9077w
					; __hardresume+8r ...
dword_2D1A8	dd 0			; DATA XREF: seg000:90A7r
					; ___harderr+Fw ...
dword_2D1AC	dd 0			; DATA XREF: seg000:908Er __harderr+Fw ...
word_2D1B0	dw 0			; DATA XREF: seg000:907Br
					; ___harderr+12w ...
		align 10h
seg022		ends

; ===========================================================================

; Segment type:	Uninitialized
seg023		segment	byte stack 'STACK' use16
		assume cs:seg023
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
seg_2D1C0	db 80h dup(0), 1Bh, 5, 98h, 13h, 0A8h, 29h, 85h, 0, 13h
		db 65h,	78h, 65h, 63h, 5Fh, 69h, 6Eh, 74h, 5Fh,	76h, 73h
		db 79h,	6Eh, 63h, 5Fh, 65h, 78h, 65h, 63h, 10h,	0Bh, 1Ch
		db 1, 4, 0Bh, 69h, 6Eh,	74h, 5Fh, 74h, 69h, 6Dh, 65h, 72h
		db 41h,	54h, 10h, 0Bh, 0FBh, 0,	4, 0Bh,	69h, 6Eh, 74h
		db 5Fh,	76h, 73h, 79h, 6Eh, 63h, 39h, 38h, 14h,	0Bh, 40h
		db 1, 0, 0Fh, 69h, 6Eh,	74h, 5Fh, 76h, 73h, 79h, 6Eh, 63h
		db 5Fh,	63h, 6Fh, 75h, 6Eh, 74h, 13h, 0Bh, 99h,	1, 0, 0Eh
		db 69h,	6Eh, 74h, 5Fh, 76h, 73h, 79h, 6Eh, 63h,	5Fh, 65h
		db 78h,	65h, 63h, 19h, 5, 9Ch, 13h, 0A8h, 29h, 85h, 0
		db 11h,	69h, 6Eh, 74h, 5Fh, 76h, 73h, 79h, 6Eh,	63h, 5Fh
		db 65h,	78h, 65h, 63h, 5Fh, 73h, 70h, 19h, 5, 9Ah, 13h
		db 0A8h, 29h, 85h, 0, 11h, 69h,	6Eh, 74h, 5Fh, 76h, 73h
		db 79h,	6Eh, 63h, 5Fh, 65h, 78h, 65h, 63h, 5Fh,	2 dup(73h)
		db 1Fh,	5, 40h,	8, 0F4h, 2Bh, 85h, 0, 17h, 69h,	6Eh, 74h
		db 5Fh,	76h, 73h, 79h, 6Eh, 63h, 5Fh, 65h, 78h,	65h, 63h
		db 5Fh,	73h, 74h, 61h, 63h, 6Bh, 62h, 74h, 6Dh,	16h, 0Bh
		db 6Dh,	1, 0, 11h, 69h,	6Eh, 74h, 5Fh, 76h, 73h, 79h, 6Eh
		db 63h,	5Fh, 70h, 61h, 6Ch, 65h, 74h, 39h, 38h,	1Ch, 5
		db 15h,	0, 20h,	1Fh, 84h, 0, 14h, 69h, 6Eh, 74h, 63h, 74h
		db 72h,	6Ch, 39h, 38h, 5Fh, 6Dh, 5Fh, 64h, 61h,	74h, 61h
		db 5Fh,	6Fh, 72h, 67h, 16h, 5, 11h, 0, 20h, 1Fh, 86h, 0
		db 0Eh,	6Fh, 72h, 67h, 76h, 65h, 63h, 5Fh, 74h,	69h, 6Dh
		db 65h,	72h, 41h, 54h, 16h, 5, 0Dh, 0, 20h, 1Fh, 86h, 0
		db 0Eh,	6Fh, 72h, 67h, 76h, 65h, 63h, 5Fh, 76h,	73h, 79h
		db 6Eh,	63h, 39h, 38h, 3 dup(0), 13h, 0Bh, 0DFh, 21h, 0
		db 0Eh,	5Fh, 67h, 5Fh, 63h, 6Fh, 70h, 79h, 5Fh,	41h, 54h
		db 76h,	72h, 61h, 6Dh, 10h, 0Bh, 0BCh, 22h, 0, 0Bh, 5Fh
		db 67h,	5Fh, 63h, 6Fh, 70h, 79h, 5Fh, 65h, 6Eh,	64h, 10h
		db 0Bh,	62h, 21h, 0, 0Bh, 5Fh, 67h, 5Fh, 63h, 6Fh, 70h
		db 79h,	5Fh, 72h, 61h, 6Dh, 18h, 0Bh, 0C0h, 29h, 0, 13h
		db 5Fh,	67h, 5Fh, 64h, 65h, 63h, 6Fh, 64h, 65h,	5Fh, 2 dup(70h)
		db 5Fh,	41h, 54h, 76h, 72h, 61h, 6Dh, 1Ch, 0Bh,	64h, 2Ch
		db 0, 17h, 5Fh,	67h, 5Fh, 64h, 65h, 63h, 6Fh, 64h, 65h
		db 5Fh,	2 dup(70h), 5Fh, 61h, 6Eh, 64h,	5Fh, 41h, 54h
		db 76h,	72h, 61h, 6Dh, 19h, 0Bh, 0E5h, 2Ch, 0, 14h, 5Fh
		db 67h,	5Fh, 64h, 65h, 63h, 6Fh, 64h, 65h, 5Fh,	2 dup(70h)
		db 5Fh,	61h, 6Eh, 64h, 5Fh, 65h, 6Eh, 64h, 15h,	0Bh, 41h
		db 2Ah,	0, 10h,	5Fh, 67h, 5Fh, 64h, 65h, 63h, 6Fh, 64h
		db 65h,	5Fh, 2 dup(70h), 5Fh, 65h, 6Eh,	64h, 1Bh, 0Bh
		db 12h,	2Bh, 0,	16h, 5Fh, 67h, 5Fh, 64h, 65h, 63h, 6Fh
		db 64h,	65h, 5Fh, 2 dup(70h), 5Fh, 6Fh,	72h, 5Fh, 41h
		db 54h,	76h, 72h, 61h, 6Dh, 18h, 0Bh, 93h, 2Bh,	0, 13h
		db 5Fh,	67h, 5Fh, 64h, 65h, 63h, 6Fh, 64h, 65h,	5Fh, 2 dup(70h)
		db 5Fh,	6Fh, 72h, 5Fh, 65h, 6Eh, 64h, 1Bh, 0Bh,	0FDh, 27h
		db 0, 16h, 5Fh,	67h, 5Fh, 6Dh, 61h, 73h, 6Bh, 62h, 6Fh
		db 78h,	5Fh, 63h, 6Fh, 70h, 79h, 5Fh, 41h, 54h,	76h, 72h
		db 61h,	6Dh, 18h, 0Bh, 0EFh, 28h, 0, 13h, 5Fh, 67h, 5Fh
		db 6Dh,	61h, 73h, 6Bh, 62h, 6Fh, 78h, 5Fh, 63h,	6Fh, 70h
		db 79h,	5Fh, 65h, 6Eh, 64h, 18h, 0Bh, 66h, 27h,	0, 13h
		db 5Fh,	67h, 5Fh, 6Dh, 61h, 73h, 6Bh, 62h, 6Fh,	78h, 5Fh
		db 63h,	6Fh, 70h, 79h, 5Fh, 72h, 61h, 6Dh, 0Fh,	0Bh, 75h
		db 1Dh,	0, 0Ah,	5Fh, 67h, 5Fh, 77h, 72h, 69h, 74h, 65h
		db 5Fh,	31h, 0Fh, 0Bh, 6Bh, 1Dh, 0, 0Ah, 5Fh, 67h, 5Fh
		db 77h,	72h, 69h, 74h, 65h, 5Fh, 32h, 11h, 0Bh,	39h, 1Dh
		db 0, 0Ch, 5Fh,	67h, 5Fh, 77h, 72h, 69h, 74h, 65h, 5Fh
		db 32h,	6Eh, 31h, 0Fh, 0Bh, 60h, 1Dh, 0, 0Ah, 5Fh, 67h
		db 5Fh,	77h, 72h, 69h, 74h, 65h, 5Fh, 33h, 0Fh,	0Bh, 55h
		db 1Dh,	0, 0Ah,	5Fh, 67h, 5Fh, 77h, 72h, 69h, 74h, 65h
		db 5Fh,	34h, 0Fh, 0Bh, 49h, 1Dh, 0, 0Ah, 5Fh, 67h, 5Fh
		db 77h,	72h, 69h, 74h, 65h, 5Fh, 36h, 13h, 0Bh,	65h, 1Fh
		db 0, 0Eh, 5Fh,	67h, 5Fh, 77h, 72h, 69h, 74h, 65h, 5Fh
		db 61h,	6Eh, 64h, 5Fh, 31h, 13h, 0Bh, 55h, 1Fh,	0, 0Eh
		db 5Fh,	67h, 5Fh, 77h, 72h, 69h, 74h, 65h, 5Fh,	61h, 6Eh
		db 64h,	5Fh, 32h, 13h, 0Bh, 40h, 1Fh, 0, 0Eh, 5Fh, 67h
		db 5Fh,	77h, 72h, 69h, 74h, 65h, 5Fh, 61h, 6Eh,	64h, 5Fh
		db 33h,	15h, 0Bh, 71h, 1Fh, 0, 10h, 5Fh, 67h, 5Fh, 77h
		db 72h,	69h, 74h, 65h, 5Fh, 61h, 6Eh, 64h, 5Fh,	65h, 6Eh
		db 64h,	17h, 0Bh, 69h, 20h, 0, 12h, 5Fh, 67h, 5Fh, 77h
		db 72h,	69h, 74h, 65h, 5Fh, 61h, 6Eh, 64h, 5Fh,	6Eh, 6Fh
		db 74h,	5Fh, 31h, 17h, 0Bh, 57h, 20h, 0, 12h, 5Fh, 67h
		db 5Fh,	77h, 72h, 69h, 74h, 65h, 5Fh, 61h, 6Eh,	64h, 5Fh
		db 6Eh,	6Fh, 74h, 5Fh, 32h, 17h, 0Bh, 3Eh, 20h,	0, 12h
		db 5Fh,	67h, 5Fh, 77h, 72h, 69h, 74h, 65h, 5Fh,	61h, 6Eh
		db 64h,	5Fh, 6Eh, 6Fh, 74h, 5Fh, 33h, 19h, 0Bh,	77h, 20h
		db 0, 14h, 5Fh,	67h, 5Fh, 77h, 72h, 69h, 74h, 65h, 5Fh
		db 61h,	6Eh, 64h, 5Fh, 6Eh, 6Fh, 74h, 5Fh, 65h,	6Eh, 64h
		db 11h,	0Bh, 7Dh, 1Dh, 0, 0Ch, 5Fh, 67h, 5Fh, 77h, 72h
		db 69h,	74h, 65h, 5Fh, 65h, 6Eh, 64h, 12h, 0Bh,	6Bh, 1Eh
		db 0, 0Dh, 5Fh,	67h, 5Fh, 77h, 72h, 69h, 74h, 65h, 5Fh
		db 6Fh,	72h, 5Fh, 31h, 12h, 0Bh, 5Bh, 1Eh, 0, 0Dh, 5Fh
		db 67h,	5Fh, 77h, 72h, 69h, 74h, 65h, 5Fh, 6Fh,	72h, 5Fh
		db 32h,	12h, 0Bh, 46h, 1Eh, 0, 0Dh, 5Fh, 67h, 5Fh, 77h
		db 72h,	69h, 74h, 65h, 5Fh, 6Fh, 72h, 5Fh, 33h,	14h, 0Bh
		db 77h,	1Eh, 0,	0Fh, 5Fh, 67h, 5Fh, 77h, 72h, 69h, 74h
		db 65h,	5Fh, 6Fh, 72h, 5Fh, 65h, 6Eh, 64h, 13h,	0Bh, 0C3h
		db 24h,	0, 0Eh,	5Fh, 67h, 5Fh, 78h, 63h, 68h, 67h, 5Fh
		db 41h,	54h, 76h, 72h, 61h, 6Dh, 10h, 0Bh, 4Ch,	26h, 0
		db 0Bh,	5Fh, 67h, 5Fh, 78h, 63h, 68h, 67h, 5Fh,	65h, 6Eh
		db 64h,	10h, 0Bh, 0A7h,	23h, 0,	0Bh, 5Fh, 67h, 5Fh, 78h
		db 63h,	68h, 67h, 5Fh, 72h, 61h, 6Dh, 5	dup(0),	21h, 0Bh
		db 66h,	7, 0, 1Ch, 5Fh,	6Dh, 6Ch, 6Fh, 61h, 64h, 5Fh, 67h
		db 64h,	61h, 74h, 61h, 5Fh, 74h, 79h, 70h, 65h,	34h, 5Fh
		db 65h,	6Eh, 2 dup(64h), 65h, 63h, 6Fh,	64h, 65h, 1Fh
		db 5, 0B9h, 7, 0EBh, 22h, 85h, 0, 17h, 5Fh, 6Dh, 6Ch, 6Fh
		db 61h,	64h, 5Fh, 67h, 64h, 61h, 74h, 61h, 5Fh,	74h, 79h
		db 70h,	65h, 34h, 5Fh, 6Fh, 66h, 73h, 74h, 0Eh dup(0)
		db 10h,	0Bh, 9,	1, 0, 0Bh, 67h,	5Fh, 72h, 6Fh, 74h, 31h
		db 5Fh,	64h, 72h, 61h, 77h, 10h, 0Bh, 0F2h, 2 dup(0), 0Bh
		db 67h,	5Fh, 72h, 6Fh, 74h, 31h, 5Fh, 6Ch, 2 dup(6Fh)
		db 70h,	0Eh dup(0), 1, 3, 0, 72h, 80h, 73h, 1, 3, 0, 72h
		db 80h,	74h, 4 dup(0), 1, 3, 0,	72h, 80h, 73h, 1, 3, 0
		db 72h,	80h, 74h, 4 dup(0), 1, 3, 0, 72h, 80h, 73h, 1
		db 3, 0, 72h, 80h, 74h,	4 dup(0), 1, 3,	0, 72h,	80h, 73h
		db 1, 3, 0, 72h, 80h, 74h
seg023		ends


		end start
